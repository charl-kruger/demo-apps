function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _createForOfIteratorHelper(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=_unsupportedIterableToArray(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,s=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,i=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _construct(t,e,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=_superPropBase(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){return function(){var e,n=_getPrototypeOf(t);if(_isNativeReflectConstruct()){var r=_getPrototypeOf(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("mrSG"),o=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,s=n("q/0M"),a=n("zVF4"),u=n("S+S0"),l=n("x7I3"),c=o.SDK_VERSION,h=function(){function t(t){this.uid=t}return t.prototype.t=function(){return null!=this.uid},t.prototype.s=function(){return this.t()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();h.UNAUTHENTICATED=new h(null),h.i=new h("google-credentials-uid"),h.o=new h("first-party-uid");var f={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},d=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return i.__extends(e,t),e}(Error),p=function(t,e){this.user=e,this.type="OAuth",this.h={},this.h.Authorization="Bearer "+t},v=function(){function t(){this.u=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype._=function(){},t.prototype.l=function(t){this.u=t,t(h.UNAUTHENTICATED)},t.prototype.T=function(){this.u=null},t}(),m=function(){function t(t){var e=this;this.m=null,this.currentUser=h.UNAUTHENTICATED,this.I=!1,this.R=0,this.u=null,this.forceRefresh=!1,this.m=function(){e.R++,e.currentUser=e.A(),e.I=!0,e.u&&e.u(e.currentUser)},this.R=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.m):(this.m(null),t.get().then((function(t){e.auth=t,e.m&&e.auth.addAuthTokenListener(e.m)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.R,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){if(t.R!==e)throw new d(f.ABORTED,"getToken aborted due to token change.");return n?(Ee("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new p(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype._=function(){this.forceRefresh=!0},t.prototype.l=function(t){this.u=t,this.I&&t(this.currentUser)},t.prototype.T=function(){this.auth&&this.auth.removeAuthTokenListener(this.m),this.m=null,this.u=null},t.prototype.A=function(){var t=this.auth&&this.auth.getUid();return Ee(null===t||"string"==typeof t,"Received invalid UID: "+t),new h(t)},t}(),y=function(){function t(t,e){this.P=t,this.V=e,this.type="FirstParty",this.user=h.o}return Object.defineProperty(t.prototype,"h",{get:function(){var t={"X-Goog-AuthUser":this.V},e=this.P.auth.g([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),g=function(){function t(t,e){this.P=t,this.V=e}return t.prototype.getToken=function(){return Promise.resolve(new y(this.P,this.V))},t.prototype.l=function(t){t(h.o)},t.prototype.T=function(){},t.prototype._=function(){},t}(),_=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new d(f.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new d(f.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new d(f.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new d(f.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.p=function(t){return this.seconds===t.seconds?Se(this.nanoseconds,t.nanoseconds):Se(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),b=function(){function t(t){this.timestamp=t}return t.v=function(e){return new t(e)},t.S=function(){return t.MIN},t.prototype.D=function(t){return this.timestamp.p(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.C=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.k=function(){return this.timestamp},t}();b.MIN=new b(new _(0,0));var w=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Ce("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&Ce("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.N=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.N},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.F(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.$(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.M=function(t){return this.$(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.L=function(){return this.$(this.segments,this.offset,this.length-1)},t.prototype.O=function(){return this.segments[this.offset]},t.prototype.B=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.U=function(){return 0===this.length},t.prototype.q=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.W=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.j=function(){return this.segments.slice(this.offset,this.limit())},t.F=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),k=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.$=function(t,n,r){return new e(t,n,r)},e.prototype.K=function(){return this.j().join("/")},e.prototype.toString=function(){return this.K()},e.G=function(t){if(t.indexOf("//")>=0)throw new d(f.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e}(w);k.H=new k([]);var C=/^[_a-zA-Z][_a-zA-Z0-9]*$/,E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.$=function(t,n,r){return new e(t,n,r)},e.J=function(t){return C.test(t)},e.prototype.K=function(){return this.j().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.J(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.K()},e.prototype.Y=function(){return 1===this.length&&"__name__"===this.get(0)},e.X=function(){return new e(["__name__"])},e.Z=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new d(f.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new d(f.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new d(f.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new d(f.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e}(w);E.H=new E([]);var T=function(){function t(t){this.path=t}return t.tt=function(e){return new t(k.G(e).M(5))},t.prototype.et=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===k.F(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.F=function(t,e){return k.F(t.path,e.path)},t.st=function(t){return t.length%2==0},t.nt=function(e){return new t(new k(e.slice()))},t}();T.EMPTY=new T(new k([]));var S=function(){function t(t,e){this.F=t,this.root=e||A.EMPTY}return t.prototype.it=function(e,n){return new t(this.F,this.root.it(e,n,this.F).rt(null,null,A.ot,null,null))},t.prototype.remove=function(e){return new t(this.F,this.root.remove(e,this.F).rt(null,null,A.ot,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.U();){var n=this.F(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.U();){var r=this.F(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.U=function(){return this.root.U()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.ht=function(){return this.root.ht()},t.prototype.at=function(){return this.root.at()},t.prototype.ut=function(t){return this.root.ut(t)},t.prototype.forEach=function(t){this.ut((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ut((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.ct=function(t){return this.root.ct(t)},t.prototype._t=function(){return new I(this.root,null,this.F,!1)},t.prototype.lt=function(t){return new I(this.root,t,this.F,!1)},t.prototype.dt=function(){return new I(this.root,null,this.F,!0)},t.prototype.ft=function(t){return new I(this.root,t,this.F,!0)},t}(),I=function(){function t(t,e,n,r){this.Tt=r,this.Et=[];for(var i=1;!t.U();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.Tt?t.left:t.right;else{if(0===i){this.Et.push(t);break}this.Et.push(t),t=this.Tt?t.right:t.left}}return t.prototype.wt=function(){var t=this.Et.pop(),e={key:t.key,value:t.value};if(this.Tt)for(t=t.left;!t.U();)this.Et.push(t),t=t.right;else for(t=t.right;!t.U();)this.Et.push(t),t=t.left;return e},t.prototype.It=function(){return this.Et.length>0},t.prototype.Rt=function(){if(0===this.Et.length)return null;var t=this.Et[this.Et.length-1];return{key:t.key,value:t.value}},t}(),A=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.rt=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.U=function(){return!1},t.prototype.ut=function(t){return this.left.ut(t)||t(this.key,this.value)||this.right.ut(t)},t.prototype.ct=function(t){return this.right.ct(t)||t(this.key,this.value)||this.left.ct(t)},t.prototype.min=function(){return this.left.U()?this:this.left.min()},t.prototype.ht=function(){return this.min().key},t.prototype.at=function(){return this.right.U()?this.key:this.right.at()},t.prototype.it=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.rt(null,null,null,r.left.it(t,e,n),null):0===i?r.rt(null,e,null,null,null):r.rt(null,null,null,null,r.right.it(t,e,n))).At()},t.prototype.Pt=function(){if(this.left.U())return t.EMPTY;var e=this;return e.left.Vt()||e.left.left.Vt()||(e=e.gt()),(e=e.rt(null,null,null,e.left.Pt(),null)).At()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.U()||i.left.Vt()||i.left.left.Vt()||(i=i.gt()),i=i.rt(null,null,null,i.left.remove(e,n),null);else{if(i.left.Vt()&&(i=i.pt()),i.right.U()||i.right.Vt()||i.right.left.Vt()||(i=i.yt()),0===n(e,i.key)){if(i.right.U())return t.EMPTY;r=i.right.min(),i=i.rt(r.key,r.value,null,null,i.right.Pt())}i=i.rt(null,null,null,null,i.right.remove(e,n))}return i.At()},t.prototype.Vt=function(){return this.color},t.prototype.At=function(){var t=this;return t.right.Vt()&&!t.left.Vt()&&(t=t.bt()),t.left.Vt()&&t.left.left.Vt()&&(t=t.pt()),t.left.Vt()&&t.right.Vt()&&(t=t.vt()),t},t.prototype.gt=function(){var t=this.vt();return t.right.left.Vt()&&(t=(t=(t=t.rt(null,null,null,null,t.right.pt())).bt()).vt()),t},t.prototype.yt=function(){var t=this.vt();return t.left.left.Vt()&&(t=(t=t.pt()).vt()),t},t.prototype.bt=function(){var e=this.rt(null,null,t.RED,null,this.right.left);return this.right.rt(null,null,this.color,e,null)},t.prototype.pt=function(){var e=this.rt(null,null,t.RED,this.left.right,null);return this.left.rt(null,null,this.color,null,e)},t.prototype.vt=function(){var t=this.left.rt(null,null,!this.left.color,null,null),e=this.right.rt(null,null,!this.right.color,null,null);return this.rt(null,null,!this.color,t,e)},t.prototype.St=function(){var t=this.Dt();return Math.pow(2,t)<=this.size+1},t.prototype.Dt=function(){if(this.Vt()&&this.left.Vt())throw Ce("Red node has red child("+this.key+","+this.value+")");if(this.right.Vt())throw Ce("Right child of ("+this.key+","+this.value+") is red");var t=this.left.Dt();if(t!==this.right.Dt())throw Ce("Black depths differ");return t+(this.Vt()?0:1)},t}();A.EMPTY=null,A.RED=!0,A.ot=!1,A.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ce("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ce("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ce("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ce("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ce("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),t.prototype.rt=function(t,e,n,r,i){return this},t.prototype.it=function(t,e,n){return new A(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.U=function(){return!0},t.prototype.ut=function(t){return!1},t.prototype.ct=function(t){return!1},t.prototype.ht=function(){return null},t.prototype.at=function(){return null},t.prototype.Vt=function(){return!1},t.prototype.St=function(){return!0},t.prototype.Dt=function(){return 0},t}());var x=function(){function t(t){this.F=t,this.data=new S(this.F)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.ht()},t.prototype.last=function(){return this.data.at()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ut((function(e,n){return t(e),!1}))},t.prototype.Ct=function(t,e){for(var n=this.data.lt(t[0]);n.It();){var r=n.wt();if(this.F(r.key,t[1])>=0)return;e(r.key)}},t.prototype.kt=function(t,e){var n;for(n=void 0!==e?this.data.lt(e):this.data._t();n.It();)if(!t(n.wt().key))return},t.prototype.Nt=function(t){var e=this.data.lt(t);return e.It()?e.wt().key:null},t.prototype._t=function(){return new N(this.data._t())},t.prototype.lt=function(t){return new N(this.data.lt(t))},t.prototype.add=function(t){return this.rt(this.data.remove(t).it(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.rt(this.data.remove(t)):this},t.prototype.U=function(){return this.data.U()},t.prototype.Ft=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data._t(),r=e.data._t();n.It();){var i=n.wt().key,o=r.wt().key;if(0!==this.F(i,o))return!1}return!0},t.prototype.j=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.rt=function(e){var n=new t(this.F);return n.data=e,n},t}(),N=function(){function t(t){this.$t=t}return t.prototype.wt=function(){return this.$t.wt().key},t.prototype.It=function(){return this.$t.It()},t}();function D(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function O(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function R(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var P=function(){function t(t){this.Mt=t}return t.fromBase64String=function(e){return new t(me.Lt().atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return me.Lt().btoa(this.Mt)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.Mt)},t.prototype.Ot=function(){return 2*this.Mt.length},t.prototype.D=function(t){return Se(this.Mt,t.Mt)},t.prototype.isEqual=function(t){return this.Mt===t.Mt},t}();function L(t){return null==t}function V(t){return-0===t&&1/t==-1/0}function M(t){return"number"==typeof t&&Number.isInteger(t)&&!V(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function F(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function j(t){var e=W(t.mapValue.fields.__local_write_time__.timestampValue);return new _(e.seconds,e.nanos)}P.xt=new P("");var U=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function B(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?F(t)?4:10:Ce("Invalid value type: "+JSON.stringify(t))}function q(t,e){var n=B(t);if(n!==B(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return j(t).isEqual(j(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=W(t.timestampValue),r=W(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Z(t.bytesValue).isEqual(Z(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Q(t.geoPointValue.latitude)===Q(e.geoPointValue.latitude)&&Q(t.geoPointValue.longitude)===Q(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Q(t.integerValue)===Q(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Q(t.doubleValue),r=Q(e.doubleValue);return n===r?V(n)===V(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Ie(t.arrayValue.values||[],e.arrayValue.values||[],q);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(D(n)!==D(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!q(n[i],r[i])))return!1;return!0}(t,e);default:return Ce("Unexpected value type: "+JSON.stringify(t))}}function z(t,e){return void 0!==(t.values||[]).find((function(t){return q(t,e)}))}function H(t,e){var n=B(t),r=B(e);if(n!==r)return Se(n,r);switch(n){case 0:return 0;case 1:return Se(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Q(t.integerValue||t.doubleValue),r=Q(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return G(t.timestampValue,e.timestampValue);case 4:return G(j(t),j(e));case 5:return Se(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Z(t),r=Z(e);return n.D(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Se(n[i],r[i]);if(0!==o)return o}return Se(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Se(Q(t.latitude),Q(e.latitude));return 0!==n?n:Se(Q(t.longitude),Q(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=H(n[i],r[i]);if(o)return o}return Se(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Se(r[s],o[s]);if(0!==a)return a;var u=H(n[r[s]],i[o[s]]);if(0!==u)return u}return Se(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Ce("Invalid value type: "+n)}}function G(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Se(t,e);var n=W(t),r=W(e),i=Se(n.seconds,r.seconds);return 0!==i?i:Se(n.nanos,r.nanos)}function K(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=W(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Z(e.bytesValue).toBase64():"referenceValue"in e?T.tt(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):Ce("Invalid value type: "+JSON.stringify(e));var n}(t)}function W(t){if(Ee(!!t,"Cannot normalize null or undefined timestamp."),"string"==typeof t){var e=0,n=U.exec(t);if(Ee(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Q(t.seconds),nanos:Q(t.nanos)}}function Q(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Z(t){return"string"==typeof t?P.fromBase64String(t):P.fromUint8Array(t)}function Y(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.K()}}function X(t){return!!t&&"integerValue"in t}function J(t){return!!t&&"arrayValue"in t}function $(t){return!!t&&"nullValue"in t}function tt(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function et(t){return!!t&&"mapValue"in t}var nt=function(){function t(){}return t.prototype.Bt=function(t,e){return function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(e,t)},t.prototype.Ut=function(t,e){return e},t.prototype.qt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t},t}();nt.instance=new nt;var rt=function(){function t(t){this.elements=t}return t.prototype.Bt=function(t,e){return this.apply(t)},t.prototype.Ut=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=st(t),n=function(t){e.some((function(e){return q(e,t)}))||e.push(t)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return{arrayValue:{values:e}}},t.prototype.qt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&Ie(this.elements,e.elements,q)},t}(),it=function(){function t(t){this.elements=t}return t.prototype.Bt=function(t,e){return this.apply(t)},t.prototype.Ut=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=st(t),n=function(t){e=e.filter((function(e){return!q(e,t)}))},r=0,i=this.elements;r<i.length;r++)n(i[r]);return{arrayValue:{values:e}}},t.prototype.qt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&Ie(this.elements,e.elements,q)},t}(),ot=function(){function t(t,e){this.serializer=t,this.Qt=e}return t.prototype.Bt=function(t,e){var n=this.qt(t),r=this.asNumber(n)+this.asNumber(this.Qt);return X(n)&&X(this.Qt)?this.serializer.Wt(r):this.serializer.jt(r)},t.prototype.Ut=function(t,e){return e},t.prototype.qt=function(t){return X(e=t)||function(t){return!!t&&"doubleValue"in t}(e)?t:{integerValue:0};var e},t.prototype.isEqual=function(e){return e instanceof t&&q(this.Qt,e.Qt)},t.prototype.asNumber=function(t){return Q(t.integerValue||t.doubleValue)},t}();function st(t){return J(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var at=function(){function t(t){this.fields=t}return t.Kt=function(e){return new t(e)},t.Gt=function(e){var n=new x(E.F);return e.forEach((function(t){return n=n.add(t)})),new t(n)},t.prototype.zt=function(t){var e=!1;return this.fields.forEach((function(n){n.q(t)&&(e=!0)})),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),ut=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),lt=function(t,e){this.version=t,this.transformResults=e},ct=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Ht",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.Jt=function(t){return void 0!==this.updateTime?t instanceof bt&&t.version.isEqual(this.updateTime):void 0===this.exists||this.exists===t instanceof bt},t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();ct.NONE=new ct;var ht=function(){function t(){}return t.prototype.Yt=function(t){},t.Xt=function(t){return t instanceof bt?t.version:b.MIN},t}(),ft=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Zt=r,i.type=0,i}return i.__extends(e,t),e.prototype.Ut=function(t,e){return this.Yt(t),new bt(this.key,e.version,this.value,{hasCommittedMutations:!0})},e.prototype.Bt=function(t,e,n){if(this.Yt(t),!this.Zt.Jt(t))return t;var r=ht.Xt(t);return new bt(this.key,r,this.value,{te:!0})},e.prototype.ee=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.Zt.isEqual(t.Zt)},e}(ht),dt=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.se=r,o.Zt=i,o.type=1,o}return i.__extends(e,t),e.prototype.Ut=function(t,e){if(this.Yt(t),!this.Zt.Jt(t))return new kt(this.key,e.version);var n=this.ne(t);return new bt(this.key,e.version,n,{hasCommittedMutations:!0})},e.prototype.Bt=function(t,e,n){if(this.Yt(t),!this.Zt.Jt(t))return t;var r=ht.Xt(t),i=this.ne(t);return new bt(this.key,r,i,{te:!0})},e.prototype.ee=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.se.isEqual(t.se)&&this.Zt.isEqual(t.Zt)},e.prototype.ne=function(t){var e;return e=t instanceof bt?t.data():yt.EMPTY,this.ie(e)},e.prototype.ie=function(t){var e=this,n=t.re();return this.se.fields.forEach((function(t){if(!t.U()){var r=e.data.field(t);null!==r?n.set(t,r):n.delete(t)}})),n.oe()},e}(ht),pt=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Zt=ct.exists(!0),r}return i.__extends(e,t),e.prototype.Ut=function(t,e){if(this.Yt(t),Ee(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.Zt.Jt(t))return new kt(this.key,e.version);var n=this.he(t),r=this.ae(t,e.transformResults),i=e.version,o=this.ue(n.data(),r);return new bt(this.key,i,o,{hasCommittedMutations:!0})},e.prototype.Bt=function(t,e,n){if(this.Yt(t),!this.Zt.Jt(t))return t;var r=this.he(t),i=this.ce(n,t,e),o=this.ue(r.data(),i);return new bt(this.key,r.version,o,{te:!0})},e.prototype.ee=function(t){for(var e=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=t instanceof bt?t.field(i.field):void 0,s=i.transform.qt(o||null);null!=s&&(e=null==e?yt._e().set(i.field,s):e.set(i.field,s))}return e?e.oe():null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&Ie(this.fieldTransforms,t.fieldTransforms,(function(t,e){return t.isEqual(e)}))&&this.Zt.isEqual(t.Zt)},e.prototype.he=function(t){return t},e.prototype.ae=function(t,e){var n=[];Ee(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,s=null;t instanceof bt&&(s=t.field(i.field)),n.push(o.Ut(s,e[r]))}return n},e.prototype.ce=function(t,e,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var s=o[i],a=s.transform,u=null;e instanceof bt&&(u=e.field(s.field)),null===u&&n instanceof bt&&(u=n.field(s.field)),r.push(a.Bt(u,t))}return r},e.prototype.ue=function(t,e){for(var n=t.re(),r=0;r<this.fieldTransforms.length;r++)n.set(this.fieldTransforms[r].field,e[r]);return n.oe()},e}(ht),vt=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Zt=n,r.type=3,r}return i.__extends(e,t),e.prototype.Ut=function(t,e){return this.Yt(t),new wt(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.Bt=function(t,e,n){return this.Yt(t),this.Zt.Jt(t)?new wt(this.key,b.S()):t},e.prototype.ee=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.Zt.isEqual(t.Zt)},e}(ht),mt=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Zt=n,r.type=4,r}return i.__extends(e,t),e.prototype.Ut=function(t,e){Ce("VerifyMutation should only be used in Transactions.")},e.prototype.Bt=function(t,e,n){Ce("VerifyMutation should only be used in Transactions.")},e.prototype.ee=function(t){Ce("VerifyMutation should only be used in Transactions.")},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.Zt.isEqual(t.Zt)},e}(ht),yt=function(){function t(t){this.proto=t}return t._e=function(){return t.EMPTY.re()},t.prototype.field=function(t){if(t.U())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!et(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.B()])||null},t.prototype.se=function(){return this.le(this.proto.mapValue)},t.prototype.le=function(t){var e=this,n=new x(E.F);return O(t.fields||{},(function(t,r){var i=new E([t]);if(10===B(r)){var o=e.le(r.mapValue).fields;o.U()?n=n.add(i):o.forEach((function(t){n=n.add(i.child(t))}))}else n=n.add(i)})),at.Kt(n)},t.prototype.isEqual=function(t){return q(this.proto,t.proto)},t.prototype.re=function(){return new gt(this)},t}();yt.EMPTY=new yt({mapValue:{}});var gt=function(){function t(t){this.de=t,this.fe=new Map}return t.prototype.set=function(t,e){return this.Te(t,e),this},t.prototype.delete=function(t){return this.Te(t,null),this},t.prototype.Te=function(t,e){for(var n=this.fe,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===B(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.B(),e)},t.prototype.oe=function(){var t=this.me(E.H,this.fe);return null!=t?new yt(t):this.de},t.prototype.me=function(t,e){var n=this,r=!1,i=this.de.field(t),o=et(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.me(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}(),_t=function(){function t(t,e){this.key=t,this.version=e}return t.Ee=function(t,e){return T.F(t.key,e.key)},t}(),bt=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).we=r,o.te=!!i.te,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return i.__extends(e,t),e.prototype.field=function(t){return this.we.field(t)},e.prototype.data=function(){return this.we},e.prototype.Ie=function(){return this.we.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.te===t.te&&this.hasCommittedMutations===t.hasCommittedMutations&&this.we.isEqual(t.we)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.we.toString()+", {hasLocalMutations: "+this.te+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.te||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.Re=function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?H(r,i):Ce("Trying to compare documents on fields that don't exist")},e}(_t),wt=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return i.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(_t),kt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(_t),Ct=function(){function t(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.Ae=null}return t.prototype.canonicalId=function(){if(null===this.Ae){var t=this.path.K();null!==this.collectionGroup&&(t+="|cg:"+this.collectionGroup),t+="|f:",t+=this.filters.map((function(t){return t.canonicalId()})).join(","),t+="|ob:",t+=this.orderBy.map((function(t){return t.canonicalId()})).join(","),L(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.Ae=t}return this.Ae},t.prototype.toString=function(){var t=this.path.K();return null!==this.collectionGroup&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),L(this.limit)||(t+=", limit: "+this.limit),this.orderBy.length>0&&(t+=", orderBy: ["+this.orderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),"Target("+t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(var n=0;n<this.filters.length;n++)if(!this.filters[n].isEqual(t.filters[n]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!!(null!==this.startAt?this.startAt.isEqual(t.startAt):null===t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.Pe=function(){return T.st(this.path)&&null===this.collectionGroup&&0===this.filters.length},t}(),Et=function(){function t(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Ve=n,this.filters=r,this.limit=i,this.ge=o,this.startAt=s,this.endAt=a,this.pe=null,this.ye=null,this.startAt&&this.be(this.startAt),this.endAt&&this.be(this.endAt)}return t.ve=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.pe){var t=this.Se(),e=this.De();if(null!==t&&null===e)this.pe=t.Y()?[Mt]:[new Vt(t),Mt];else{this.pe=[];for(var n=!1,r=0,i=this.Ve;r<i.length;r++){var o=i[r];this.pe.push(o),o.field.Y()&&(n=!0)}n||this.pe.push((this.Ve.length>0?this.Ve[this.Ve.length-1].dir:Ot.ASCENDING)===Ot.ASCENDING?Mt:Ft)}}return this.pe},enumerable:!0,configurable:!0}),t.prototype.Ce=function(e){var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.Ve.slice(),n,this.limit,this.ge,this.startAt,this.endAt)},t.prototype.ke=function(e){var n=this.Ve.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.ge,this.startAt,this.endAt)},t.prototype.Ne=function(e){return new t(this.path,this.collectionGroup,this.Ve.slice(),this.filters.slice(),e,"F",this.startAt,this.endAt)},t.prototype.Fe=function(e){return new t(this.path,this.collectionGroup,this.Ve.slice(),this.filters.slice(),e,"L",this.startAt,this.endAt)},t.prototype.$e=function(e){return new t(this.path,this.collectionGroup,this.Ve.slice(),this.filters.slice(),this.limit,this.ge,e,this.endAt)},t.prototype.Me=function(e){return new t(this.path,this.collectionGroup,this.Ve.slice(),this.filters.slice(),this.limit,this.ge,this.startAt,e)},t.prototype.Le=function(e){return new t(e,null,this.Ve.slice(),this.filters.slice(),this.limit,this.ge,this.startAt,this.endAt)},t.prototype.Oe=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.Ve.length||1===this.Ve.length&&this.Ve[0].field.Y())},t.prototype.canonicalId=function(){return this.xe().canonicalId()+"|lt:"+this.ge},t.prototype.toString=function(){return"Query(target="+this.xe().toString()+"; limitType="+this.ge+")"},t.prototype.isEqual=function(t){return this.xe().isEqual(t.xe())&&this.ge===t.ge},t.prototype.Be=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],s=o.compare(t,e);if(0!==s)return s;n=n||o.field.Y()}return 0},t.prototype.matches=function(t){return this.Ue(t)&&this.qe(t)&&this.Qe(t)&&this.We(t)},t.prototype.je=function(){return!L(this.limit)&&"F"===this.ge},t.prototype.Ke=function(){return!L(this.limit)&&"L"===this.ge},t.prototype.De=function(){return this.Ve.length>0?this.Ve[0].field:null},t.prototype.Se=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof St&&n.Ge())return n.field}return null},t.prototype.ze=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(r instanceof St&&t.indexOf(r.op)>=0)return r.op}return null},t.prototype.Pe=function(){return this.xe().Pe()},t.prototype.He=function(){return null!==this.collectionGroup},t.prototype.xe=function(){if(!this.ye)if("F"===this.ge)this.ye=new Ct(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],e=0,n=this.orderBy;e<n.length;e++){var r=n[e];t.push(new Vt(r.field,r.dir===Ot.DESCENDING?Ot.ASCENDING:Ot.DESCENDING))}var i=this.endAt?new Lt(this.endAt.position,!this.endAt.before):null,o=this.startAt?new Lt(this.startAt.position,!this.startAt.before):null;this.ye=new Ct(this.path,this.collectionGroup,t,this.filters,this.limit,i,o)}return this.ye},t.prototype.Ue=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.et(this.collectionGroup)&&this.path.q(e):T.st(this.path)?this.path.isEqual(e):this.path.W(e)},t.prototype.qe=function(t){for(var e=0,n=this.Ve;e<n.length;e++){var r=n[e];if(!r.field.Y()&&null===t.field(r.field))return!1}return!0},t.prototype.Qe=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.We=function(t){return!(this.startAt&&!this.startAt.Je(this.orderBy,t)||this.endAt&&this.endAt.Je(this.orderBy,t))},t.prototype.be=function(t){},t}(),Tt=function(){function t(t){this.name=t}return t.G=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;case"in":return t.IN;case"array-contains-any":return t.ARRAY_CONTAINS_ANY;default:return Ce("Unknown FieldFilter operator: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t}();Tt.LESS_THAN=new Tt("<"),Tt.LESS_THAN_OR_EQUAL=new Tt("<="),Tt.EQUAL=new Tt("=="),Tt.GREATER_THAN=new Tt(">"),Tt.GREATER_THAN_OR_EQUAL=new Tt(">="),Tt.ARRAY_CONTAINS=new Tt("array-contains"),Tt.IN=new Tt("in"),Tt.ARRAY_CONTAINS_ANY=new Tt("array-contains-any");var St=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return i.__extends(e,t),e.create=function(t,n,r){if(t.Y())return n===Tt.IN?new At(t,r):new It(t,n,r);if($(r)){if(n!==Tt.EQUAL)throw new d(f.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,r)}if(tt(r)){if(n!==Tt.EQUAL)throw new d(f.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,r)}return n===Tt.ARRAY_CONTAINS?new xt(t,r):n===Tt.IN?new Nt(t,r):n===Tt.ARRAY_CONTAINS_ANY?new Dt(t,r):new e(t,n,r)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&B(this.value)===B(e)&&this.Ye(H(e,this.value))},e.prototype.Ye=function(t){switch(this.op){case Tt.LESS_THAN:return t<0;case Tt.LESS_THAN_OR_EQUAL:return t<=0;case Tt.EQUAL:return 0===t;case Tt.GREATER_THAN:return t>0;case Tt.GREATER_THAN_OR_EQUAL:return t>=0;default:return Ce("Unknown FieldFilter operator: "+this.op)}},e.prototype.Ge=function(){return[Tt.LESS_THAN,Tt.LESS_THAN_OR_EQUAL,Tt.GREATER_THAN,Tt.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},e.prototype.canonicalId=function(){return this.field.K()+this.op.toString()+K(this.value)},e.prototype.isEqual=function(t){return t instanceof e&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&q(this.value,t.value)},e.prototype.toString=function(){return this.field.K()+" "+this.op+" "+K(this.value)},e}((function(){})),It=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=T.tt(r.referenceValue),i}return i.__extends(e,t),e.prototype.matches=function(t){var e=T.F(t.key,this.key);return this.Ye(e)},e}(St),At=function(t){function e(e,n){var r=this;return(r=t.call(this,e,Tt.IN,n)||this).keys=(n.arrayValue.values||[]).map((function(t){return T.tt(t.referenceValue)})),r}return i.__extends(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(St),xt=function(t){function e(e,n){return t.call(this,e,Tt.ARRAY_CONTAINS,n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return J(e)&&z(e.arrayValue,this.value)},e}(St),Nt=function(t){function e(e,n){return t.call(this,e,Tt.IN,n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&z(this.value.arrayValue,e)},e}(St),Dt=function(t){function e(e,n){return t.call(this,e,Tt.ARRAY_CONTAINS_ANY,n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!J(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return z(e.value.arrayValue,t)}))},e}(St),Ot=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t}();Ot.ASCENDING=new Ot("asc"),Ot.DESCENDING=new Ot("desc");var Rt,Pt,Lt=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){return(this.before?"b":"a")+":"+this.position.map((function(t){return K(t)})).join(",")},t.prototype.Je=function(t,e){for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(n=i.field.Y()?T.F(T.tt(o.referenceValue),e.key):H(o,e.field(i.field)),i.dir===Ot.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)if(!q(this.position[e],t.position[e]))return!1;return!0},t}(),Vt=function(){function t(t,e){this.field=t,void 0===e&&(e=Ot.ASCENDING),this.dir=e,this.Xe=t.Y()}return t.prototype.compare=function(t,e){var n=this.Xe?bt.Ee(t,e):bt.Re(this.field,t,e);switch(this.dir){case Ot.ASCENDING:return n;case Ot.DESCENDING:return-1*n;default:return Ce("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.K()+this.dir.toString()},t.prototype.toString=function(){return this.field.K()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),Mt=new Vt(E.X(),Ot.ASCENDING),Ft=new Vt(E.X(),Ot.DESCENDING),jt=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=b.MIN),void 0===o&&(o=b.MIN),void 0===s&&(s=P.xt),this.target=t,this.targetId=e,this.Ze=n,this.sequenceNumber=r,this.ts=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.es=function(e){return new t(this.target,this.targetId,this.Ze,e,this.ts,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.ss=function(e,n){return new t(this.target,this.targetId,this.Ze,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.ns=function(e){return new t(this.target,this.targetId,this.Ze,this.sequenceNumber,this.ts,e,this.resumeToken)},t}(),Ut=function(t){this.count=t};function Bt(t){switch(t){case f.OK:return Ce("Treated status OK as error");case f.CANCELLED:case f.UNKNOWN:case f.DEADLINE_EXCEEDED:case f.RESOURCE_EXHAUSTED:case f.INTERNAL:case f.UNAVAILABLE:case f.UNAUTHENTICATED:return!1;case f.INVALID_ARGUMENT:case f.NOT_FOUND:case f.ALREADY_EXISTS:case f.PERMISSION_DENIED:case f.FAILED_PRECONDITION:case f.ABORTED:case f.OUT_OF_RANGE:case f.UNIMPLEMENTED:case f.DATA_LOSS:return!0;default:return Ce("Unknown status code: "+t)}}function qt(t){if(void 0===t)return we("GRPC error has no .code"),f.UNKNOWN;switch(t){case Rt.OK:return f.OK;case Rt.CANCELLED:return f.CANCELLED;case Rt.UNKNOWN:return f.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return f.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return f.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return f.INTERNAL;case Rt.UNAVAILABLE:return f.UNAVAILABLE;case Rt.UNAUTHENTICATED:return f.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return f.INVALID_ARGUMENT;case Rt.NOT_FOUND:return f.NOT_FOUND;case Rt.ALREADY_EXISTS:return f.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return f.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return f.FAILED_PRECONDITION;case Rt.ABORTED:return f.ABORTED;case Rt.OUT_OF_RANGE:return f.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return f.UNIMPLEMENTED;case Rt.DATA_LOSS:return f.DATA_LOSS;default:return Ce("Unknown status code: "+t)}}(Pt=Rt||(Rt={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";var zt=new S(T.F);function Ht(){return zt}function Gt(){return Ht()}var Kt=new S(T.F);function Wt(){return Kt}var Qt=new S(T.F);function Zt(){return Qt}var Yt=new x(T.F);function Xt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Yt,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Jt=new x(Se);function $t(){return Jt}var te=function(){function t(t){this.F=t?function(e,n){return t(e,n)||T.F(e.key,n.key)}:function(t,e){return T.F(t.key,e.key)},this.rs=Wt(),this.os=new S(this.F)}return t.hs=function(e){return new t(e.F)},t.prototype.has=function(t){return null!=this.rs.get(t)},t.prototype.get=function(t){return this.rs.get(t)},t.prototype.first=function(){return this.os.ht()},t.prototype.last=function(){return this.os.at()},t.prototype.U=function(){return this.os.U()},t.prototype.indexOf=function(t){var e=this.rs.get(t);return e?this.os.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.os.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.os.ut((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.rt(e.rs.it(t.key,t),e.os.it(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.rt(this.rs.remove(t),this.os.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.os._t(),r=e.os._t();n.It();){var i=n.wt().key,o=r.wt().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.rt=function(e,n){var r=new t;return r.F=this.F,r.rs=e,r.os=n,r},t}(),ee=function(){function t(){this.as=new S(T.F)}return t.prototype.track=function(t){var e=t.doc.key,n=this.as.get(e);n?0!==t.type&&3===n.type?this.as=this.as.it(e,t):3===t.type&&1!==n.type?this.as=this.as.it(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.as=this.as.it(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.as=this.as.it(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.as=this.as.remove(e):1===t.type&&2===n.type?this.as=this.as.it(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.as=this.as.it(e,{type:2,doc:t.doc}):Ce("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.as=this.as.it(e,t)},t.prototype.us=function(){var t=[];return this.as.ut((function(e,n){t.push(n)})),t},t}(),ne=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.cs=n,this.docChanges=r,this._s=i,this.fromCache=o,this.ls=s,this.ds=a}return t.fs=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,te.hs(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this._s.U()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.ls===t.ls&&this._s.isEqual(t._s)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.cs.isEqual(t.cs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),re=function(){function t(t,e,n,r,i){this.ts=t,this.Ts=e,this.ms=n,this.Es=r,this.ws=i}return t.Is=function(e,n){var r=new Map;return r.set(e,ie.Rs(e,n)),new t(b.MIN,r,$t(),Ht(),Xt())},t}(),ie=function(){function t(t,e,n,r,i){this.resumeToken=t,this.As=e,this.Ps=n,this.Vs=r,this.gs=i}return t.Rs=function(e,n){return new t(P.xt,n,Xt(),Xt(),Xt())},t}(),oe=function(t,e,n,r){this.ps=t,this.removedTargetIds=e,this.key=n,this.ys=r},se=function(t,e){this.targetId=t,this.bs=e},ae=function(t,e,n,r){void 0===n&&(n=P.xt),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},ue=function(){function t(){this.vs=0,this.Ss=he(),this.Ds=P.xt,this.Cs=!1,this.ks=!0}return Object.defineProperty(t.prototype,"As",{get:function(){return this.Cs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Ds},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Ns",{get:function(){return 0!==this.vs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Fs",{get:function(){return this.ks},enumerable:!0,configurable:!0}),t.prototype.$s=function(t){t.Ot()>0&&(this.ks=!0,this.Ds=t)},t.prototype.Ms=function(){var t=Xt(),e=Xt(),n=Xt();return this.Ss.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ce("Encountered invalid change type: "+i)}})),new ie(this.Ds,this.Cs,t,e,n)},t.prototype.Ls=function(){this.ks=!1,this.Ss=he()},t.prototype.Os=function(t,e){this.ks=!0,this.Ss=this.Ss.it(t,e)},t.prototype.xs=function(t){this.ks=!0,this.Ss=this.Ss.remove(t)},t.prototype.Bs=function(){this.vs+=1},t.prototype.Us=function(){this.vs-=1},t.prototype.qs=function(){this.ks=!0,this.Cs=!0},t}(),le=function(){function t(t){this.Qs=t,this.Ws=new Map,this.js=Ht(),this.Ks=ce(),this.Gs=new x(Se)}return t.prototype.zs=function(t){for(var e=0,n=t.ps;e<n.length;e++){var r=n[e];t.ys instanceof bt?this.Hs(r,t.ys):t.ys instanceof wt&&this.Js(r,t.key,t.ys)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Js(o[i],t.key,t.ys)},t.prototype.Ys=function(t){var e=this;this.Xs(t,(function(n){var r=e.Zs(n);switch(t.state){case 0:e.tn(n)&&r.$s(t.resumeToken);break;case 1:r.Us(),r.Ns||r.Ls(),r.$s(t.resumeToken);break;case 2:r.Us(),r.Ns||e.removeTarget(n);break;case 3:e.tn(n)&&(r.qs(),r.$s(t.resumeToken));break;case 4:e.tn(n)&&(e.en(n),r.$s(t.resumeToken));break;default:Ce("Unknown target watch change state: "+t.state)}}))},t.prototype.Xs=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Ws.forEach((function(t,r){n.tn(r)&&e(r)}))},t.prototype.sn=function(t){var e=t.targetId,n=t.bs.count,r=this.nn(e);if(r){var i=r.target;if(i.Pe())if(0===n){var o=new T(i.path);this.Js(e,o,new wt(o,b.S()))}else Ee(1===n,"Single document existence filter with count: "+n);else this.in(e)!==n&&(this.en(e),this.Gs=this.Gs.add(e))}},t.prototype.rn=function(t){var e=this,n=new Map;this.Ws.forEach((function(r,i){var o=e.nn(i);if(o){if(r.As&&o.target.Pe()){var s=new T(o.target.path);null!==e.js.get(s)||e.on(i,s)||e.Js(i,s,new wt(s,t))}r.Fs&&(n.set(i,r.Ms()),r.Ls())}}));var r=Xt();this.Ks.forEach((function(t,n){var i=!0;n.kt((function(t){var n=e.nn(t);return!n||2===n.Ze||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new re(t,n,this.Gs,this.js,r);return this.js=Ht(),this.Ks=ce(),this.Gs=new x(Se),i},t.prototype.Hs=function(t,e){if(this.tn(t)){var n=this.on(t,e.key)?2:0;this.Zs(t).Os(e.key,n),this.js=this.js.it(e.key,e),this.Ks=this.Ks.it(e.key,this.hn(e.key).add(t))}},t.prototype.Js=function(t,e,n){if(this.tn(t)){var r=this.Zs(t);this.on(t,e)?r.Os(e,1):r.xs(e),this.Ks=this.Ks.it(e,this.hn(e).delete(t)),n&&(this.js=this.js.it(e,n))}},t.prototype.removeTarget=function(t){this.Ws.delete(t)},t.prototype.in=function(t){var e=this.Zs(t).Ms();return this.Qs.an(t).size+e.Ps.size-e.gs.size},t.prototype.Bs=function(t){this.Zs(t).Bs()},t.prototype.Zs=function(t){var e=this.Ws.get(t);return e||(e=new ue,this.Ws.set(t,e)),e},t.prototype.hn=function(t){var e=this.Ks.get(t);return e||(e=new x(Se),this.Ks=this.Ks.it(t,e)),e},t.prototype.tn=function(t){var e=null!==this.nn(t);return e||be("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.nn=function(t){var e=this.Ws.get(t);return e&&e.Ns?null:this.Qs.un(t)},t.prototype.en=function(t){var e=this;this.Ws.set(t,new ue),this.Qs.an(t).forEach((function(n){e.Js(t,n,null)}))},t.prototype.on=function(t,e){return this.Qs.an(t).has(e)},t}();function ce(){return new S(T.F)}function he(){return new S(T.F)}var fe=function(){var t={};return t[Ot.ASCENDING.name]="ASCENDING",t[Ot.DESCENDING.name]="DESCENDING",t}(),de=function(){var t={};return t[Tt.LESS_THAN.name]="LESS_THAN",t[Tt.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",t[Tt.GREATER_THAN.name]="GREATER_THAN",t[Tt.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",t[Tt.EQUAL.name]="EQUAL",t[Tt.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",t[Tt.IN.name]="IN",t[Tt.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",t}(),pe=function(){function t(t,e){this.cn=t,this.options=e}return t.prototype._n=function(t){var e=void 0===t.code?f.UNKNOWN:qt(t.code);return new d(e,t.message||"")},t.prototype.ln=function(t){return this.options.dn||L(t)?t:{value:t}},t.prototype.fn=function(t){var e;return L(e="object"==typeof t?t.value:t)?null:e},t.prototype.Wt=function(t){return{integerValue:""+t}},t.prototype.jt=function(t){if(this.options.dn){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:V(t)?"-0":t}},t.prototype.Tn=function(t){return M(t)?this.Wt(t):this.jt(t)},t.prototype.k=function(t){return this.options.dn?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}},t.prototype.v=function(t){var e=W(t);return new _(e.seconds,e.nanos)},t.prototype.mn=function(t){return this.options.dn?t.toBase64():t.toUint8Array()},t.prototype.En=function(t){return this.options.dn?(Ee(void 0===t||"string"==typeof t,"value must be undefined or a string when using proto3 Json"),P.fromBase64String(t||"")):(Ee(void 0===t||t instanceof Uint8Array,"value must be undefined or Uint8Array"),P.fromUint8Array(t||new Uint8Array))},t.prototype.toVersion=function(t){return this.k(t.k())},t.prototype.fromVersion=function(t){return Ee(!!t,"Trying to deserialize version that isn't set"),b.v(this.v(t))},t.prototype.wn=function(t,e){return this.In(e||this.cn).child("documents").child(t).K()},t.prototype.Rn=function(t){var e=k.G(t);return Ee(ve(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.An=function(t){return this.wn(t.path)},t.prototype.tt=function(t){var e=this.Rn(t);return Ee(e.get(1)===this.cn.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.cn.projectId),Ee(!e.get(3)&&!this.cn.database||e.get(3)===this.cn.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.cn.database),new T(this.Pn(e))},t.prototype.Vn=function(t){return this.wn(t)},t.prototype.gn=function(t){var e=this.Rn(t);return 4===e.length?k.H:this.Pn(e)},Object.defineProperty(t.prototype,"pn",{get:function(){return new k(["projects",this.cn.projectId,"databases",this.cn.database]).K()},enumerable:!0,configurable:!0}),t.prototype.In=function(t){return new k(["projects",t.projectId,"databases",t.database])},t.prototype.Pn=function(t){return Ee(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.M(5)},t.prototype.yn=function(t,e){return{name:this.An(t),fields:e.proto.mapValue.fields}},t.prototype.bn=function(t){return{name:this.An(t.key),fields:t.Ie().mapValue.fields,updateTime:this.k(t.version.k())}},t.prototype.vn=function(t,e){var n=this.tt(t.name),r=this.fromVersion(t.updateTime),i=new yt({mapValue:{fields:t.fields}});return new bt(n,r,i,{hasCommittedMutations:!!e})},t.prototype.Sn=function(t){Ee(!!t.found,"Tried to deserialize a found document from a missing document.");var e=this.tt(t.found.name),n=this.fromVersion(t.found.updateTime),r=new yt({mapValue:{fields:t.found.fields}});return new bt(e,n,r,{})},t.prototype.Dn=function(t){Ee(!!t.missing,"Tried to deserialize a missing document from a found document."),Ee(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.tt(t.missing),n=this.fromVersion(t.readTime);return new wt(e,n)},t.prototype.Cn=function(t){return"found"in t?this.Sn(t):"missing"in t?this.Dn(t):Ce("invalid batch get response: "+JSON.stringify(t))},t.prototype.kn=function(t){var e;if("targetChange"in t){var n=this.Nn(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],i=this.En(t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&this._n(o);e=new ae(n,r,i,s||null)}else if("documentChange"in t){var a=t.documentChange,u=this.tt(a.document.name),l=this.fromVersion(a.document.updateTime),c=new yt({mapValue:{fields:a.document.fields}}),h=new bt(u,l,c,{});e=new oe(a.targetIds||[],a.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){var f=t.documentDelete,d=this.tt(f.document),p=f.readTime?this.fromVersion(f.readTime):b.S(),v=new wt(d,p);e=new oe([],f.removedTargetIds||[],v.key,v)}else if("documentRemove"in t){var m=t.documentRemove,y=this.tt(m.document);e=new oe([],m.removedTargetIds||[],y,null)}else{if(!("filter"in t))return Ce("Unknown change type "+JSON.stringify(t));var g=t.filter,_=new Ut(g.count||0);e=new se(g.targetId,_)}return e},t.prototype.Nn=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ce("Got unexpected TargetChange.state: "+t)},t.prototype.Fn=function(t){if(!("targetChange"in t))return b.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?b.MIN:e.readTime?this.fromVersion(e.readTime):b.MIN},t.prototype.$n=function(t){var e,n=this;if(t instanceof ft)e={update:this.yn(t.key,t.value)};else if(t instanceof vt)e={delete:this.An(t.key)};else if(t instanceof dt)e={update:this.yn(t.key,t.data),updateMask:this.Mn(t.se)};else if(t instanceof pt)e={transform:{document:this.An(t.key),fieldTransforms:t.fieldTransforms.map((function(t){return n.Ln(t)}))}};else{if(!(t instanceof mt))return Ce("Unknown mutation type "+t.type);e={verify:this.An(t.key)}}return t.Zt.Ht||(e.currentDocument=this.On(t.Zt)),e},t.prototype.xn=function(t){var e=this,n=t.currentDocument?this.Bn(t.currentDocument):ct.NONE;if(t.update){var r=this.tt(t.update.name),i=new yt({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=this.Un(t.updateMask);return new dt(r,i,o,n)}return new ft(r,i,n)}if(t.delete){var s=this.tt(t.delete);return new vt(s,n)}if(t.transform){var a=this.tt(t.transform.document),u=t.transform.fieldTransforms.map((function(t){return e.qn(t)}));return Ee(!0===n.exists,'Transforms only support precondition "exists == true"'),new pt(a,u)}if(t.verify){var l=this.tt(t.verify);return new mt(l,n)}return Ce("unknown mutation proto: "+JSON.stringify(t))},t.prototype.On=function(t){return void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ce("Unknown precondition")},t.prototype.Bn=function(t){return void 0!==t.updateTime?ct.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?ct.exists(t.exists):ct.NONE},t.prototype.Qn=function(t,e){var n=this.fromVersion(t.updateTime?t.updateTime:e);n.isEqual(b.MIN)&&(n=this.fromVersion(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new lt(n,r)},t.prototype.Wn=function(t,e){var n=this;return t&&t.length>0?(Ee(void 0!==e,"Received a write result without a commit time"),t.map((function(t){return n.Qn(t,e)}))):[]},t.prototype.Ln=function(t){var e=t.transform;if(e instanceof nt)return{fieldPath:t.field.K(),setToServerValue:"REQUEST_TIME"};if(e instanceof rt)return{fieldPath:t.field.K(),appendMissingElements:{values:e.elements}};if(e instanceof it)return{fieldPath:t.field.K(),removeAllFromArray:{values:e.elements}};if(e instanceof ot)return{fieldPath:t.field.K(),increment:e.Qt};throw Ce("Unknown transform: "+t.transform)},t.prototype.qn=function(t){var e=null;"setToServerValue"in t?(Ee("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),e=nt.instance):"appendMissingElements"in t?e=new rt(t.appendMissingElements.values||[]):"removeAllFromArray"in t?e=new it(t.removeAllFromArray.values||[]):"increment"in t?e=new ot(this,t.increment):Ce("Unknown transform proto: "+JSON.stringify(t));var n=E.Z(t.fieldPath);return new ut(n,e)},t.prototype.jn=function(t){return{documents:[this.Vn(t.path)]}},t.prototype.Kn=function(t){var e=t.documents.length;return Ee(1===e,"DocumentsTarget contained other than 1 document: "+e),Et.ve(this.gn(t.documents[0])).xe()},t.prototype.Gn=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(e.parent=this.Vn(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=this.Vn(n.L()),e.structuredQuery.from=[{collectionId:n.B()}]);var r=this.zn(t.filters);r&&(e.structuredQuery.where=r);var i=this.Hn(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.ln(t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.Jn(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.Jn(t.endAt)),e},t.prototype.Yn=function(t){var e=this.gn(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ee(1===r,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=this.Xn(n.where));var a=[];n.orderBy&&(a=this.Zn(n.orderBy));var u=null;n.limit&&(u=this.fn(n.limit));var l=null;n.startAt&&(l=this.ti(n.startAt));var c=null;return n.endAt&&(c=this.ti(n.endAt)),new Et(e,i,a,s,u,"F",l,c).xe()},t.prototype.ei=function(t){var e=this.si(t.Ze);return null==e?null:{"goog-listen-tags":e}},t.prototype.si=function(t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ce("Unrecognized query purpose: "+t)}},t.prototype.xe=function(t){var e,n=t.target;return(e=n.Pe()?{documents:this.jn(n)}:{query:this.Gn(n)}).targetId=t.targetId,t.resumeToken.Ot()>0&&(e.resumeToken=this.mn(t.resumeToken)),e},t.prototype.zn=function(t){var e=this;if(0!==t.length){var n=t.map((function(t){return t instanceof St?e.ni(t):Ce("Unrecognized filter: "+JSON.stringify(t))}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.Xn=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.ii(t)]:void 0!==t.fieldFilter?[this.ri(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e.Xn(t)})).reduce((function(t,e){return t.concat(e)})):Ce("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.Hn=function(t){var e=this;if(0!==t.length)return t.map((function(t){return e.oi(t)}))},t.prototype.Zn=function(t){var e=this;return t.map((function(t){return e.hi(t)}))},t.prototype.Jn=function(t){return{before:t.before,values:t.position}},t.prototype.ti=function(t){return new Lt(t.values||[],!!t.before)},t.prototype.ai=function(t){return fe[t.name]},t.prototype.ui=function(t){switch(t){case"ASCENDING":return Ot.ASCENDING;case"DESCENDING":return Ot.DESCENDING;default:return}},t.prototype.ci=function(t){return de[t.name]},t.prototype._i=function(t){switch(t){case"EQUAL":return Tt.EQUAL;case"GREATER_THAN":return Tt.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Tt.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Tt.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Tt.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return Tt.ARRAY_CONTAINS;case"IN":return Tt.IN;case"ARRAY_CONTAINS_ANY":return Tt.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return Ce("Unspecified operator");default:return Ce("Unknown operator")}},t.prototype.li=function(t){return{fieldPath:t.K()}},t.prototype.di=function(t){return E.Z(t.fieldPath)},t.prototype.oi=function(t){return{field:this.li(t.field),direction:this.ai(t.dir)}},t.prototype.hi=function(t){return new Vt(this.di(t.field),this.ui(t.direction))},t.prototype.ri=function(t){return St.create(this.di(t.fieldFilter.field),this._i(t.fieldFilter.op),t.fieldFilter.value)},t.prototype.ni=function(t){if(t.op===Tt.EQUAL){if(tt(t.value))return{unaryFilter:{field:this.li(t.field),op:"IS_NAN"}};if($(t.value))return{unaryFilter:{field:this.li(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.li(t.field),op:this.ci(t.op),value:t.value}}},t.prototype.ii=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.di(t.unaryFilter.field);return St.create(e,Tt.EQUAL,{doubleValue:NaN});case"IS_NULL":var n=this.di(t.unaryFilter.field);return St.create(n,Tt.EQUAL,{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce("Unspecified filter");default:return Ce("Unknown filter")}},t.prototype.Mn=function(t){var e=[];return t.fields.forEach((function(t){return e.push(t.K())})),{fieldPaths:e}},t.prototype.Un=function(t){var e=(t.fieldPaths||[]).map((function(t){return E.Z(t)}));return at.Gt(e)},t}();function ve(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var me=function(){function t(){}return t.fi=function(e){t.platform&&Ce("Platform already defined"),t.platform=e},t.Lt=function(){return t.platform||Ce("Platform not set"),t.platform},t}(),ye=new s.Logger("@firebase/firestore");function ge(){return ye.logLevel}function _e(t){ye.logLevel=t}function be(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ye.logLevel<=s.LogLevel.DEBUG){var r=e.map(ke);ye.debug.apply(ye,i.__spreadArrays(["Firestore ("+c+"): "+t],r))}}function we(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ye.logLevel<=s.LogLevel.ERROR){var r=e.map(ke);ye.error.apply(ye,i.__spreadArrays(["Firestore ("+c+"): "+t],r))}}function ke(t){if("string"==typeof t)return t;var e=me.Lt();try{return e.Ti(t)}catch(e){return t}}function Ce(t){var e="FIRESTORE ("+c+") INTERNAL ASSERTION FAILED: "+t;throw we(e),new Error(e)}function Ee(t,e){t||Ce(e)}var Te=function(){function t(){}return t.mi=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},t}();function Se(t,e){return t<e?-1:t>e?1:0}function Ie(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Ae(t){return t+"\0"}var xe=function(t,e,n,r,i){this.cn=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},Ne=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"Ei",{get:function(){return"(default)"===this.database},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.D=function(t){return Se(this.projectId,t.projectId)||Se(this.database,t.database)},t}(),De=function(){function t(t){this.wi=t,this.Ii={}}return t.prototype.get=function(t){var e=this.wi(t),n=this.Ii[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(o[0].isEqual(t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.wi(t),r=this.Ii[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.Ii[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.wi(t),n=this.Ii[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.Ii[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){O(this.Ii,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.U=function(){return R(this.Ii)},t}(),Oe=function(){function t(t,e,n,r){this.batchId=t,this.Ri=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ut=function(t,e,n){for(var r=n.Ai,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=o.Ut(e,r[i]))}return e},t.prototype.Bt=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=i.Bt(e,e,this.Ri))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=u.Bt(e,o,this.Ri))}return e},t.prototype.Pi=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.Bt(r.key,t.get(r.key));i&&(n=n.it(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Xt())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Ie(this.mutations,t.mutations,(function(t,e){return t.isEqual(e)}))&&Ie(this.baseMutations,t.baseMutations,(function(t,e){return t.isEqual(e)}))},t}(),Re=function(){function t(t,e,n,r,i){this.batch=t,this.Vi=e,this.Ai=n,this.streamToken=r,this.gi=i}return t.from=function(e,n,r,i){Ee(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var o=Zt(),s=e.mutations,a=0;a<s.length;a++)o=o.it(s[a].key,r[a].version);return new t(e,n,r,i,o)},t}(),Pe=function(){function t(){this.pi=new x(Le.Ee),this.yi=new x(Le.bi)}return t.prototype.U=function(){return this.pi.U()},t.prototype.vi=function(t,e){var n=new Le(t,e);this.pi=this.pi.add(n),this.yi=this.yi.add(n)},t.prototype.Si=function(t,e){var n=this;t.forEach((function(t){return n.vi(t,e)}))},t.prototype.Di=function(t,e){this.Ci(new Le(t,e))},t.prototype.ki=function(t,e){var n=this;t.forEach((function(t){return n.Di(t,e)}))},t.prototype.Ni=function(t){var e=this,n=T.EMPTY,r=new Le(n,t),i=new Le(n,t+1),o=[];return this.yi.Ct([r,i],(function(t){e.Ci(t),o.push(t.key)})),o},t.prototype.Fi=function(){var t=this;this.pi.forEach((function(e){return t.Ci(e)}))},t.prototype.Ci=function(t){this.pi=this.pi.delete(t),this.yi=this.yi.delete(t)},t.prototype.$i=function(t){var e=T.EMPTY,n=new Le(e,t),r=new Le(e,t+1),i=Xt();return this.yi.Ct([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Mi=function(t){var e=new Le(t,0),n=this.pi.Nt(e);return null!==n&&t.isEqual(n.key)},t}(),Le=function(){function t(t,e){this.key=t,this.Li=e}return t.Ee=function(t,e){return T.F(t.key,e.key)||Se(t.Li,e.Li)},t.bi=function(t,e){return Se(t.Li,e.Li)||T.F(t.key,e.key)},t}(),Ve=function(){function t(t){var e=this;this.Oi=null,this.xi=null,this.result=void 0,this.error=void 0,this.Bi=!1,this.Ui=!1,t((function(t){e.Bi=!0,e.result=t,e.Oi&&e.Oi(t)}),(function(t){e.Bi=!0,e.error=t,e.xi&&e.xi(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Ui&&Ce("Called next() or catch() twice for PersistencePromise"),this.Ui=!0,this.Bi?this.error?this.qi(n,this.error):this.Qi(e,this.result):new t((function(t,i){r.Oi=function(n){r.Qi(e,n).next(t,i)},r.xi=function(e){r.qi(n,e).next(t,i)}}))},t.prototype.Wi=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.ji=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Qi=function(e,n){return e?this.ji((function(){return e(n)})):t.resolve(n)},t.prototype.qi=function(e,n){return e?this.ji((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.Ki=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Gi=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.Ki(r)},t}(),Me=function(){function t(){this.zi=new De((function(t){return t.toString()})),this.Hi=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.Ji},set:function(t){this.Ji=t},enumerable:!0,configurable:!0}),t.prototype.Yi=function(t,e){this.Xi(),this.readTime=e,this.zi.set(t.key,t)},t.prototype.Zi=function(t,e){this.Xi(),e&&(this.readTime=e),this.zi.set(t,null)},t.prototype.tr=function(t,e){this.Xi();var n=this.zi.get(e);return void 0!==n?Ve.resolve(n):this.er(t,e)},t.prototype.getEntries=function(t,e){return this.sr(t,e)},t.prototype.apply=function(t){return this.Xi(),this.Hi=!0,this.nr(t)},t.prototype.Xi=function(){},t}(),Fe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",je=function(){function t(){this.ir=[]}return t.prototype.rr=function(t){this.ir.push(t)},t.prototype.or=function(){this.ir.forEach((function(t){return t()}))},t}(),Ue=function(){function t(t,e,n){this.hr=t,this.ar=e,this.ur=n}return t.prototype.cr=function(t,e){var n=this;return this.ar._r(t,e).next((function(r){return n.lr(t,e,r)}))},t.prototype.lr=function(t,e,n){return this.hr.tr(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Bt(e,t);return t}))},t.prototype.dr=function(t,e,n){var r=Gt();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Bt(t,e);r=r.it(t,e)})),r},t.prototype.Tr=function(t,e){var n=this;return this.hr.getEntries(t,e).next((function(e){return n.mr(t,e)}))},t.prototype.mr=function(t,e){var n=this;return this.ar.Er(t,e).next((function(r){var i=n.dr(t,e,r),o=Ht();return i.forEach((function(t,e){e||(e=new wt(t,b.S())),o=o.it(t,e)})),o}))},t.prototype.wr=function(t,e,n){return e.Pe()?this.Ir(t,e.path):e.He()?this.Rr(t,e,n):this.Ar(t,e,n)},t.prototype.Ir=function(t,e){return this.cr(t,new T(e)).next((function(t){var e=Wt();return t instanceof bt&&(e=e.it(t.key,t)),e}))},t.prototype.Rr=function(t,e,n){var r=this,i=e.collectionGroup,o=Wt();return this.ur.Pr(t,i).next((function(s){return Ve.forEach(s,(function(s){var a=e.Le(s.child(i));return r.Ar(t,a,n).next((function(t){t.forEach((function(t,e){o=o.it(t,e)}))}))})).next((function(){return o}))}))},t.prototype.Ar=function(t,e,n){var r,i,o=this;return this.hr.wr(t,e,n).next((function(n){return r=n,o.ar.Vr(t,e)})).next((function(e){return o.gr(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],l=u.key,c=r.get(l),h=u.Bt(c,c,o.Ri);r=h instanceof bt?r.it(l,h):r.remove(l)}}))})).next((function(){return r.forEach((function(t,n){e.matches(n)||(r=r.remove(t))})),r}))},t.prototype.gr=function(t,e,n){for(var r=Xt(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof dt&&null===n.get(u.key)&&(r=r.add(u.key))}var l=n;return this.hr.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof bt&&(l=l.it(t,e))})),l}))},t}(),Be=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.pr=n,this.yr=r}return t.br=function(e,n){for(var r=Xt(),i=Xt(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),qe=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.vr=function(t){return n.Sr(t)},this.Dr=function(t){return e.Cr(t)})}return t.prototype.Sr=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.Dr&&this.Dr(t),t},t}();qe.kr=-1;var ze=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},He=function(){function t(t,e,n,r,i){this.Nr=t,this.Fr=e,this.$r=n,this.op=r,this.Mr=i,this.Lr=new ze,this.then=this.Lr.promise.then.bind(this.Lr.promise),this.catch=this.Lr.promise.catch.bind(this.Lr.promise),this.Lr.promise.catch((function(t){}))}return t.Or=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.xr=setTimeout((function(){return e.Br()}),t)},t.prototype.Ur=function(){return this.Br()},t.prototype.cancel=function(t){null!==this.xr&&(this.clearTimeout(),this.Lr.reject(new d(f.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Br=function(){var t=this;this.Nr.qr((function(){return null!==t.xr?(t.clearTimeout(),t.op().then((function(e){return t.Lr.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.xr&&(this.Mr(this),clearTimeout(this.xr),this.xr=null)},t}(),Ge=function(){function t(){this.Qr=Promise.resolve(),this.Wr=!1,this.jr=[],this.Kr=null,this.Gr=!1,this.zr=[]}return Object.defineProperty(t.prototype,"Hr",{get:function(){return this.Wr},enumerable:!0,configurable:!0}),t.prototype.qr=function(t){this.enqueue(t)},t.prototype.Jr=function(t){this.Yr(),this.Xr(t)},t.prototype.Zr=function(t){return this.Yr(),this.Xr(t)},t.prototype.to=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.Yr(),this.Wr?[3,2]:(this.Wr=!0,[4,this.Zr(t)]);case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},t.prototype.enqueue=function(t){return this.Yr(),this.Wr?new Promise((function(t){})):this.Xr(t)},t.prototype.Xr=function(t){var e=this,n=this.Qr.then((function(){return e.Gr=!0,t().catch((function(t){throw e.Kr=t,e.Gr=!1,we("INTERNAL UNHANDLED ERROR: ",t.stack||t.message||""),t})).then((function(t){return e.Gr=!1,t}))}));return this.Qr=n,n},t.prototype.eo=function(t,e,n){var r=this;this.Yr(),this.zr.indexOf(t)>-1&&(e=0);var i=He.Or(this,t,e,n,(function(t){return r.so(t)}));return this.jr.push(i),i},t.prototype.Yr=function(){this.Kr&&Ce("AsyncQueue is already failed: "+(this.Kr.stack||this.Kr.message))},t.prototype.no=function(){},t.prototype.io=function(){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.Qr];case 1:e.sent(),e.label=2;case 2:if(t!==this.Qr)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.ro=function(t){for(var e=0,n=this.jr;e<n.length;e++)if(n[e].Fr===t)return!0;return!1},t.prototype.oo=function(t){var e=this;return this.io().then((function(){e.jr.sort((function(t,e){return t.$r-e.$r}));for(var n=0,r=e.jr;n<r.length;n++){var i=r[n];if(i.Ur(),"all"!==t&&i.Fr===t)break}return e.io()}))},t.prototype.ho=function(t){this.zr.push(t)},t.prototype.so=function(t){var e=this.jr.indexOf(t);this.jr.splice(e,1)},t}();function Ke(t,e){var n=t[1],r=e[1],i=Se(t[0],e[0]);return 0===i?Se(n,r):i}var We=function(){function t(t){this.ao=t,this.buffer=new x(Ke),this.uo=0}return t.prototype.co=function(){return++this.uo},t.prototype._o=function(t){var e=[t,this.co()];if(this.buffer.size<this.ao)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Ke(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),Qe={lo:!1,do:0,fo:0,To:0},Ze=function(){function t(t,e,n){this.mo=t,this.Eo=e,this.wo=n}return t.Io=function(e){return new t(e,t.Ro,t.Ao)},t}();Ze.Po=-1,Ze.Vo=1048576,Ze.po=41943040,Ze.Ro=10,Ze.Ao=1e3,Ze.yo=new Ze(Ze.po,Ze.Ro,Ze.Ao),Ze.DISABLED=new Ze(Ze.Po,0,0);var Ye=function(){function t(t,e){this.bo=t,this.Nr=e,this.vo=!1,this.So=null}return t.prototype.start=function(t){this.bo.Do.mo!==Ze.Po&&this.Co(t)},t.prototype.stop=function(){this.So&&(this.So.cancel(),this.So=null)},Object.defineProperty(t.prototype,"ko",{get:function(){return null!==this.So},enumerable:!0,configurable:!0}),t.prototype.Co=function(t){var e=this,n=this.vo?3e5:6e4;be("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.So=this.Nr.eo("lru_garbage_collection",n,(function(){return e.So=null,e.vo=!0,t.No(e.bo).then((function(){return e.Co(t)})).catch($e)}))},t}(),Xe=function(){function t(t,e){this.Fo=t,this.Do=e}return t.prototype.$o=function(t,e){return this.Fo.Mo(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Lo=function(t,e){var n=this;if(0===e)return Ve.resolve(qe.kr);var r=new We(e);return this.Fo.Xs(t,(function(t){return r._o(t.sequenceNumber)})).next((function(){return n.Fo.Oo(t,(function(t){return r._o(t)}))})).next((function(){return r.maxValue}))},t.prototype.xo=function(t,e,n){return this.Fo.xo(t,e,n)},t.prototype.Bo=function(t,e){return this.Fo.Bo(t,e)},t.prototype.Uo=function(t,e){var n=this;return this.Do.mo===Ze.Po?(be("LruGarbageCollector","Garbage collection skipped; disabled"),Ve.resolve(Qe)):this.qo(t).next((function(r){return r<n.Do.mo?(be("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.Do.mo),Qe):n.Qo(t,e)}))},t.prototype.qo=function(t){return this.Fo.qo(t)},t.prototype.Qo=function(t,e){var n,r,i,o,a,u,l,c=this,h=Date.now();return this.$o(t,this.Do.Eo).next((function(e){return e>c.Do.wo?(be("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.Do.wo+" from "+e),r=c.Do.wo):r=e,o=Date.now(),c.Lo(t,r)})).next((function(r){return n=r,a=Date.now(),c.xo(t,n,e)})).next((function(e){return i=e,u=Date.now(),c.Bo(t,n)})).next((function(t){return l=Date.now(),ge()<=s.LogLevel.DEBUG&&be("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(l-u)+"ms\nTotal Duration: "+(l-h)+"ms"),Ve.resolve({lo:!0,do:r,fo:i,To:t})}))},t}(),Je=function(){function t(t,e,n){this.persistence=t,this.Wo=e,this.jo=new Pe,this.Ko=new S(Se),this.Go=new De((function(t){return t.canonicalId()})),this.zo=b.MIN,this.persistence.Jo.Ho(this.jo),this.ar=t.Yo(n),this.Xo=t.Zo(),this.th=t.eh(),this.sh=new Ue(this.Xo,this.ar,this.persistence.nh()),this.Wo.ih(this.sh)}return t.prototype.start=function(){return this.rh()},t.prototype.oh=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o=this;return i.__generator(this,(function(i){switch(i.label){case 0:return e=this.ar,n=this.sh,[4,this.persistence.runTransaction("Handle user change","readonly",(function(r){var i;return o.ar.hh(r).next((function(s){return i=s,e=o.persistence.Yo(t),n=new Ue(o.Xo,e,o.persistence.nh()),e.hh(r)})).next((function(t){for(var e=[],o=[],s=Xt(),a=0,u=i;a<u.length;a++){var l=u[a];e.push(l.batchId);for(var c=0,h=l.mutations;c<h.length;c++)s=s.add(h[c].key)}for(var f=0,d=t;f<d.length;f++){var p=d[f];o.push(p.batchId);for(var v=0,m=p.mutations;v<m.length;v++)s=s.add(m[v].key)}return n.Tr(r,s).next((function(t){return{ah:t,uh:e,_h:o}}))}))}))];case 1:return r=i.sent(),[2,(this.ar=e,this.sh=n,this.Wo.ih(this.sh),r)]}}))}))},t.prototype.lh=function(t){var e,n=this,r=_.now(),i=t.reduce((function(t,e){return t.add(e.key)}),Xt());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(o){return n.sh.Tr(o,i).next((function(i){e=i;for(var s=[],a=0,u=t;a<u.length;a++){var l=u[a],c=l.ee(e.get(l.key));null!=c&&s.push(new dt(l.key,c,c.se(),ct.exists(!0)))}return n.ar.dh(o,r,s,t)}))})).then((function(t){var n=t.Pi(e);return{batchId:t.batchId,zi:n}}))},t.prototype.fh=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",(function(n){return e.ar.Th(n,t).next((function(t){return t?e.sh.Tr(n,t):Ve.resolve(null)}))}))},t.prototype.mh=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var r=t.batch.keys(),i=e.Xo.Eh({wh:!0});return e.ar.mh(n,t.batch,t.streamToken).next((function(){return e.Ih(n,t,i)})).next((function(){return i.apply(n)})).next((function(){return e.ar.Rh(n)})).next((function(){return e.sh.Tr(n,r)}))}))},t.prototype.Ah=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var r;return e.ar.Ph(n,t).next((function(t){return Ee(null!==t,"Attempt to reject nonexistent batch!"),r=t.keys(),e.ar.Vh(n,t)})).next((function(){return e.ar.Rh(n)})).next((function(){return e.sh.Tr(n,r)}))}))},t.prototype.gh=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.ar.gh(e)}))},t.prototype.ph=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly",(function(e){return t.ar.ph(e)}))},t.prototype.yh=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",(function(n){return e.ar.yh(n,t)}))},t.prototype.bh=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.th.bh(e)}))},t.prototype.vh=function(e){var n=this,r=e.ts,i=this.Ko;return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(o){var s=n.Xo.Eh({wh:!0});i=n.Ko;var a=[];e.Ts.forEach((function(e,s){var u=i.get(s);if(u){a.push(n.th.Sh(o,e.gs,s).next((function(){return n.th.Dh(o,e.Ps,s)})));var l=e.resumeToken;if(l.Ot()>0){var c=u.ss(l,r).es(o.Ch);i=i.it(s,c),t.kh(u,c,e)&&a.push(n.th.Nh(o,c))}}}));var u=Ht(),l=Xt();if(e.Es.forEach((function(t,e){l=l.add(t)})),a.push(s.getEntries(o,l).next((function(t){e.Es.forEach((function(i,l){var c=t.get(i);l instanceof wt&&l.version.isEqual(b.MIN)?(s.Zi(i,r),u=u.it(i,l)):null==c||l.version.D(c.version)>0||0===l.version.D(c.version)&&c.hasPendingWrites?(s.Yi(l,r),u=u.it(i,l)):be("LocalStore","Ignoring outdated watch update for ",i,". Current version:",c.version," Watch version:",l.version),e.ws.has(i)&&a.push(n.persistence.Jo.Fh(o,i))}))}))),!r.isEqual(b.MIN)){var c=n.th.bh(o).next((function(t){return n.th.$h(o,o.Ch,r)}));a.push(c)}return Ve.Ki(a).next((function(){return s.apply(o)})).next((function(){return n.sh.mr(o,u)}))})).then((function(t){return n.Ko=i,t}))},t.kh=function(t,e,n){return Ee(e.resumeToken.Ot()>0,"Attempted to persist target data with no resume token"),0===t.resumeToken.Ot()||e.ts.C()-t.ts.C()>=this.Mh||n.Ps.size+n.Vs.size+n.gs.size>0},t.prototype.Lh=function(t){for(var e=this,n=0,r=t;n<r.length;n++){var i=r[n],o=i.targetId;if(this.jo.Si(i.pr,o),this.jo.ki(i.yr,o),!i.fromCache){var s=this.Ko.get(o),a=s.ns(s.ts);this.Ko=this.Ko.it(o,a)}}return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(n){return Ve.forEach(t,(function(t){return Ve.forEach(t.yr,(function(t){return e.persistence.Jo.Di(n,t)}))}))}))},t.prototype.Oh=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===t&&(t=-1),e.ar.xh(n,t)}))},t.prototype.Bh=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",(function(n){return e.sh.cr(n,t)}))},t.prototype.Uh=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite",(function(n){var r;return e.th.qh(n,t).next((function(i){return i?Ve.resolve(r=i):e.th.Qh(n).next((function(i){return r=new jt(t,i,0,n.Ch),e.th.Wh(n,r).next((function(){return r}))}))}))})).then((function(n){return null===e.Ko.get(n.targetId)&&(e.Ko=e.Ko.it(n.targetId,n),e.Go.set(t,n.targetId)),n}))},t.prototype.qh=function(t,e){var n=this.Go.get(e);return void 0!==n?Ve.resolve(this.Ko.get(n)):this.th.qh(t,e)},t.prototype.jh=function(t,e){var n=this,r=this.Ko.get(t);return this.persistence.runTransaction("Release target",e?"readwrite":"readwrite-primary",(function(i){var o=n.jo.Ni(t);return e?Ve.resolve():Ve.forEach(o,(function(t){return n.persistence.Jo.Di(i,t)})).next((function(){n.persistence.Jo.removeTarget(i,r)}))})).then((function(){n.Ko=n.Ko.remove(t),n.Go.delete(r.target)}))},t.prototype.Kh=function(t,e){var n=this,r=b.MIN,i=Xt();return this.persistence.runTransaction("Execute query","readonly",(function(o){return n.qh(o,t.xe()).next((function(t){if(t)return r=t.lastLimboFreeSnapshotVersion,n.th.Gh(o,t.targetId).next((function(t){i=t}))})).next((function(){return n.Wo.wr(o,t,e?r:b.MIN,e?i:Xt())})).next((function(t){return{documents:t,zh:i}}))}))},t.prototype.Hh=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly",(function(n){return e.th.Gh(n,t)}))},t.prototype.Jh=function(){return this.persistence.Jh()},t.prototype.Yh=function(t){this.ar.Xh(t)},t.prototype.Zh=function(t){this.persistence.Zh(t)},t.prototype.Ih=function(t,e,n){var r=this,i=e.batch,o=i.keys(),s=Ve.resolve();return o.forEach((function(r){s=s.next((function(){return n.tr(t,r)})).next((function(t){var o=t,s=e.gi.get(r);Ee(null!==s,"ackVersions should contain every doc in the write."),(!o||o.version.D(s)<0)&&(o=i.Ut(r,o,e))&&n.Yi(o,e.Vi)}))})),s.next((function(){return r.ar.Vh(t,i)}))},t.prototype.No=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Uo(n,e.Ko)}))},t.prototype.ta=function(t){var e=this,n=this.Ko.get(t);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly",(function(n){return e.th.un(n,t).next((function(t){return t?t.target:null}))}))},t.prototype.ea=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",(function(e){return t.Xo.ea(e,t.zo)})).then((function(e){var n=e.sa;return t.zo=e.readTime,n}))},t.prototype.rh=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){switch(n.label){case 0:return t=this,[4,this.persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return e.Xo.na(t)}))];case 1:return t.zo=n.sent(),[2]}}))}))},t}();function $e(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){if(t.code!==f.FAILED_PRECONDITION||t.message!==Fe)throw t;return be("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function tn(t,e){if(0!==e.length)throw new d(f.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+gn(e.length,"argument")+".")}function en(t,e,n){if(e.length!==n)throw new d(f.INVALID_ARGUMENT,"Function "+t+"() requires "+gn(n,"argument")+", but was called with "+gn(e.length,"argument")+".")}function nn(t,e,n){if(e.length<n)throw new d(f.INVALID_ARGUMENT,"Function "+t+"() requires at least "+gn(n,"argument")+", but was called with "+gn(e.length,"argument")+".")}function rn(t,e,n,r){if(e.length<n||e.length>r)throw new d(f.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+gn(e.length,"argument")+".")}function on(t,e,n,r){cn(t,e,yn(n)+" argument",r)}function sn(t,e,n,r){void 0!==r&&on(t,e,n,r)}function an(t,e,n,r){cn(t,e,n+" option",r)}function un(t,e,n,r){void 0!==r&&an(t,e,n,r)}function ln(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],s=0,a=i;s<a.length;s++){var u=a[s];if(u===r)return;o.push(fn(u))}var l=fn(r);throw new d(f.INVALID_ARGUMENT,"Invalid value "+l+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function cn(t,e,n,r){if(!("object"===e?hn(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=fn(r);throw new d(f.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function hn(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function fn(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Ce("Unknown wrong type: "+typeof t)}function dn(t,e,n){if(void 0===n)throw new d(f.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+yn(e)+" argument, but it was undefined.")}function pn(t,e,n){O(e,(function(e,r){if(n.indexOf(e)<0)throw new d(f.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function vn(t,e,n,r){var i=fn(r);return new d(f.INVALID_ARGUMENT,"Function "+t+"() requires its "+yn(n)+" argument to be a "+e+", but it was: "+i)}function mn(t,e,n){if(n<=0)throw new d(f.INVALID_ARGUMENT,'Function "'+t+'()" requires its '+yn(e)+" argument to be a positive number, but it was: "+n+".")}function yn(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function gn(t,e){return t+" "+e+(1===t?"":"s")}function _n(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new d(f.INVALID_ARGUMENT,t)}return n.prototype=t.prototype,Object.assign(n,t),n}function bn(){if("undefined"==typeof Uint8Array)throw new d(f.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function wn(){if(!me.Lt().ia)throw new d(f.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}Je.Mh=3e8;var kn=function(){function t(t){wn(),this.ra=t}return t.fromBase64String=function(e){en("Blob.fromBase64String",arguments,1),on("Blob.fromBase64String","string",1,e),wn();try{return new t(P.fromBase64String(e))}catch(e){throw new d(f.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},t.fromUint8Array=function(e){if(en("Blob.fromUint8Array",arguments,1),bn(),!(e instanceof Uint8Array))throw vn("Blob.fromUint8Array","Uint8Array",1,e);return new t(P.fromUint8Array(e))},t.prototype.toBase64=function(){return en("Blob.toBase64",arguments,0),wn(),this.ra.toBase64()},t.prototype.toUint8Array=function(){return en("Blob.toUint8Array",arguments,0),bn(),this.ra.toUint8Array()},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.ra.isEqual(t.ra)},t}(),Cn=_n(kn,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),En=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new d(f.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+gn(1,"element")+".")}(0,t);for(var n=0;n<t.length;++n)if(on("FieldPath","string",n,t[n]),0===t[n].length)throw new d(f.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.oa=new E(t)}return t.documentId=function(){return t.ha},t.prototype.isEqual=function(e){if(!(e instanceof t))throw vn("isEqual","FieldPath",1,e);return this.oa.isEqual(e.oa)},t}();En.ha=new En(E.X().K());var Tn=new RegExp("[~\\*/\\[\\]]"),Sn=function(){function t(t){this.aa=t}return t.delete=function(){return tn("FieldValue.delete",arguments),In.instance},t.serverTimestamp=function(){return tn("FieldValue.serverTimestamp",arguments),An.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return nn("FieldValue.arrayUnion",arguments,1),new xn(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return nn("FieldValue.arrayRemove",arguments,1),new Nn(t)},t.increment=function(t){return on("FieldValue.increment","number",1,t),en("FieldValue.increment",arguments,1),new Dn(t)},t.prototype.isEqual=function(t){return this===t},t}(),In=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return i.__extends(e,t),e}(Sn);In.instance=new In;var An=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return i.__extends(e,t),e}(Sn);An.instance=new An;var xn=function(t){function e(e){var n=this;return(n=t.call(this,"FieldValue.arrayUnion")||this).ua=e,n}return i.__extends(e,t),e}(Sn),Nn=function(t){function e(e){var n=this;return(n=t.call(this,"FieldValue.arrayRemove")||this).ua=e,n}return i.__extends(e,t),e}(Sn),Dn=function(t){function e(e){var n=this;return(n=t.call(this,"FieldValue.increment")||this).ca=e,n}return i.__extends(e,t),e}(Sn),On=_n(Sn,"Use FieldValue.<field>() instead."),Rn=function(){function t(t,e){if(en("GeoPoint",arguments,2),on("GeoPoint","number",1,t),on("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new d(f.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new d(f.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._a=t,this.la=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._a},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.la},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this._a===t._a&&this.la===t.la},t.prototype.p=function(t){return Se(this._a,t._a)||Se(this.la,t.la)},t}(),Pn=/^__.*__$/,Ln=function(){function t(t,e,n){this.data=t,this.se=e,this.fieldTransforms=n}return t.prototype.da=function(t,e){var n=[];return n.push(null!==this.se?new dt(t,this.data,this.se,e):new ft(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new pt(t,this.fieldTransforms)),n},t}(),Vn=function(){function t(t,e,n){this.data=t,this.se=e,this.fieldTransforms=n}return t.prototype.da=function(t,e){var n=[new dt(t,this.data,this.se,e)];return this.fieldTransforms.length>0&&n.push(new pt(t,this.fieldTransforms)),n},t}();function Mn(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce("Unexpected case for UserDataSource: "+t)}}var Fn=function(){function t(t,e,n,r,i,o){this.fa=t,this.methodName=e,this.path=n,this.Ta=r,void 0===i&&this.ma(),this.Ta=void 0!==r&&r,this.fieldTransforms=i||[],this.se=o||[]}return t.prototype.Ea=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.fa,this.methodName,n,!1,this.fieldTransforms,this.se);return r.wa(e),r},t.prototype.Ia=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.fa,this.methodName,n,!1,this.fieldTransforms,this.se);return r.ma(),r},t.prototype.Ra=function(e){return new t(this.fa,this.methodName,null,!0,this.fieldTransforms,this.se)},t.prototype.Aa=function(t){var e=null===this.path||this.path.U()?"":" (found in field "+this.path.toString()+")";return new d(f.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.se.find((function(e){return t.q(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.q(e.field)}))},t.prototype.ma=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.wa(this.path.get(t))},t.prototype.wa=function(t){if(0===t.length)throw this.Aa("Document fields must not be empty");if(Mn(this.fa)&&Pn.test(t))throw this.Aa('Document fields cannot begin and end with "__"')},t}(),jn=function(t,e){this.cn=t,this.key=e},Un=function(){function t(t,e){this.serializer=t,this.Pa=e}return t.prototype.Va=function(t,e){var n=new Fn(0,t,E.H);qn("Data must be an object, but it was:",n,e);var r=this.ga(e,n);return new Ln(new yt(r),null,n.fieldTransforms)},t.prototype.pa=function(t,e,n){var r=new Fn(2,t,E.H);qn("Data must be an object, but it was:",r,e);var i,o,s=this.ga(e,r);if(n){for(var a=new x(E.F),u=0,l=n;u<l.length;u++){var c=l[u],h=void 0;if(c instanceof En)h=c.oa;else{if("string"!=typeof c)throw Ce("Expected stringOrFieldPath to be a string or a FieldPath");h=Hn(t,c)}if(!r.contains(h))throw new d(f.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");a=a.add(h)}i=at.Kt(a),o=r.fieldTransforms.filter((function(t){return i.zt(t.field)}))}else i=at.Gt(r.se),o=r.fieldTransforms;return new Ln(new yt(s),i,o)},t.prototype.ya=function(t,e){var n=this,r=new Fn(1,t,E.H);qn("Data must be an object, but it was:",r,e);var i=new x(E.F),o=yt._e();O(e,(function(e,s){var a=Hn(t,e),u=r.Ia(a);if((s=n.ba(s,u))instanceof In)i=i.add(a);else{var l=n.va(s,u);null!=l&&(i=i.add(a),o.set(a,l))}}));var s=at.Kt(i);return new Vn(o.oe(),s,r.fieldTransforms)},t.prototype.Sa=function(t,e,n,r){var i=new Fn(1,t,E.H),o=[zn(t,e)],s=[n];if(r.length%2!=0)throw new d(f.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var a=0;a<r.length;a+=2)o.push(zn(t,r[a])),s.push(r[a+1]);for(var u=new x(E.F),l=yt._e(),c=0;c<o.length;++c){var h=o[c],p=i.Ia(h),v=this.ba(s[c],p);if(v instanceof In)u=u.add(h);else{var m=this.va(v,p);null!=m&&(u=u.add(h),l.set(h,m))}}var y=at.Kt(u);return new Vn(l.oe(),y,i.fieldTransforms)},t.prototype.Da=function(t,e,n){void 0===n&&(n=!1);var r=new Fn(n?4:3,t,E.H);return this.va(e,r)},t.prototype.ba=function(t,e){try{return this.Pa(t)}catch(t){var n=Gn(t);throw e.Aa(n)}},t.prototype.va=function(t,e){if(Bn(t=this.ba(t,e)))return qn("Unsupported field value:",e,t),this.ga(t,e);if(t instanceof Sn)return this.Ca(t,e),null;if(e.path&&e.se.push(e.path),t instanceof Array){if(e.Ta&&4!==e.fa)throw e.Aa("Nested arrays are not supported");return this.ka(t,e)}return this.Na(t,e)},t.prototype.ga=function(t,e){var n=this,r={};return R(t)?e.path&&e.path.length>0&&e.se.push(e.path):O(t,(function(t,i){var o=n.va(i,e.Ea(t));null!=o&&(r[t]=o)})),{mapValue:{fields:r}}},t.prototype.ka=function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=this.va(o[i],e.Ra(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}},t.prototype.Ca=function(t,e){if(!Mn(e.fa))throw e.Aa(t.aa+"() can only be used with update() and set()");if(null===e.path)throw e.Aa(t.aa+"() is not currently supported inside arrays");if(t instanceof In){if(2!==e.fa)throw e.Aa(1===e.fa?"FieldValue.delete() can only appear at the top level of your update data":"FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.se.push(e.path)}else if(t instanceof An)e.fieldTransforms.push(new ut(e.path,nt.instance));else if(t instanceof xn){var n=this.Fa(t.aa,t.ua),r=new rt(n);e.fieldTransforms.push(new ut(e.path,r))}else if(t instanceof Nn){var i=this.Fa(t.aa,t.ua),o=new it(i);e.fieldTransforms.push(new ut(e.path,o))}else if(t instanceof Dn){var s=this.Da("FieldValue.increment",t.ca),a=new ot(this.serializer,s);e.fieldTransforms.push(new ut(e.path,a))}else Ce("Unknown FieldValue type: "+t)},t.prototype.Na=function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return this.serializer.Tn(t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=_.fromDate(t);return{timestampValue:this.serializer.k(n)}}if(t instanceof _){var r=new _(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:this.serializer.k(r)}}if(t instanceof Rn)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof kn)return{bytesValue:this.serializer.mn(t)};if(t instanceof jn)return{referenceValue:this.serializer.wn(t.key.path,t.cn)};throw e.Aa("Unsupported field value: "+fn(t))},t.prototype.Fa=function(t,e){var n=this;return e.map((function(e,r){var i=new Fn(3,t,E.H);return n.va(e,i.Ra(r))}))},t}();function Bn(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof _||t instanceof Rn||t instanceof kn||t instanceof jn||t instanceof Sn)}function qn(t,e,n){if(!Bn(n)||!hn(n)){var r=fn(n);throw e.Aa("an object"===r?t+" a custom object":t+" "+r)}}function zn(t,e){if(e instanceof En)return e.oa;if("string"==typeof e)return Hn(t,e);throw new d(f.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function Hn(t,e){try{return function(t){if(t.search(Tn)>=0)throw new d(f.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(En.bind.apply(En,i.__spreadArrays([void 0],t.split("."))))}catch(i){throw new d(f.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).oa}catch(e){var n=Gn(e);throw new d(f.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function Gn(t){return t instanceof Error?t.message:t.toString()}var Kn=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.$a=t,this.Fr=e,this.Ma=n,this.La=r,this.Oa=i,this.xa=0,this.Ba=null,this.Ua=Date.now(),this.reset()}return t.prototype.reset=function(){this.xa=0},t.prototype.qa=function(){this.xa=this.Oa},t.prototype.Qa=function(t){var e=this;this.cancel();var n=Math.floor(this.xa+this.Wa()),r=Math.max(0,Date.now()-this.Ua),i=Math.max(0,n-r);this.xa>0&&be("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.xa+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ba=this.$a.eo(this.Fr,i,(function(){return e.Ua=Date.now(),t()})),this.xa*=this.La,this.xa<this.Ma&&(this.xa=this.Ma),this.xa>this.Oa&&(this.xa=this.Oa)},t.prototype.cancel=function(){null!==this.Ba&&(this.Ba.cancel(),this.Ba=null)},t.prototype.Wa=function(){return(Math.random()-.5)*this.xa},t}(),Wn=function(){function t(t,e,n,r,i,o){this.$a=t,this.ja=n,this.Ka=r,this.Ga=i,this.listener=o,this.state=0,this.za=0,this.Ha=null,this.stream=null,this.Ja=new Kn(t,e)}return t.prototype.Ya=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Xa=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Za()},t.prototype.stop=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Ya()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.tu=function(){this.state=0,this.Ja.reset()},t.prototype.eu=function(){var t=this;this.Xa()&&null===this.Ha&&(this.Ha=this.$a.eo(this.ja,6e4,(function(){return t.su()})))},t.prototype.nu=function(t){this.iu(),this.stream.send(t)},t.prototype.su=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.Xa()?[2,this.close(0)]:[2]}))}))},t.prototype.iu=function(){this.Ha&&(this.Ha.cancel(),this.Ha=null)},t.prototype.close=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return this.iu(),this.Ja.cancel(),this.za++,3!==t?this.Ja.reset():e&&e.code===f.RESOURCE_EXHAUSTED?(we(e.toString()),we("Using maximum backoff delay to prevent overloading the backend."),this.Ja.qa()):e&&e.code===f.UNAUTHENTICATED&&this.Ga._(),null!==this.stream&&(this.ru(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.ou(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ru=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hu(this.za),n=this.za;this.Ga.getToken().then((function(e){t.za===n&&t.au(e)}),(function(n){e((function(){var e=new d(f.UNKNOWN,"Fetching auth token failed: "+n.message);return t.uu(e)}))}))},t.prototype.au=function(t){var e=this,n=this.hu(this.za);this.stream=this.cu(t),this.stream._u((function(){n((function(){return e.state=2,e.listener._u()}))})),this.stream.ou((function(t){n((function(){return e.uu(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Za=function(){var t=this;this.state=4,this.Ja.Qa((function(){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.uu=function(t){return be("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hu=function(t){var e=this;return function(n){e.$a.qr((function(){return e.za===t?n():(be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Qn=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return i.__extends(e,t),e.prototype.cu=function(t){return this.Ka.lu("Listen",t)},e.prototype.onMessage=function(t){this.Ja.reset();var e=this.serializer.kn(t),n=this.serializer.Fn(t);return this.listener.du(e,n)},e.prototype.fu=function(t){var e={};e.database=this.serializer.pn,e.addTarget=this.serializer.xe(t);var n=this.serializer.ei(t);n&&(e.labels=n),this.nu(e)},e.prototype.Tu=function(t){var e={};e.database=this.serializer.pn,e.removeTarget=t,this.nu(e)},e}(Wn),Zn=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s.mu=!1,s.lastStreamToken=P.xt,s}return i.__extends(e,t),Object.defineProperty(e.prototype,"Eu",{get:function(){return this.mu},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.mu=!1,t.prototype.start.call(this)},e.prototype.ru=function(){this.mu&&this.wu([])},e.prototype.cu=function(t){return this.Ka.lu("Write",t)},e.prototype.onMessage=function(t){if(Ee(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=this.serializer.En(t.streamToken),this.mu){this.Ja.reset();var e=this.serializer.Wn(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.Iu(n,e)}return Ee(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.mu=!0,this.listener.Ru()},e.prototype.Au=function(){var t={};t.database=this.serializer.pn,this.nu(t)},e.prototype.wu=function(t){var e=this,n={streamToken:this.serializer.mn(this.lastStreamToken),writes:t.map((function(t){return e.serializer.$n(t)}))};this.nu(n)},e}(Wn),Yn=function(){function t(t,e,n,r){this.$a=t,this.Ka=e,this.credentials=n,this.serializer=r}return t.prototype.Pu=function(t){return new Zn(this.$a,this.Ka,this.credentials,this.serializer,t)},t.prototype.Vu=function(t){return new Qn(this.$a,this.Ka,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.pn,writes:t.map((function(t){return e.serializer.$n(t)}))};return this.gu("Commit",n).then((function(t){return e.serializer.Wn(t.writeResults,t.commitTime)}))},t.prototype.pu=function(t){var e=this,n={database:this.serializer.pn,documents:t.map((function(t){return e.serializer.An(t)}))};return this.yu("BatchGetDocuments",n).then((function(n){var r=Ht();n.forEach((function(t){var n=e.serializer.Cn(t);r=r.it(n.key,n)}));var i=[];return t.forEach((function(t){var e=r.get(t);Ee(!!e,"Missing entity in write response for "+t),i.push(e)})),i}))},t.prototype.gu=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.Ka.gu(t,e,r)})).catch((function(t){throw t.code===f.UNAUTHENTICATED&&n.credentials._(),t}))},t.prototype.yu=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.Ka.yu(t,e,r)})).catch((function(t){throw t.code===f.UNAUTHENTICATED&&n.credentials._(),t}))},t}(),Xn=function(){function t(t){this.bu=t,this.vu=Zt(),this.mutations=[],this.Su=!1,this.Du=null,this.Cu=new Set}return t.prototype.pu=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:if(this.ku(),this.mutations.length>0)throw new d(f.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.bu.pu(t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof wt||t instanceof bt?n.Nu(t):Ce("Document in a transaction was a "+t.constructor.name)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.da(t,this.Zt(t))),this.Cu.add(t)},t.prototype.update=function(t,e){try{this.write(e.da(t,this.Fu(t)))}catch(t){this.Du=t}this.Cu.add(t)},t.prototype.delete=function(t){this.write([new vt(t,this.Zt(t))]),this.Cu.add(t)},t.prototype.commit=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){switch(n.label){case 0:if(this.ku(),this.Du)throw this.Du;return t=this.vu,this.mutations.forEach((function(e){t=t.remove(e.key)})),t.forEach((function(t,n){e.mutations.push(new mt(t,e.Zt(t)))})),[4,this.bu.commit(this.mutations)];case 1:return n.sent(),this.Su=!0,[2]}}))}))},t.prototype.Nu=function(t){var e;if(t instanceof bt)e=t.version;else{if(!(t instanceof wt))throw Ce("Document in a transaction was a "+t.constructor.name);e=b.S()}var n=this.vu.get(t.key);if(null!==n){if(!e.isEqual(n))throw new d(f.ABORTED,"Document version changed between two reads.")}else this.vu=this.vu.it(t.key,e)},t.prototype.Zt=function(t){var e=this.vu.get(t);return!this.Cu.has(t)&&e?ct.updateTime(e):ct.NONE},t.prototype.Fu=function(t){var e=this.vu.get(t);if(!this.Cu.has(t)&&e){if(e.isEqual(b.S()))throw new d(f.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ct.updateTime(e)}return ct.exists(!0)},t.prototype.write=function(t){this.ku(),this.mutations=this.mutations.concat(t)},t.prototype.ku=function(){},t}(),Jn=function(){function t(t,e){this.Nr=t,this.$u=e,this.state="Unknown",this.Mu=0,this.Lu=null,this.Ou=!0}return t.prototype.xu=function(){var t=this;0===this.Mu&&(this.Bu("Unknown"),this.Lu=this.Nr.eo("online_state_timeout",1e4,(function(){return t.Lu=null,t.Uu("Backend didn't respond within 10 seconds."),t.Bu("Offline"),Promise.resolve()})))},t.prototype.qu=function(t){"Online"===this.state?this.Bu("Unknown"):(this.Mu++,this.Mu>=1&&(this.Qu(),this.Uu("Connection failed 1 times. Most recent error: "+t.toString()),this.Bu("Offline")))},t.prototype.set=function(t){this.Qu(),this.Mu=0,"Online"===t&&(this.Ou=!1),this.Bu(t)},t.prototype.Bu=function(t){t!==this.state&&(this.state=t,this.$u(t))},t.prototype.Uu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ou?(we(e),this.Ou=!1):be("OnlineStateTracker",e)},t.prototype.Qu=function(){null!==this.Lu&&(this.Lu.cancel(),this.Lu=null)},t}(),$n=function(){function t(t,e,n,r,o){var s=this;this.Wu=t,this.bu=e,this.ju=[],this.Ku=new Map,this.Gu=null,this.networkEnabled=!1,this.isPrimary=!1,this.zu=o,this.zu.Hu((function(t){n.qr((function(){return i.__awaiter(s,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Ju()?(be("RemoteStore","Restarting streams for network reachability change."),[4,this.Yu()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Xu=new Jn(n,r),this.Zu=this.bu.Vu({_u:this.tc.bind(this),ou:this.ec.bind(this),du:this.sc.bind(this)}),this.nc=this.bu.Pu({_u:this.ic.bind(this),ou:this.rc.bind(this),Ru:this.oc.bind(this),Iu:this.Iu.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.Ju()?(t=this.nc,[4,this.Wu.ph()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.hc()?this.ac():this.Xu.set("Unknown"),[4,this.uc()];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.disableNetwork=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.cc()];case 1:return t.sent(),this.Xu.set("Offline"),[2]}}))}))},t.prototype.cc=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,this.nc.stop()];case 1:return t.sent(),[4,this.Zu.stop()];case 2:return t.sent(),this.ju.length>0&&(be("RemoteStore","Stopping write stream with "+this.ju.length+" pending writes"),this.ju=[]),this._c(),[2]}}))}))},t.prototype.lc=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return be("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this.cc()];case 1:return t.sent(),this.zu.lc(),this.Xu.set("Unknown"),[2]}}))}))},t.prototype.listen=function(t){this.Ku.has(t.targetId)||(this.Ku.set(t.targetId,t),this.hc()?this.ac():this.Zu.Xa()&&this.dc(t))},t.prototype.fc=function(t){this.Ku.delete(t),this.Zu.Xa()&&this.Tc(t),0===this.Ku.size&&(this.Zu.Xa()?this.Zu.eu():this.Ju()&&this.Xu.set("Unknown"))},t.prototype.un=function(t){return this.Ku.get(t)||null},t.prototype.an=function(t){return this.mc.an(t)},t.prototype.dc=function(t){this.Gu.Bs(t.targetId),this.Zu.fu(t)},t.prototype.Tc=function(t){this.Gu.Bs(t),this.Zu.Tu(t)},t.prototype.ac=function(){this.Gu=new le(this),this.Zu.start(),this.Xu.xu()},t.prototype.hc=function(){return this.Ju()&&!this.Zu.Ya()&&this.Ku.size>0},t.prototype.Ju=function(){return this.isPrimary&&this.networkEnabled},t.prototype._c=function(){this.Gu=null},t.prototype.tc=function(){return i.__awaiter(this,void 0,void 0,(function(){var t=this;return i.__generator(this,(function(e){return this.Ku.forEach((function(e,n){t.dc(e)})),[2]}))}))},t.prototype.ec=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return this._c(),this.hc()?(this.Xu.qu(t),this.ac()):this.Xu.set("Unknown"),[2]}))}))},t.prototype.sc=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){switch(r.label){case 0:return this.Xu.set("Online"),t instanceof ae&&2===t.state&&t.cause?[2,this.Ec(t)]:(t instanceof oe?this.Gu.zs(t):t instanceof se?this.Gu.sn(t):this.Gu.Ys(t),e.isEqual(b.MIN)?[3,4]:[4,this.Wu.bh()]);case 1:return n=r.sent(),e.D(n)>=0?[4,this.wc(e)]:[3,3];case 2:r.sent(),r.label=3;case 3:r.label=4;case 4:return[2]}}))}))},t.prototype.wc=function(t){var e=this,n=this.Gu.rn(t);return n.Ts.forEach((function(n,r){if(n.resumeToken.Ot()>0){var i=e.Ku.get(r);i&&e.Ku.set(r,i.ss(n.resumeToken,t))}})),n.ms.forEach((function(t){var n=e.Ku.get(t);if(n){e.Ku.set(t,n.ss(P.xt,n.ts)),e.Tc(t);var r=new jt(n.target,t,1,n.sequenceNumber);e.dc(r)}})),this.mc.vh(n)},t.prototype.Ec=function(t){var e=this,n=t.cause,r=Promise.resolve();return t.targetIds.forEach((function(t){r=r.then((function(){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.Ku.has(t)?[2,(this.Ku.delete(t),this.Gu.removeTarget(t),this.mc.Ic(t,n))]:[2]}))}))}))})),r},t.prototype.uc=function(){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(e){switch(e.label){case 0:return this.Rc()?[4,this.Wu.Oh(this.ju.length>0?this.ju[this.ju.length-1].batchId:-1)]:[3,5];case 1:return null!==(t=e.sent())?[3,2]:(0===this.ju.length&&this.nc.eu(),[3,4]);case 2:return this.Ac(t),[4,this.uc()];case 3:e.sent(),e.label=4;case 4:e.label=5;case 5:return this.Pc()&&this.Vc(),[2]}}))}))},t.prototype.Rc=function(){return this.Ju()&&this.ju.length<10},t.prototype.gc=function(){return this.ju.length},t.prototype.Ac=function(t){this.ju.push(t),this.nc.Xa()&&this.nc.Eu&&this.nc.wu(t.mutations)},t.prototype.Pc=function(){return this.Ju()&&!this.nc.Ya()&&this.ju.length>0},t.prototype.Vc=function(){this.nc.start()},t.prototype.ic=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.nc.Au(),[2]}))}))},t.prototype.oc=function(){var t=this;return this.Wu.yh(this.nc.lastStreamToken).then((function(){for(var e=0,n=t.ju;e<n.length;e++)t.nc.wu(n[e].mutations)})).catch($e)},t.prototype.Iu=function(t,e){var n=this,r=this.ju.shift(),i=Re.from(r,t,e,this.nc.lastStreamToken);return this.mc.pc(i).then((function(){return n.uc()}))},t.prototype.rc=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(r){return t&&this.ju.length>0?[2,(e=this.nc.Eu?this.yc(t):this.bc(t),e.then((function(){n.Pc()&&n.Vc()})))]:[2]}))}))},t.prototype.bc=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return Bt(t.code)?[2,(be("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.nc.lastStreamToken),this.nc.lastStreamToken=P.xt,this.Wu.yh(P.xt).catch($e))]:[2]}))}))},t.prototype.yc=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r=this;return i.__generator(this,(function(i){return Bt(n=t.code)&&n!==f.ABORTED?(e=this.ju.shift(),[2,(this.nc.tu(),this.mc.vc(e.batchId,t).then((function(){return r.uc()})))]):[2]}))}))},t.prototype.Sc=function(){return new Xn(this.bu)},t.prototype.Yu=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.cc()];case 1:return t.sent(),this.Xu.set("Unknown"),[4,this.enableNetwork()];case 2:return t.sent(),[2]}}))}))},t.prototype.Dc=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Ju()?(be("RemoteStore","RemoteStore restarting streams for new credential"),[4,this.Yu()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Cc=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,5];case 2:return t?[3,4]:[4,this.cc()];case 3:e.sent(),this.Xu.set("Unknown"),e.label=4;case 4:e.label=5;case 5:return[2]}}))}))},t}();function tr(t,e){return"firestore_clients_"+t+"_"+e}function er(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.t()&&(r+="_"+e.uid),r}function nr(t,e){return"firestore_targets_"+t+"_"+e}var rr=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.kc=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new d(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(we("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Nc=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ir=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.kc=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new d(r.error.code,r.error.message)),i?new t(e,r.state,o):(we("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Nc=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),or=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.kc=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=$t(),s=0;i&&s<r.activeTargetIds.length;++s)i=M(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(we("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),sr=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.kc=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(we("SharedClientState","Failed to parse online state: "+e),null)},t}(),ar=function(){function t(){this.activeTargetIds=$t()}return t.prototype.Fc=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.$c=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Nc=function(){var t={activeTargetIds:this.activeTargetIds.j(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),ur=function(){function t(e,n,r,i,o){if(this.$a=e,this.platform=n,this.persistenceKey=r,this.Mc=i,this.mc=null,this.$u=null,this.vr=null,this.Lc={},this.Oc=this.xc.bind(this),this.ko=!1,this.Bc=[],!t.Uc(this.platform))throw new d(f.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.qc=tr(this.persistenceKey,this.Mc),this.Qc=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Lc[this.Mc]=new ar,this.Wc=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.jc=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.Kc=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Gc=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.platform.window.addEventListener("storage",this.Oc)}return t.Uc=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e,n,r,o,s,a,u,l,c,h=this;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.mc.Jh()];case 1:for(t=i.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Mc&&(o=this.getItem(tr(this.persistenceKey,r)))&&(s=or.kc(r,o))&&(this.Lc[s.clientId]=s);for(this.zc(),(a=this.storage.getItem(this.Gc))&&(u=this.Hc(a))&&this.Jc(u),l=0,c=this.Bc;l<c.length;l++)this.xc(c[l]);return this.Bc=[],this.platform.window.addEventListener("unload",(function(){return h.lc()})),this.ko=!0,[2]}}))}))},t.prototype.Cr=function(t){this.setItem(this.Qc,JSON.stringify(t))},t.prototype.Yc=function(){var t=$t();return O(this.Lc,(function(e,n){t=t.Ft(n.activeTargetIds)})),t},t.prototype.Xc=function(t){for(var e in this.Lc)if(this.Lc.hasOwnProperty(e)&&this.Lc[e].activeTargetIds.has(t))return!0;return!1},t.prototype.Zc=function(t){this.t_(t,"pending")},t.prototype.e_=function(t,e,n){this.t_(t,e,n),this.s_(t)},t.prototype.n_=function(t){var e="not-current";if(this.Xc(t)){var n=this.storage.getItem(nr(this.persistenceKey,t));if(n){var r=ir.kc(t,n);r&&(e=r.state)}}return this.i_.Fc(t),this.zc(),e},t.prototype.r_=function(t){this.i_.$c(t),this.zc()},t.prototype.o_=function(t){return this.i_.activeTargetIds.has(t)},t.prototype.h_=function(t){this.removeItem(nr(this.persistenceKey,t))},t.prototype.a_=function(t,e,n){this.u_(t,e,n)},t.prototype.oh=function(t,e,n){var r=this;e.forEach((function(t){r.s_(t)})),this.currentUser=t,n.forEach((function(t){r.Zc(t)}))},t.prototype.c_=function(t){this.__(t)},t.prototype.lc=function(){this.ko&&(this.platform.window.removeEventListener("storage",this.Oc),this.removeItem(this.qc),this.ko=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return be("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){be("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){be("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.xc=function(t){var e=this;if(t.storageArea===this.storage){if(be("SharedClientState","EVENT",t.key,t.newValue),t.key===this.qc)return void we("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.$a.qr((function(){return i.__awaiter(e,void 0,void 0,(function(){var e,n,r,o,s,a;return i.__generator(this,(function(i){if(this.ko){if(null!==t.key)if(this.Wc.test(t.key)){if(null==t.newValue)return e=this.l_(t.key),[2,this.d_(e,null)];if(n=this.f_(t.key,t.newValue))return[2,this.d_(n.clientId,n)]}else if(this.jc.test(t.key)){if(null!==t.newValue&&(r=this.T_(t.key,t.newValue)))return[2,this.m_(r)]}else if(this.Kc.test(t.key)){if(null!==t.newValue&&(o=this.E_(t.key,t.newValue)))return[2,this.w_(o)]}else if(t.key===this.Gc){if(null!==t.newValue&&(s=this.Hc(t.newValue)))return[2,this.Jc(s)]}else t.key===this.Qc&&(a=function(t){var e=qe.kr;if(null!=t)try{var n=JSON.parse(t);Ee("number"==typeof n,"Found non-numeric sequence number"),e=n}catch(t){we("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(t.newValue))!==qe.kr&&this.vr(a)}else this.Bc.push(t);return[2]}))}))}))}},Object.defineProperty(t.prototype,"i_",{get:function(){return this.Lc[this.Mc]},enumerable:!0,configurable:!0}),t.prototype.zc=function(){this.setItem(this.qc,this.i_.Nc())},t.prototype.t_=function(t,e,n){var r=new rr(this.currentUser,t,e,n),i=er(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Nc())},t.prototype.s_=function(t){var e=er(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.__=function(t){this.storage.setItem(this.Gc,JSON.stringify({clientId:this.Mc,onlineState:t}))},t.prototype.u_=function(t,e,n){var r=nr(this.persistenceKey,t),i=new ir(t,e,n);this.setItem(r,i.Nc())},t.prototype.l_=function(t){var e=this.Wc.exec(t);return e?e[1]:null},t.prototype.f_=function(t,e){var n=this.l_(t);return or.kc(n,e)},t.prototype.T_=function(t,e){var n=this.jc.exec(t),r=Number(n[1]);return rr.kc(new h(void 0!==n[2]?n[2]:null),r,e)},t.prototype.E_=function(t,e){var n=this.Kc.exec(t),r=Number(n[1]);return ir.kc(r,e)},t.prototype.Hc=function(t){return sr.kc(t)},t.prototype.m_=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.mc.I_(t.batchId,t.state,t.error)]:(be("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.w_=function(t){return this.mc.R_(t.targetId,t.state,t.error)},t.prototype.d_=function(t,e){var n=this,r=this.Yc();e?this.Lc[t]=e:delete this.Lc[t];var o=this.Yc(),s=[],a=[];return o.forEach((function(t){return i.__awaiter(n,void 0,void 0,(function(){return i.__generator(this,(function(e){return r.has(t)||s.push(t),[2]}))}))})),r.forEach((function(t){return i.__awaiter(n,void 0,void 0,(function(){return i.__generator(this,(function(e){return o.has(t)||a.push(t),[2]}))}))})),this.mc.A_(s,a)},t.prototype.Jc=function(t){this.Lc[t.clientId]&&this.$u(t.onlineState)},t}(),lr=function(){function t(){this.P_=new ar,this.V_={},this.mc=null,this.$u=null,this.vr=null}return t.prototype.Zc=function(t){},t.prototype.e_=function(t,e,n){},t.prototype.n_=function(t){return this.P_.Fc(t),this.V_[t]||"not-current"},t.prototype.a_=function(t,e,n){this.V_[t]=e},t.prototype.r_=function(t){this.P_.$c(t)},t.prototype.o_=function(t){return this.P_.activeTargetIds.has(t)},t.prototype.h_=function(t){delete this.V_[t]},t.prototype.Yc=function(){return this.P_.activeTargetIds},t.prototype.Xc=function(t){return this.P_.activeTargetIds.has(t)},t.prototype.start=function(){return this.P_=new ar,Promise.resolve()},t.prototype.oh=function(t,e,n){},t.prototype.c_=function(t){},t.prototype.lc=function(){},t.prototype.Cr=function(t){},t}(),cr=function(){function t(t){this.g_=t}return t.prototype.next=function(){return this.g_+=2,this.g_},t.p_=function(){return new t(0)},t.y_=function(){return new t(-1)},t}(),hr=function(t){this.key=t},fr=function(t){this.key=t},dr=function(){function t(t,e){this.query=t,this.b_=e,this.v_=null,this.As=!1,this.S_=Xt(),this._s=Xt(),this.D_=new te(t.Be.bind(t))}return Object.defineProperty(t.prototype,"C_",{get:function(){return this.b_},enumerable:!0,configurable:!0}),t.prototype.k_=function(t,e){var n=this,r=e?e.N_:new ee,i=e?e.D_:this.D_,o=e?e._s:this._s,s=i,a=!1,u=this.query.je()&&i.size===this.query.limit?i.last():null,l=this.query.Ke()&&i.size===this.query.limit?i.first():null;if(t.ut((function(t,e){var c=i.get(t),h=e instanceof bt?e:null;h&&(h=n.query.matches(h)?h:null);var f=!!c&&n._s.has(c.key),d=!!h&&(h.te||n._s.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.F_(c,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.query.Be(h,u)>0||l&&n.query.Be(h,l)<0)&&(a=!0)):!c&&h?(r.track({type:0,doc:h}),p=!0):c&&!h&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),this.query.je()||this.query.Ke())for(;s.size>this.query.limit;){var c=this.query.je()?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{D_:s,N_:r,M_:a,_s:o}},t.prototype.F_=function(t,e){return t.te&&e.hasCommittedMutations&&!e.te},t.prototype.nr=function(t,e,n){var r=this,i=this.D_;this.D_=t.D_,this._s=t._s;var o=t.N_.us();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||r.query.Be(t.doc,e.doc)})),this.L_(n);var s=e?this.O_():[],a=0===this.S_.size&&this.As?1:0,u=a!==this.v_;return this.v_=a,0!==o.length||u?{snapshot:new ne(this.query,t.D_,i,o,t._s,0===a,u,!1),x_:s}:{x_:s}},t.prototype.B_=function(t){return this.As&&"Offline"===t?(this.As=!1,this.nr({D_:this.D_,N_:new ee,_s:this._s,M_:!1},!1)):{x_:[]}},t.prototype.U_=function(t){return!this.b_.has(t)&&!!this.D_.has(t)&&!this.D_.get(t).te},t.prototype.L_=function(t){var e=this;t&&(t.Ps.forEach((function(t){return e.b_=e.b_.add(t)})),t.Vs.forEach((function(t){})),t.gs.forEach((function(t){return e.b_=e.b_.delete(t)})),this.As=t.As)},t.prototype.O_=function(){var t=this;if(!this.As)return[];var e=this.S_;this.S_=Xt(),this.D_.forEach((function(e){t.U_(e.key)&&(t.S_=t.S_.add(e.key))}));var n=[];return e.forEach((function(e){t.S_.has(e)||n.push(new fr(e))})),this.S_.forEach((function(t){e.has(t)||n.push(new hr(t))})),n},t.prototype.q_=function(t){this.b_=t.zh,this.S_=Xt();var e=this.k_(t.documents);return this.nr(e,!0)},t.prototype.Q_=function(){return ne.fs(this.query,this.D_,this._s,0===this.v_)},t}(),pr=function(){function t(t,e,n,r){this.Nr=t,this.W_=e,this.updateFunction=n,this.Lr=r,this.j_=5,this.Ja=new Kn(this.Nr,"retry_transaction")}return t.prototype.K_=function(){this.G_()},t.prototype.G_=function(){var t=this;this.Ja.Qa((function(){return i.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return i.__generator(this,(function(r){return t=this.W_.Sc(),(e=this.z_(t))&&e.then((function(e){n.Nr.qr((function(){return t.commit().then((function(){n.Lr.resolve(e)})).catch((function(t){n.H_(t)}))}))})).catch((function(t){n.H_(t)})),[2]}))}))}))},t.prototype.z_=function(t){try{var e=this.updateFunction(t);return!L(e)&&e.catch&&e.then?e:(this.Lr.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Lr.reject(t),null}},t.prototype.H_=function(t){var e=this;this.j_>0&&this.J_(t)?(this.j_-=1,this.Nr.qr((function(){return e.G_(),Promise.resolve()}))):this.Lr.reject(t)},t.prototype.J_=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Bt(e)}return!1},t}(),vr=function(t,e,n){this.query=t,this.targetId=e,this.view=n},mr=function(t){this.key=t,this.Y_=!1},yr=function(){function t(t,e,n,r,i){this.Wu=t,this.W_=e,this.X_=n,this.currentUser=r,this.Z_=i,this.tl=null,this.el=new De((function(t){return t.canonicalId()})),this.sl=new Map,this.nl=[],this.il=new S(T.F),this.rl=new Map,this.ol=new Pe,this.hl={},this.al=new Map,this.ul=cr.y_(),this.isPrimary=void 0,this.onlineState="Unknown"}return Object.defineProperty(t.prototype,"cl",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){this.tl=t},t.prototype.listen=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o,s;return i.__generator(this,(function(i){switch(i.label){case 0:return this._l("listen()"),(r=this.el.get(t))?(this.X_.n_(e=r.targetId),n=r.view.Q_(),[3,4]):[3,1];case 1:return[4,this.Wu.Uh(t.xe())];case 2:return o=i.sent(),s=this.X_.n_(o.targetId),[4,this.ll(t,e=o.targetId,"current"===s)];case 3:n=i.sent(),this.isPrimary&&this.W_.listen(o),i.label=4;case 4:return[2,(this.tl.du([n]),e)]}}))}))},t.prototype.ll=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,s,a,u,l;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.Wu.Kh(t,!0)];case 1:return r=i.sent(),o=new dr(t,r.zh),s=o.k_(r.documents),a=ie.Rs(e,n&&"Offline"!==this.onlineState),u=o.nr(s,!0===this.isPrimary,a),l=new vr(t,e,o),[2,(this.el.set(t,l),this.sl.has(e)?this.sl.get(e).push(t):this.sl.set(e,[t]),u.snapshot)]}}))}))},t.prototype.dl=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,this.Wu.Kh(t.query,!0)];case 1:return e=r.sent(),n=t.view.q_(e),[2,(this.isPrimary&&this.fl(t.targetId,n.x_),n)]}}))}))},t.prototype.fc=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r=this;return i.__generator(this,(function(i){switch(i.label){case 0:return this._l("unlisten()"),e=this.el.get(t),(n=this.sl.get(e.targetId)).length>1?[2,(this.sl.set(e.targetId,n.filter((function(e){return!e.isEqual(t)}))),void this.el.delete(t))]:this.isPrimary?(this.X_.r_(e.targetId),this.X_.Xc(e.targetId)?[3,2]:[4,this.Wu.jh(e.targetId,!1).then((function(){r.X_.h_(e.targetId),r.W_.fc(e.targetId),r.Tl(e.targetId)})).catch($e)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.Tl(e.targetId),[4,this.Wu.jh(e.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){switch(r.label){case 0:return this._l("write()"),[4,this.Wu.lh(t)];case 1:return n=r.sent(),this.X_.Zc(n.batchId),this.ml(n.batchId,e),[4,this.El(n.zi)];case 2:return r.sent(),[4,this.W_.uc()];case 3:return r.sent(),[2]}}))}))},t.prototype.runTransaction=function(t,e,n){new pr(t,this.W_,e,n).K_()},t.prototype.vh=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:this._l("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.Wu.vh(t)];case 2:return e=r.sent(),t.Ts.forEach((function(t,e){var r=n.rl.get(e);r&&(Ee(t.Ps.size+t.Vs.size+t.gs.size<=1,"Limbo resolution for single document contains multiple changes."),t.Ps.size>0?r.Y_=!0:t.Vs.size>0?Ee(r.Y_,"Received change for limbo target document without add."):t.gs.size>0&&(Ee(r.Y_,"Received remove for limbo target document without add."),r.Y_=!1))})),[4,this.El(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,$e(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.B_=function(t,e){if(this.isPrimary&&0===e||!this.isPrimary&&1===e){this._l("applyOnlineStateChange()");var n=[];this.el.forEach((function(e,r){var i=r.view.B_(t);i.snapshot&&n.push(i.snapshot)})),this.tl.wl(t),this.tl.du(n),this.onlineState=t,this.isPrimary&&this.X_.c_(t)}},t.prototype.Ic=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s,a,u=this;return i.__generator(this,(function(i){switch(i.label){case 0:return this._l("rejectListens()"),this.X_.a_(t,"rejected",e),n=this.rl.get(t),(r=n&&n.key)?(this.il=this.il.remove(r),this.rl.delete(t),this.Il(),o=(o=new S(T.F)).it(r,new wt(r,b.S())),s=Xt().add(r),a=new re(b.MIN,new Map,new x(Se),o,s),[2,this.vh(a)]):[4,this.Wu.jh(t,!1).then((function(){return u.Tl(t,e)})).catch($e)];case 1:return i.sent(),[2]}}))}))},t.prototype.I_=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r;return i.__generator(this,(function(i){switch(i.label){case 0:return this._l("applyBatchState()"),[4,this.Wu.fh(t)];case 1:return null===(r=i.sent())?[3,6]:"pending"!==e?[3,3]:[4,this.W_.uc()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.Rl(t,n||null),this.Wu.Yh(t)):Ce("Unknown batchState: "+e),i.label=4;case 4:return[4,this.El(r)];case 5:return i.sent(),[3,7];case 6:be("SyncEngine","Cannot apply mutation batch with id: "+t),i.label=7;case 7:return[2]}}))}))},t.prototype.pc=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){switch(r.label){case 0:this._l("applySuccessfulWrite()"),this.Rl(e=t.batch.batchId,null),this.Al(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.Wu.mh(t)];case 2:return n=r.sent(),this.X_.e_(e,"acknowledged"),[4,this.El(n)];case 3:return r.sent(),[3,6];case 4:return[4,$e(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.vc=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){switch(r.label){case 0:this._l("rejectFailedWrite()"),this.Rl(t,e),this.Al(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.Wu.Ah(t)];case 2:return n=r.sent(),this.X_.e_(t,"rejected",e),[4,this.El(n)];case 3:return r.sent(),[3,6];case 4:return[4,$e(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Pl=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){switch(r.label){case 0:return this.W_.Ju()||be("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.Wu.gh()];case 1:return-1===(e=r.sent())?[2,void t.resolve()]:((n=this.al.get(e)||[]).push(t),this.al.set(e,n),[2])}}))}))},t.prototype.Al=function(t){(this.al.get(t)||[]).forEach((function(t){t.resolve()})),this.al.delete(t)},t.prototype.Vl=function(t){this.al.forEach((function(e){e.forEach((function(e){e.reject(new d(f.CANCELLED,t))}))})),this.al.clear()},t.prototype.ml=function(t,e){var n=this.hl[this.currentUser.s()];n||(n=new S(Se)),n=n.it(t,e),this.hl[this.currentUser.s()]=n},t.prototype.Rl=function(t,e){var n=this.hl[this.currentUser.s()];if(n){var r=n.get(t);r&&(e?r.reject(e):r.resolve(),n=n.remove(t)),this.hl[this.currentUser.s()]=n}},t.prototype.Tl=function(t,e){var n=this;void 0===e&&(e=null),this.X_.r_(t);for(var r=0,i=this.sl.get(t);r<i.length;r++){var o=i[r];this.el.delete(o),e&&this.tl.gl(o,e)}if(this.sl.delete(t),this.isPrimary){var s=this.ol.$i(t);this.ol.Ni(t),s.forEach((function(t){n.ol.Mi(t)||n.pl(t)}))}},t.prototype.pl=function(t){var e=this.il.get(t);null!==e&&(this.W_.fc(e),this.il=this.il.remove(t),this.rl.delete(e),this.Il())},t.prototype.fl=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof hr?(this.ol.vi(i.key,t),this.yl(i)):i instanceof fr?(be("SyncEngine","Document no longer in limbo: "+i.key),this.ol.Di(i.key,t),this.ol.Mi(i.key)||this.pl(i.key)):Ce("Unknown limbo change: "+JSON.stringify(i))}},t.prototype.yl=function(t){var e=t.key;this.il.get(e)||(be("SyncEngine","New document in limbo: "+e),this.nl.push(e),this.Il())},t.prototype.Il=function(){for(;this.nl.length>0&&this.il.size<this.Z_;){var t=this.nl.shift(),e=this.ul.next();this.rl.set(e,new mr(t)),this.il=this.il.it(t,e),this.W_.listen(new jt(Et.ve(t.path).xe(),e,2,qe.kr))}},t.prototype.bl=function(){return this.il},t.prototype.vl=function(){return this.nl},t.prototype.El=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s=this;return i.__generator(this,(function(i){switch(i.label){case 0:return n=[],r=[],o=[],this.el.forEach((function(i,a){o.push(Promise.resolve().then((function(){var e=a.view.k_(t);return e.M_?s.Wu.Kh(a.query,!1).then((function(t){return a.view.k_(t.documents,e)})):e})).then((function(t){var i=e&&e.Ts.get(a.targetId),o=a.view.nr(t,!0===s.isPrimary,i);if(s.fl(a.targetId,o.x_),o.snapshot){s.isPrimary&&s.X_.a_(a.targetId,o.snapshot.fromCache?"not-current":"current"),n.push(o.snapshot);var u=Be.br(a.targetId,o.snapshot);r.push(u)}})))})),[4,Promise.all(o)];case 1:return i.sent(),this.tl.du(n),[4,this.Wu.Lh(r)];case 2:return i.sent(),[2]}}))}))},t.prototype._l=function(t){},t.prototype.Dc=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?(this.Vl("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.Wu.oh(t)]):[3,3];case 1:return n=r.sent(),this.X_.oh(t,n.uh,n._h),[4,this.El(n.ah)];case 2:r.sent(),r.label=3;case 3:return[4,this.W_.Dc()];case 4:return r.sent(),[2]}}))}))},t.prototype.Cc=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o,s,a,u=this;return i.__generator(this,(function(i){switch(i.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.W_.Cc(!0)]);case 1:return i.sent(),e=this.X_.Yc(),[4,this.Sl(e.j())];case 2:for(n=i.sent(),r=0,o=n;r<o.length;r++)this.W_.listen(o[r]);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,s=[],a=Promise.resolve(),this.sl.forEach((function(t,e){u.X_.o_(e)?s.push(e):a=a.then((function(){return u.Tl(e),u.Wu.jh(e,!0)})),u.W_.fc(e)})),[4,a]);case 4:return i.sent(),[4,this.Sl(s)];case 5:return i.sent(),this.Dl(),[4,this.W_.Cc(!1)];case 6:i.sent(),i.label=7;case 7:return[2]}}))}))},t.prototype.Dl=function(){var t=this;this.rl.forEach((function(e,n){t.W_.fc(n)})),this.ol.Fi(),this.rl=new Map,this.il=new S(T.F)},t.prototype.Sl=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o,s,a,u,l,c,h,f,d;return i.__generator(this,(function(i){switch(i.label){case 0:e=[],n=[],r=0,o=t,i.label=1;case 1:return r<o.length?(a=void 0,(u=this.sl.get(s=o[r]))&&0!==u.length?[4,this.Wu.jh(s,!0)]:[3,8]):[3,14];case 2:return i.sent(),[4,this.Wu.Uh(u[0].xe())];case 3:a=i.sent(),l=0,c=u,i.label=4;case 4:return l<c.length?(h=this.el.get(c[l]),[4,this.dl(h)]):[3,7];case 5:(f=i.sent()).snapshot&&n.push(f.snapshot),i.label=6;case 6:return l++,[3,4];case 7:return[3,12];case 8:return[4,this.Wu.ta(s)];case 9:return d=i.sent(),[4,this.Wu.Uh(d)];case 10:return a=i.sent(),[4,this.ll(this.Cl(d),s,!1)];case 11:i.sent(),i.label=12;case 12:e.push(a),i.label=13;case 13:return r++,[3,1];case 14:return[2,(this.tl.du(n),e)]}}))}))},t.prototype.Cl=function(t){return new Et(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)},t.prototype.Jh=function(){return this.Wu.Jh()},t.prototype.R_=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return this.isPrimary?(be("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!this.sl.has(t))return[3,8];switch(e){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,this.Wu.ea()];case 3:return r=i.sent(),o=re.Is(t,"current"===e),[4,this.El(r,o)];case 4:return i.sent(),[3,8];case 5:return[4,this.Wu.jh(t,!0)];case 6:return i.sent(),this.Tl(t,n),[3,8];case 7:Ce("Unexpected target state: "+e),i.label=8;case 8:return[2]}}))}))},t.prototype.A_=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s,a,u,l,c,h=this;return i.__generator(this,(function(f){switch(f.label){case 0:if(!this.isPrimary)return[3,10];n=0,r=t,f.label=1;case 1:return n<r.length?[4,this.Wu.ta(r[n])]:[3,6];case 2:return o=f.sent(),[4,this.Wu.Uh(o)];case 3:return s=f.sent(),[4,this.ll(this.Cl(o),s.targetId,!1)];case 4:f.sent(),this.W_.listen(s),f.label=5;case 5:return n++,[3,1];case 6:a=function(t){return i.__generator(this,(function(e){switch(e.label){case 0:return u.sl.has(t)?[4,u.Wu.jh(t,!1).then((function(){h.W_.fc(t),h.Tl(t)})).catch($e)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},u=this,l=0,c=e,f.label=7;case 7:return l<c.length?[5,a(c[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))},t.prototype.enableNetwork=function(){return this.Wu.Zh(!0),this.W_.enableNetwork()},t.prototype.disableNetwork=function(){return this.Wu.Zh(!1),this.W_.disableNetwork()},t.prototype.an=function(t){var e=this.rl.get(t);if(e&&e.Y_)return Xt().add(e.key);var n=Xt(),r=this.sl.get(t);if(!r)return n;for(var i=0,o=r;i<o.length;i++){var s=this.el.get(o[i]);n=n.Ft(s.view.C_)}return n},t}(),gr=function(){this.kl=null,this.targetId=0,this.Nl=[]},_r=function(){function t(t){this.mc=t,this.Fl=new De((function(t){return t.canonicalId()})),this.onlineState="Unknown",this.$l=new Set,this.mc.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.Fl.get(e);return r||(n=!0,r=new gr,this.Fl.set(e,r)),r.Nl.push(t),t.B_(this.onlineState),r.kl&&t.Ml(r.kl)&&this.Ll(),n?this.mc.listen(e).then((function(t){return r.targetId=t,t})):Promise.resolve(r.targetId)},t.prototype.fc=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o;return i.__generator(this,(function(i){return n=!1,(r=this.Fl.get(e=t.query))&&(o=r.Nl.indexOf(t))>=0&&(r.Nl.splice(o,1),n=0===r.Nl.length),n?[2,(this.Fl.delete(e),this.mc.fc(e))]:[2]}))}))},t.prototype.du=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],o=this.Fl.get(i.query);if(o){for(var s=0,a=o.Nl;s<a.length;s++)a[s].Ml(i)&&(e=!0);o.kl=i}}e&&this.Ll()},t.prototype.gl=function(t,e){var n=this.Fl.get(t);if(n)for(var r=0,i=n.Nl;r<i.length;r++)i[r].onError(e);this.Fl.delete(t)},t.prototype.wl=function(t){this.onlineState=t;var e=!1;this.Fl.forEach((function(n,r){for(var i=0,o=r.Nl;i<o.length;i++)o[i].B_(t)&&(e=!0)})),e&&this.Ll()},t.prototype.Ol=function(t){this.$l.add(t),t.next()},t.prototype.xl=function(t){this.$l.delete(t)},t.prototype.Ll=function(){this.$l.forEach((function(t){t.next()}))},t}(),br=function(){function t(t,e,n){this.query=t,this.Bl=e,this.Ul=!1,this.ql=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Ml=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new ne(t.query,t.docs,t.cs,e,t._s,t.fromCache,t.ls,!0)}var o=!1;return this.Ul?this.Ql(t)&&(this.Bl.next(t),o=!0):this.Wl(t,this.onlineState)&&(this.jl(t),o=!0),this.ql=t,o},t.prototype.onError=function(t){this.Bl.error(t)},t.prototype.B_=function(t){this.onlineState=t;var e=!1;return this.ql&&!this.Ul&&this.Wl(this.ql,t)&&(this.jl(this.ql),e=!0),e},t.prototype.Wl=function(t,e){return!t.fromCache||!(this.options.Kl&&"Offline"!==e||t.docs.U()&&"Offline"!==e)},t.prototype.Ql=function(t){return t.docChanges.length>0||!!(t.ls||this.ql&&this.ql.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.jl=function(t){t=ne.fs(t.query,t.docs,t._s,t.fromCache),this.Ul=!0,this.Bl.next(t)},t}(),wr=function(){function t(){}return t.prototype.ih=function(t){this.Gl=t},t.prototype.wr=function(t,e,n,r){var i=this;return e.Oe()||n.isEqual(b.MIN)?this.zl(t,e):this.Gl.Tr(t,r).next((function(o){var a=i.Hl(e,o);return(e.je()||e.Ke())&&i.M_(e.ge,a,r,n)?i.zl(t,e):(ge()<=s.LogLevel.DEBUG&&be("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),e.toString()),i.Gl.wr(t,e,n).next((function(t){return a.forEach((function(e){t=t.it(e.key,e)})),t})))}))},t.prototype.Hl=function(t,e){var n=new x((function(e,n){return t.Be(e,n)}));return e.forEach((function(e,r){r instanceof bt&&t.matches(r)&&(n=n.add(r))})),n},t.prototype.M_=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.D(r)>0)},t.prototype.zl=function(t,e){return ge()<=s.LogLevel.DEBUG&&be("IndexFreeQueryEngine","Using full collection scan to execute query: %s",e.toString()),this.Gl.wr(t,e,b.MIN)},t}();function kr(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Er(e)),e=Cr(t.get(n),e);return Er(e)}function Cr(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Er(t){return t+"\x01\x01"}function Tr(t){var e=t.length;if(Ee(e>=2,"Invalid path "+t),2===e)return Ee("\x01"===t.charAt(0)&&"\x01"===t.charAt(1),"Non-empty path "+t+" had length 2"),k.H;for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Ce('Invalid encoded resource path: "'+t+'"'),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Ce('Invalid encoded resource path: "'+t+'"')}o=s+2}return new k(r)}var Sr=function(){function t(e){this.db=e,12.2===t.Jl(a.getUA())&&we("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.Yl=function(e,n,r){return be("SimpleDb","Opening database:",e),new Ve((function(i,o){var s=window.indexedDB.open(e,n);s.onsuccess=function(e){i(new t(e.target.result))},s.onblocked=function(){o(new d(f.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=function(t){var e=t.target.error;o("VersionError"===e.name?new d(f.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):e)},s.onupgradeneeded=function(t){be("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion),r.createOrUpgrade(t.target.result,s.transaction,t.oldVersion,Xr).next((function(){be("SimpleDb","Database upgrade to version "+Xr+" complete")}))}})).Wi()},t.delete=function(t){return be("SimpleDb","Removing database:",t),Nr(window.indexedDB.deleteDatabase(t)).Wi()},t.Uc=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(t.Xl())return!0;if(void 0===window.navigator)return!1;var e=a.getUA(),n=t.Jl(e),r=0<n&&n<10,i=t.Zl(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Xl=function(){var t;return"undefined"!=typeof __PRIVATE_process&&"YES"===(null===(t=__PRIVATE_process.__PRIVATE_env)||void 0===t?void 0:t.td)},t.ed=function(t,e){return t.store(e)},t.Jl=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Zl=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.sd=function(t){this.db.onversionchange=function(e){return t(e)}},t.prototype.runTransaction=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,s,a,u;return i.__generator(this,(function(l){switch(l.label){case 0:r="readonly"===t,o=0,s=function(){var t,s,u,l,c;return i.__generator(this,(function(i){switch(i.label){case 0:++o,t=Ar.open(a.db,r?"readonly":"readwrite",e),i.label=1;case 1:return i.trys.push([1,3,,4]),s=n(t).catch((function(e){return t.abort(e),Ve.reject(e)})).Wi(),u={},s.catch((function(){})),[4,t.nd];case 2:return[2,(u.value=(i.sent(),s),u)];case 3:return be("SimpleDb","Transaction failed with error: %s. Retrying: %s.",(l=i.sent()).message,c="FirebaseError"!==l.name&&o<3),c?[3,4]:[2,{value:Promise.reject(l)}];case 4:return[2]}}))},a=this,l.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=l.sent()))return[2,u.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db.close()},t}(),Ir=function(){function t(t){this.rd=t,this.od=!1,this.hd=null}return Object.defineProperty(t.prototype,"Bi",{get:function(){return this.od},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ad",{get:function(){return this.hd},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.rd=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.od=!0},t.prototype.ud=function(t){this.hd=t},t.prototype.delete=function(){return Nr(this.rd.delete())},t}(),Ar=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this._d=new ze,this.transaction.oncomplete=function(){e._d.resolve()},this.transaction.onabort=function(){t.error?e._d.reject(t.error):e._d.resolve()},this.transaction.onerror=function(t){var n=Or(t.target.error);e._d.reject(n)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"nd",{get:function(){return this._d.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this._d.reject(t),this.aborted||(be("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new xr(e)},t}(),xr=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(be("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(be("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Nr(n)},t.prototype.add=function(t){return be("SimpleDb","ADD",this.store.name,t,t),Nr(this.store.add(t))},t.prototype.get=function(t){var e=this;return Nr(this.store.get(t)).next((function(n){return void 0===n&&(n=null),be("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return be("SimpleDb","DELETE",this.store.name,t),Nr(this.store.delete(t))},t.prototype.count=function(){return be("SimpleDb","COUNT",this.store.name),Nr(this.store.count())},t.prototype.ld=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.dd(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.fd=function(t,e){be("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Td=!1;var r=this.cursor(n);return this.dd(r,(function(t,e,n){return n.delete()}))},t.prototype.md=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.dd(r,e)},t.prototype.Ed=function(t){var e=this.cursor({});return new Ve((function(n,r){e.onerror=function(t){var e=Or(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.dd=function(t,e){var n=[];return new Ve((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Ir(i),s=e(i.primaryKey,i.value,o);if(s instanceof Ve){var a=s.catch((function(t){return o.done(),Ve.reject(t)}));n.push(a)}o.Bi?r():null===o.ad?i.continue():i.continue(o.ad)}else r()}})).next((function(){return Ve.Ki(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Td?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Nr(t){return new Ve((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Or(t.target.error);n(e)}}))}var Dr=!1;function Or(t){var e=Sr.Jl(a.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new d("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Dr||(Dr=!0,setTimeout((function(){throw r}),0)),r}}return t}var Rr=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.ur=n,this.Jo=r,this.wd={}}return t.Id=function(e,n,r,i){return Ee(""!==e.uid,"UserID must not be an empty string."),new t(e.t()?e.uid:"",n,r,i)},t.prototype.Rd=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vr(t).md({index:ni.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.mh=function(t,e,n){return this.Ad(t).next((function(e){return e.lastStreamToken=n.toBase64(),Fr(t).put(e)}))},t.prototype.ph=function(t){return this.Ad(t).next((function(t){return P.fromBase64String(t.lastStreamToken)}))},t.prototype.yh=function(t,e){return this.Ad(t).next((function(n){return n.lastStreamToken=e.toBase64(),Fr(t).put(n)}))},t.prototype.dh=function(t,e,n,r){var i=this,o=Mr(t),s=Vr(t);return s.add({}).next((function(a){Ee("number"==typeof a,"Auto-generated key is not a number");for(var u=new Oe(a,e,n,r),l=i.serializer.Pd(i.userId,u),c=[],h=new x((function(t,e){return Se(t.K(),e.K())})),f=0,d=r;f<d.length;f++){var p=d[f],v=ri.key(i.userId,p.key.path,a);h=h.add(p.key.path.L()),c.push(s.put(l)),c.push(o.put(v,ri.PLACEHOLDER))}return h.forEach((function(e){c.push(i.ur.Vd(t,e))})),t.rr((function(){i.wd[a]=u.keys()})),Ve.Ki(c).next((function(){return u}))}))},t.prototype.Ph=function(t,e){var n=this;return Vr(t).get(e).next((function(t){return t?(Ee(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.gd(t)):null}))},t.prototype.Th=function(t,e){var n=this;return this.wd[e]?Ve.resolve(this.wd[e]):this.Ph(t,e).next((function(t){if(t){var r=t.keys();return n.wd[e]=r,r}return null}))},t.prototype.xh=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Vr(t).md({index:ni.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Ee(e.batchId>=r,"Should have found mutation after "+r),o=n.serializer.gd(e)),i.done()})).next((function(){return o}))},t.prototype.gh=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Vr(t).md({index:ni.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.hh=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vr(t).ld(ni.userMutationsIndex,n).next((function(t){return t.map((function(t){return e.serializer.gd(t)}))}))},t.prototype._r=function(t,e){var n=this,r=ri.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Mr(t).md({range:i},(function(r,i,s){var a=r[0],u=r[2],l=Tr(r[1]);if(a===n.userId&&e.path.isEqual(l))return Vr(t).get(u).next((function(t){if(!t)throw Ce("Dangling document-mutation reference found: "+r+" which points to "+u);Ee(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+u),o.push(n.serializer.gd(t))}));s.done()})).next((function(){return o}))},t.prototype.Er=function(t,e){var n=this,r=new x(Se),i=[];return e.forEach((function(e){var o=ri.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Mr(t).md({range:s},(function(t,i,o){var s=t[0],a=t[2],u=Tr(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()}));i.push(a)})),Ve.Ki(i).next((function(){return n.pd(t,r)}))},t.prototype.Vr=function(t,e){var n=this,r=e.path,i=r.length+1,o=ri.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new x(Se);return Mr(t).md({range:s},(function(t,e,o){var s=t[0],u=t[2],l=Tr(t[1]);s===n.userId&&r.q(l)?l.length===i&&(a=a.add(u)):o.done()})).next((function(){return n.pd(t,a)}))},t.prototype.pd=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Vr(t).get(e).next((function(t){if(null===t)throw Ce("Dangling document-mutation reference found, which points to "+e);Ee(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),r.push(n.serializer.gd(t))})))})),Ve.Ki(i).next((function(){return r}))},t.prototype.Vh=function(t,e){var n=this;return Lr(t.yd,this.userId,e).next((function(r){return t.rr((function(){n.Xh(e.batchId)})),Ve.forEach(r,(function(e){return n.Jo.bd(t,e)}))}))},t.prototype.Xh=function(t){delete this.wd[t]},t.prototype.Rh=function(t){var e=this;return this.Rd(t).next((function(n){if(!n)return Ve.resolve();var r=IDBKeyRange.lowerBound(ri.prefixForUser(e.userId)),i=[];return Mr(t).md({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Tr(t[1]);i.push(o)}else r.done()})).next((function(){Ee(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map((function(t){return t.K()})))}))}))},t.prototype.Mi=function(t,e){return Pr(t,this.userId,e)},t.prototype.Ad=function(t){var e=this;return Fr(t).get(this.userId).next((function(t){return t||new ei(e.userId,-1,"")}))},t}();function Pr(t,e,n){var r=ri.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Mr(t).md({range:o,Td:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function Lr(t,e,n){var r=t.store(ni.store),i=t.store(ri.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.md({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){Ee(1===a,"Dangling document-mutation reference found: Missing batch "+n.batchId)})));for(var l=[],c=0,h=n.mutations;c<h.length;c++){var f=h[c],d=ri.key(e,f.key.path,n.batchId);o.push(i.delete(d)),l.push(f.key)}return Ve.Ki(o).next((function(){return l}))}function Vr(t){return bi.ed(t,ni.store)}function Mr(t){return bi.ed(t,ri.store)}function Fr(t){return bi.ed(t,ei.store)}var jr=function(){function t(t,e){this.Jo=t,this.serializer=e}return t.prototype.Qh=function(t){var e=this;return this.vd(t).next((function(n){var r=new cr(n.highestTargetId);return n.highestTargetId=r.next(),e.Sd(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.bh=function(t){return this.vd(t).next((function(t){return b.v(new _(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Dd=function(t){return qr(t.yd)},t.prototype.$h=function(t,e,n){var r=this;return this.vd(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.k()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Sd(t,i)}))},t.prototype.Wh=function(t,e){var n=this;return this.Cd(t,e).next((function(){return n.vd(t).next((function(r){return r.targetCount+=1,n.kd(e,r),n.Sd(t,r)}))}))},t.prototype.Nh=function(t,e){return this.Cd(t,e)},t.prototype.Nd=function(t,e){var n=this;return this.Fd(t,e.targetId).next((function(){return Ur(t).delete(e.targetId)})).next((function(){return n.vd(t)})).next((function(e){return Ee(e.targetCount>0,"Removing from an empty target cache"),e.targetCount-=1,n.Sd(t,e)}))},t.prototype.xo=function(t,e,n){var r=this,i=0,o=[];return Ur(t).md((function(s,a){var u=r.serializer.$d(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Nd(t,u)))})).next((function(){return Ve.Ki(o)})).next((function(){return i}))},t.prototype.Xs=function(t,e){var n=this;return Ur(t).md((function(t,r){var i=n.serializer.$d(r);e(i)}))},t.prototype.vd=function(t){return Br(t.yd)},t.prototype.Sd=function(t,e){return(n=t,bi.ed(n,ci.store)).put(ci.key,e);var n},t.prototype.Cd=function(t,e){return Ur(t).put(this.serializer.Md(e))},t.prototype.kd=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Ld=function(t){return this.vd(t).next((function(t){return t.targetCount}))},t.prototype.qh=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return Ur(t).md({range:i,index:ui.queryTargetsIndexName},(function(t,r,i){var s=n.serializer.$d(r);e.isEqual(s.target)&&(o=s,i.done())})).next((function(){return o}))},t.prototype.Dh=function(t,e,n){var r=this,i=[],o=zr(t);return e.forEach((function(e){var s=kr(e.path);i.push(o.put(new li(n,s))),i.push(r.Jo.vi(t,e))})),Ve.Ki(i)},t.prototype.Sh=function(t,e,n){var r=this,i=zr(t);return Ve.forEach(e,(function(e){var o=kr(e.path);return Ve.Ki([i.delete([n,o]),r.Jo.Di(t,e)])}))},t.prototype.Fd=function(t,e){var n=zr(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.Gh=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=zr(t),i=Xt();return r.md({range:n,Td:!0},(function(t,e,n){var r=Tr(t[1]),o=new T(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Mi=function(t,e){var n=kr(e.path),r=IDBKeyRange.bound([n],[Ae(n)],!1,!0),i=0;return zr(t).md({index:li.documentTargetsIndex,Td:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.un=function(t,e){var n=this;return Ur(t).get(e).next((function(t){return t?n.serializer.$d(t):null}))},t}();function Ur(t){return bi.ed(t,ui.store)}function Br(t){return Sr.ed(t,ci.store).get(ci.key).next((function(t){return Ee(null!==t,"Missing metadata row."),t}))}function qr(t){return Br(t).next((function(t){return t.highestListenSequenceNumber}))}function zr(t){return bi.ed(t,li.store)}var Hr=function(){function t(t,e){this.serializer=t,this.ur=e}return t.prototype.Yi=function(t,e,n){return Kr(t).put(Wr(e),n)},t.prototype.Zi=function(t,e){var n=Kr(t),r=Wr(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Od(t,r)}))},t.prototype.tr=function(t,e){var n=this;return Kr(t).get(Wr(e)).next((function(t){return n.xd(t)}))},t.prototype.Bd=function(t,e){var n=this;return Kr(t).get(Wr(e)).next((function(t){var e=n.xd(t);return e?{Ud:e,size:Qr(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Gt();return this.qd(t,e,(function(t,e){var i=n.xd(e);r=r.it(t,i)})).next((function(){return r}))},t.prototype.Qd=function(t,e){var n=this,r=Gt(),i=new S(T.F);return this.qd(t,e,(function(t,e){var o=n.xd(e);o?(r=r.it(t,o),i=i.it(t,Qr(e))):(r=r.it(t,null),i=i.it(t,0))})).next((function(){return{Wd:r,jd:i}}))},t.prototype.qd=function(t,e,n){if(e.U())return Ve.resolve();var r=IDBKeyRange.bound(e.first().path.j(),e.last().path.j()),i=e._t(),o=i.wt();return Kr(t).md({range:r},(function(t,e,r){for(var s=T.nt(t);o&&T.F(o,s)<0;)n(o,null),o=i.wt();o&&o.isEqual(s)&&(n(o,e),o=i.It()?i.wt():null),o?r.ud(o.path.j()):r.done()})).next((function(){for(;o;)n(o,null),o=i.It()?i.wt():null}))},t.prototype.wr=function(t,e,n){var r=this,i=Wt(),o=e.path.length+1,s={};if(n.isEqual(b.MIN)){var a=e.path.j();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.j(),l=this.serializer.Kd(n);s.range=IDBKeyRange.lowerBound([u,l],!0),s.index=si.collectionReadTimeIndex}return Kr(t).md(s,(function(t,n,s){if(t.length===o){var a=r.serializer.Gd(n);e.path.q(a.key.path)?a instanceof bt&&e.matches(a)&&(i=i.it(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.ea=function(t,e){var n=this,r=Ht(),i=this.serializer.Kd(e),o=Kr(t),s=IDBKeyRange.lowerBound(i,!0);return o.md({index:si.readTimeIndex,range:s},(function(t,e){var o=n.serializer.Gd(e);r=r.it(o.key,o),i=e.readTime})).next((function(){return{sa:r,readTime:n.serializer.zd(i)}}))},t.prototype.na=function(t){var e=this,n=Kr(t),r=b.MIN;return n.md({index:si.readTimeIndex,reverse:!0},(function(t,n,i){n.readTime&&(r=e.serializer.zd(n.readTime)),i.done()})).next((function(){return r}))},t.prototype.Eh=function(e){return new t.Hd(this,!!e&&e.wh)},t.prototype.Jd=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Gr(t).get(ai.key).next((function(t){return Ee(!!t,"Missing document cache metadata"),t}))},t.prototype.Od=function(t,e){return Gr(t).put(ai.key,e)},t.prototype.xd=function(t){if(t){var e=this.serializer.Gd(t);return e instanceof wt&&e.version.isEqual(b.S())?null:e}return null},t}();function Gr(t){return bi.ed(t,ai.store)}function Kr(t){return bi.ed(t,si.store)}function Wr(t){return t.path.j()}function Qr(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ce("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}Hr.Hd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Yd=e,r.wh=n,r.Xd=new De((function(t){return t.toString()})),r}return i.__extends(e,t),e.prototype.nr=function(t){var e=this,n=[],r=0,i=new x((function(t,e){return Se(t.K(),e.K())}));return this.zi.forEach((function(o,s){var a=e.Xd.get(o);if(s){var u=e.Yd.serializer.Zd(s,e.readTime);i=i.add(o.path.L());var l=Qr(u);r+=l-a,n.push(e.Yd.Yi(t,o,u))}else if(r-=a,e.wh){var c=e.Yd.serializer.Zd(new wt(o,b.S()),e.readTime);n.push(e.Yd.Yi(t,o,c))}else n.push(e.Yd.Zi(t,o))})),i.forEach((function(r){n.push(e.Yd.ur.Vd(t,r))})),n.push(this.Yd.updateMetadata(t,r)),Ve.Ki(n)},e.prototype.er=function(t,e){var n=this;return this.Yd.Bd(t,e).next((function(t){return null===t?(n.Xd.set(e,0),null):(n.Xd.set(e,t.size),t.Ud)}))},e.prototype.sr=function(t,e){var n=this;return this.Yd.Qd(t,e).next((function(t){var e=t.Wd;return t.jd.forEach((function(t,e){n.Xd.set(t,e)})),e}))},e}(Me);var Zr=function(){function t(){this.tf=new Yr}return t.prototype.Vd=function(t,e){return this.tf.add(e),Ve.resolve()},t.prototype.Pr=function(t,e){return Ve.resolve(this.tf.getEntries(e))},t}(),Yr=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.B(),n=t.L(),r=this.index[e]||new x(k.F),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.B(),n=t.L(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new x(k.F)).j()},t}(),Xr=10,Jr=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;Ee(n<r&&n>=0&&r<=Xr,"Unexpected schema upgrade from v"+n+" to v"+r+".");var o=new Ar(e);n<1&&r>=1&&(function(t){t.createObjectStore(ti.store)}(t),function(t){t.createObjectStore(ei.store,{keyPath:ei.keyPath}),t.createObjectStore(ni.store,{keyPath:ni.keyPath,autoIncrement:!0}).createIndex(ni.userMutationsIndex,ni.userMutationsKeyPath,{unique:!0}),t.createObjectStore(ri.store)}(t),fi(t),function(t){t.createObjectStore(si.store)}(t));var s=Ve.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(li.store),t.deleteObjectStore(ui.store),t.deleteObjectStore(ci.store)}(t),fi(t)),s=s.next((function(){return function(t){var e=t.store(ci.store),n=new ci(0,0,b.MIN.k(),0);return e.put(ci.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(ni.store).ld().next((function(n){t.deleteObjectStore(ni.store),t.createObjectStore(ni.store,{keyPath:ni.keyPath,autoIncrement:!0}).createIndex(ni.userMutationsIndex,ni.userMutationsKeyPath,{unique:!0});var r=e.store(ni.store),i=n.map((function(t){return r.put(t)}));return Ve.Ki(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(di.store,{keyPath:di.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(ai.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(si.store);e.createIndex(si.readTimeIndex,si.readTimeIndexPath,{unique:!1}),e.createIndex(si.collectionReadTimeIndex,si.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.rewriteCanonicalIds(o)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(si.store).md((function(t,n){e+=Qr(n)})).next((function(){var n=new ai(e);return t.store(ai.store).put(ai.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(ei.store),r=t.store(ni.store);return n.ld().next((function(n){return Ve.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ld(ni.userMutationsIndex,i).next((function(r){return Ve.forEach(r,(function(r){Ee(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=e.serializer.gd(r);return Lr(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(li.store),n=t.store(si.store);return qr(t).next((function(t){var r=[];return n.md((function(n,i){var o=new k(n),s=function(t){return[0,kr(t)]}(o);r.push(e.get(s).next((function(n){return n?Ve.resolve():function(n){return e.put(new li(0,kr(n),t))}(o)})))})).next((function(){return Ve.Ki(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(hi.store,{keyPath:hi.keyPath});var n=e.store(hi.store),r=new Yr,i=function(t){if(r.add(t)){var e=t.B(),i=t.L();return n.put({collectionId:e,parent:kr(i)})}};return e.store(si.store).md({Td:!0},(function(t,e){var n=new k(t);return i(n.L())})).next((function(){return e.store(ri.store).md({Td:!0},(function(t,e){var n=Tr(t[1]);return i(n.L())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(ui.store);return n.md((function(t,r){var i=e.serializer.$d(r),o=e.serializer.Md(i);return n.put(o)}))},t}(),$r=function(t,e){this.seconds=t,this.nanoseconds=e},ti=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};ti.store="owner",ti.key="owner";var ei=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};ei.store="mutationQueues",ei.keyPath="userId";var ni=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ni.store="mutations",ni.keyPath="batchId",ni.userMutationsIndex="userMutationsIndex",ni.userMutationsKeyPath=["userId","batchId"];var ri=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,kr(e)]},t.key=function(t,e,n){return[t,kr(e),n]},t}();ri.store="documentMutations",ri.PLACEHOLDER=new ri;var ii=function(t,e){this.path=t,this.readTime=e},oi=function(t,e){this.path=t,this.version=e},si=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};si.store="remoteDocuments",si.readTimeIndex="readTimeIndex",si.readTimeIndexPath="readTime",si.collectionReadTimeIndex="collectionReadTimeIndex",si.collectionReadTimeIndexPath=["parentPath","readTime"];var ai=function(t){this.byteSize=t};ai.store="remoteDocumentGlobal",ai.key="remoteDocumentGlobalKey";var ui=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};ui.store="targets",ui.keyPath="targetId",ui.queryTargetsIndexName="queryTargetsIndex",ui.queryTargetsKeyPath=["canonicalId","targetId"];var li=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};li.store="targetDocuments",li.keyPath=["targetId","path"],li.documentTargetsIndex="documentTargetsIndex",li.documentTargetsKeyPath=["path","targetId"];var ci=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};ci.key="targetGlobalKey",ci.store="targetGlobal";var hi=function(t,e){this.collectionId=t,this.parent=e};function fi(t){t.createObjectStore(li.store,{keyPath:li.keyPath}).createIndex(li.documentTargetsIndex,li.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(ui.store,{keyPath:ui.keyPath}).createIndex(ui.queryTargetsIndexName,ui.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(ci.store)}hi.store="collectionParents",hi.keyPath=["collectionId","parent"];var di=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};di.store="clientMetadata",di.keyPath="clientId";var pi=i.__spreadArrays(i.__spreadArrays(i.__spreadArrays([ei.store,ni.store,ri.store,si.store,ui.store,ti.store,ci.store,li.store],[di.store]),[ai.store]),[hi.store]),vi=function(){function t(){this.ef=new Yr}return t.prototype.Vd=function(t,e){var n=this;if(!this.ef.has(e)){var r=e.B(),i=e.L();t.rr((function(){n.ef.add(e)}));var o={collectionId:r,parent:kr(i)};return mi(t).put(o)}return Ve.resolve()},t.prototype.Pr=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Ae(e),""],!1,!0);return mi(t).ld(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Tr(o.parent))}return n}))},t}();function mi(t){return bi.ed(t,hi.store)}var yi=function(){function t(t){this.sf=t}return t.prototype.Gd=function(t){if(t.document)return this.sf.vn(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=T.nt(t.noDocument.path),n=this.nf(t.noDocument.readTime);return new wt(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){var r=T.nt(t.unknownDocument.path),i=this.nf(t.unknownDocument.version);return new kt(r,i)}return Ce("Unexpected DbRemoteDocument")},t.prototype.Zd=function(t,e){var n=this.Kd(e),r=t.key.path.L().j();if(t instanceof bt){var i=this.sf.bn(t);return new si(null,null,i,t.hasCommittedMutations,n,r)}if(t instanceof wt){var o=t.key.path.j(),s=this.if(t.version),a=t.hasCommittedMutations;return new si(null,new ii(o,s),null,a,n,r)}if(t instanceof kt){var u=t.key.path.j(),l=this.if(t.version);return new si(new oi(u,l),null,null,!0,n,r)}return Ce("Unexpected MaybeDocument")},t.prototype.Kd=function(t){var e=t.k();return[e.seconds,e.nanoseconds]},t.prototype.zd=function(t){var e=new _(t[0],t[1]);return b.v(e)},t.prototype.if=function(t){var e=t.k();return new $r(e.seconds,e.nanoseconds)},t.prototype.nf=function(t){var e=new _(t.seconds,t.nanoseconds);return b.v(e)},t.prototype.Pd=function(t,e){var n=this,r=e.baseMutations.map((function(t){return n.sf.$n(t)})),i=e.mutations.map((function(t){return n.sf.$n(t)}));return new ni(t,e.batchId,e.Ri.toMillis(),r,i)},t.prototype.gd=function(t){var e=this,n=(t.baseMutations||[]).map((function(t){return e.sf.xn(t)})),r=t.mutations.map((function(t){return e.sf.xn(t)})),i=_.fromMillis(t.localWriteTimeMs);return new Oe(t.batchId,i,n,r)},t.prototype.$d=function(t){var e,n=this.nf(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?this.nf(t.lastLimboFreeSnapshotVersion):b.MIN;return e=void 0!==t.query.documents?this.sf.Kn(t.query):this.sf.Yn(t.query),new jt(e,t.targetId,0,t.lastListenSequenceNumber,n,r,P.fromBase64String(t.resumeToken))},t.prototype.Md=function(t){var e,n=this.if(t.ts),r=this.if(t.lastLimboFreeSnapshotVersion);e=t.target.Pe()?this.sf.jn(t.target):this.sf.Gn(t.target);var i=t.resumeToken.toBase64();return new ui(t.targetId,t.target.canonicalId(),n,i,t.sequenceNumber,r,e)},t}(),gi="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",_i=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).yd=e,r.Ch=n,r}return i.__extends(e,t),e}(je),bi=function(){function t(e,n,r,i,o,s,a,u){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.$a=s,this.rf=u,this.hf=!1,this.isPrimary=!1,this.networkEnabled=!0,this.af=null,this.inForeground=!1,this.uf=null,this.cf=null,this._f=Number.NEGATIVE_INFINITY,this.lf=function(t){return Promise.resolve()},this.Jo=new Ci(this,o),this.df=n+t.ff,this.serializer=new yi(a),this.document=i.document,this.th=new jr(this.Jo,this.serializer),this.ur=new vi,this.hr=new Hr(this.serializer,this.ur),!i.window||!i.window.localStorage)throw new d(f.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=i.window,this.Tf=this.window.localStorage}return t.ed=function(t,e){if(t instanceof _i)return Sr.ed(t.yd,e);throw Ce("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.mf=function(e){if(!t.Uc())throw new d(f.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return new t(e.allowTabSynchronization,e.persistenceKey,e.clientId,e.platform,e.Ef,e.$a,e.serializer,e.rf)},t.prototype.start=function(){var t=this;return Sr.Yl(this.df,Xr,new Jr(this.serializer)).then((function(e){return t.wf=e,t.If()})).then((function(){return t.Rf(),t.Af(),t.Pf(),t.wf.runTransaction("readonly",[ci.store],(function(t){return qr(t)}))})).then((function(e){t.Vf=new qe(e,t.rf)})).then((function(){t.hf=!0})).catch((function(e){return t.wf&&t.wf.close(),Promise.reject(e)}))},t.prototype.gf=function(t){var e=this;return this.lf=function(n){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.ko?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.pf=function(t){var e=this;this.wf.sd((function(n){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.Zh=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.$a.qr((function(){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.ko?[4,this.If()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.If=function(){var t=this;return this.wf.runTransaction("readwrite",pi,(function(e){return ki(e).put(new di(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.yf(e).next((function(e){e||(t.isPrimary=!1,t.$a.qr((function(){return t.lf(!1)})))}))})).next((function(){return t.bf(e)})).next((function(n){return t.isPrimary&&!n?t.vf(e).next((function(){return!1})):!!n&&t.Sf(e).next((function(){return!0}))}))})).catch((function(e){if(!t.allowTabSynchronization)throw e;return be("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.$a.qr((function(){return t.lf(e)})),t.isPrimary=e}))},t.prototype.yf=function(t){var e=this;return wi(t).get(ti.key).next((function(t){return Ve.resolve(e.Df(t))}))},t.prototype.Cf=function(t){return ki(t).delete(this.clientId)},t.prototype.kf=function(){return i.__awaiter(this,void 0,void 0,(function(){var e=this;return i.__generator(this,(function(n){switch(n.label){case 0:return!this.isPrimary||this.Nf(this._f,18e5)?[3,2]:(this._f=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(n){var r=t.ed(n,di.store);return r.ld().next((function(t){var n=e.Ff(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return Ve.forEach(i,(function(t){return r.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:n.sent().forEach((function(t){e.window.localStorage.removeItem(e.$f(t.clientId))})),n.label=2;case 2:return[2]}}))}))},t.prototype.Pf=function(){var t=this;this.cf=this.$a.eo("client_metadata_refresh",4e3,(function(){return t.If().then((function(){return t.kf()})).then((function(){return t.Pf()}))}))},t.prototype.Df=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.bf=function(t){var e=this;return wi(t).get(ti.key).next((function(n){if(null!==n&&e.Nf(n.leaseTimestampMs,5e3)&&!e.Mf(n.ownerId)){if(e.Df(n)&&e.networkEnabled)return!0;if(!e.Df(n)){if(!n.allowTabSynchronization)throw new d(f.FAILED_PRECONDITION,gi);return!1}}return!(!e.networkEnabled||!e.inForeground)||ki(t).ld().next((function(t){return void 0===e.Ff(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&be("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.lc=function(){return i.__awaiter(this,void 0,void 0,(function(){var t=this;return i.__generator(this,(function(e){switch(e.label){case 0:return this.hf=!1,this.Lf(),this.cf&&(this.cf.cancel(),this.cf=null),this.Of(),this.xf(),[4,this.wf.runTransaction("readwrite",[ti.store,di.store],(function(e){return t.vf(e).next((function(){return t.Cf(e)}))}))];case 1:return e.sent(),this.wf.close(),this.Bf(),[2]}}))}))},t.prototype.Ff=function(t,e){var n=this;return t.filter((function(t){return n.Nf(t.updateTimeMs,e)&&!n.Mf(t.clientId)}))},t.prototype.Jh=function(){var t=this;return this.wf.runTransaction("readonly",[di.store],(function(e){return ki(e).ld().next((function(e){return t.Ff(e,18e5).map((function(t){return t.clientId}))}))}))},t.clearPersistence=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return t.Uc()?[4,Sr.delete(e+t.ff)]:[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"ko",{get:function(){return this.hf},enumerable:!0,configurable:!0}),t.prototype.Yo=function(t){return Rr.Id(t,this.serializer,this.ur,this.Jo)},t.prototype.eh=function(){return this.th},t.prototype.Zo=function(){return this.hr},t.prototype.nh=function(){return this.ur},t.prototype.runTransaction=function(t,e,n){var r,i=this;return be("IndexedDbPersistence","Starting transaction:",t),this.wf.runTransaction("readonly"===e?"readonly":"readwrite",pi,(function(o){return r=new _i(o,i.Vf.next()),"readwrite-primary"===e?i.yf(o).next((function(t){return!!t||i.bf(o)})).next((function(e){if(!e)throw we("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.$a.qr((function(){return i.lf(!1)})),new d(f.FAILED_PRECONDITION,Fe);return n(r)})).next((function(t){return i.Sf(o).next((function(){return t}))})):i.Uf(o).next((function(){return n(r)}))})).then((function(t){return r.or(),t}))},t.prototype.Uf=function(t){var e=this;return wi(t).get(ti.key).next((function(t){if(null!==t&&e.Nf(t.leaseTimestampMs,5e3)&&!e.Mf(t.ownerId)&&!e.Df(t)&&!t.allowTabSynchronization)throw new d(f.FAILED_PRECONDITION,gi)}))},t.prototype.Sf=function(t){var e=new ti(this.clientId,this.allowTabSynchronization,Date.now());return wi(t).put(ti.key,e)},t.Uc=function(){return Sr.Uc()},t.qf=function(t){var e=t.cn.projectId;return t.cn.Ei||(e+="."+t.cn.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.vf=function(t){var e=this,n=wi(t);return n.get(ti.key).next((function(t){return e.Df(t)?(be("IndexedDbPersistence","Releasing primary lease."),n.delete(ti.key)):Ve.resolve()}))},t.prototype.Nf=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(we("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Rf=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.uf=function(){t.$a.qr((function(){return t.inForeground="visible"===t.document.visibilityState,t.If()}))},this.document.addEventListener("visibilitychange",this.uf),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Of=function(){this.uf&&(this.document.removeEventListener("visibilitychange",this.uf),this.uf=null)},t.prototype.Af=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.af=function(){t.Lf(),t.$a.qr((function(){return t.lc()}))},this.window.addEventListener("unload",this.af))},t.prototype.xf=function(){this.af&&(this.window.removeEventListener("unload",this.af),this.af=null)},t.prototype.Mf=function(t){try{var e=null!==this.Tf.getItem(this.$f(t));return be("IndexedDbPersistence","Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return we("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Lf=function(){try{this.Tf.setItem(this.$f(this.clientId),String(Date.now()))}catch(t){we("Failed to set zombie client id.",t)}},t.prototype.Bf=function(){try{this.Tf.removeItem(this.$f(this.clientId))}catch(t){}},t.prototype.$f=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function wi(t){return t.store(ti.store)}function ki(t){return t.store(di.store)}bi.ff="main";var Ci=function(){function t(t,e){this.db=t,this.Qf=null,this.bo=new Xe(this,e)}return t.prototype.Mo=function(t){var e=this.Wf(t);return this.db.eh().Ld(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Wf=function(t){var e=0;return this.Oo(t,(function(t){e++})).next((function(){return e}))},t.prototype.Xs=function(t,e){return this.db.eh().Xs(t,e)},t.prototype.Oo=function(t,e){return this.jf(t,(function(t,n){return e(n)}))},t.prototype.Ho=function(t){this.Qf=t},t.prototype.vi=function(t,e){return Ei(t,e)},t.prototype.Di=function(t,e){return Ei(t,e)},t.prototype.xo=function(t,e,n){return this.db.eh().xo(t,e,n)},t.prototype.bd=function(t,e){return Ei(t,e)},t.prototype.Kf=function(t,e){return this.Qf.Mi(e)?Ve.resolve(!0):function(t,e){var n=!1;return Fr(t).Ed((function(r){return Pr(t,r,e).next((function(t){return t&&(n=!0),Ve.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Bo=function(t,e){var n=this,r=this.db.Zo().Eh(),i=[],o=0;return this.jf(t,(function(s,a){if(a<=e){var u=n.Kf(t,s).next((function(e){if(!e)return o++,r.tr(t,s).next((function(){return r.Zi(s),zr(t).delete([0,kr(s.path)])}))}));i.push(u)}})).next((function(){return Ve.Ki(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.es(t.Ch);return this.db.eh().Nh(t,n)},t.prototype.Fh=function(t,e){return Ei(t,e)},t.prototype.jf=function(t,e){var n,r=zr(t),i=qe.kr;return r.md({index:li.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==qe.kr&&e(new T(Tr(n)),i),i=s,n=o):i=qe.kr})).next((function(){i!==qe.kr&&e(new T(Tr(n)),i)}))},t.prototype.qo=function(t){return this.db.Zo().Jd(t)},t}();function Ei(t,e){return zr(t).put(function(t,e){return new li(0,kr(t.path),e)}(e,t.Ch))}var Ti=function(){function t(t,e){this.ur=t,this.Jo=e,this.ar=[],this.Gf=1,this.lastStreamToken=P.xt,this.zf=new x(Le.Ee)}return t.prototype.Rd=function(t){return Ve.resolve(0===this.ar.length)},t.prototype.mh=function(t,e,n){return Ee(0===this.Hf(e.batchId,"acknowledged"),"Can only acknowledge the first batch in the mutation queue"),this.lastStreamToken=n,Ve.resolve()},t.prototype.ph=function(t){return Ve.resolve(this.lastStreamToken)},t.prototype.yh=function(t,e){return this.lastStreamToken=e,Ve.resolve()},t.prototype.dh=function(t,e,n,r){var i=this.Gf;this.Gf++;var o=new Oe(i,e,n,r);this.ar.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.zf=this.zf.add(new Le(u.key,i)),this.ur.Vd(t,u.key.path.L())}return Ve.resolve(o)},t.prototype.Ph=function(t,e){return Ve.resolve(this.Jf(e))},t.prototype.Th=function(t,e){var n=this.Jf(e);return Ve.resolve(n.keys())},t.prototype.xh=function(t,e){var n=this.Yf(e+1),r=n<0?0:n;return Ve.resolve(this.ar.length>r?this.ar[r]:null)},t.prototype.gh=function(){return Ve.resolve(0===this.ar.length?-1:this.Gf-1)},t.prototype.hh=function(t){return Ve.resolve(this.ar.slice())},t.prototype._r=function(t,e){var n=this,r=new Le(e,0),i=new Le(e,Number.POSITIVE_INFINITY),o=[];return this.zf.Ct([r,i],(function(t){var e=n.Jf(t.Li);o.push(e)})),Ve.resolve(o)},t.prototype.Er=function(t,e){var n=this,r=new x(Se);return e.forEach((function(t){var e=new Le(t,0),i=new Le(t,Number.POSITIVE_INFINITY);n.zf.Ct([e,i],(function(t){r=r.add(t.Li)}))})),Ve.resolve(this.Xf(r))},t.prototype.Vr=function(t,e){var n=e.path,r=n.length+1,i=n;T.st(i)||(i=i.child(""));var o=new Le(new T(i),0),s=new x(Se);return this.zf.kt((function(t){var e=t.key.path;return!!n.q(e)&&(e.length===r&&(s=s.add(t.Li)),!0)}),o),Ve.resolve(this.Xf(s))},t.prototype.Xf=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Jf(t);null!==r&&n.push(r)})),n},t.prototype.Vh=function(t,e){var n=this;Ee(0===this.Hf(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.ar.shift();var r=this.zf;return Ve.forEach(e.mutations,(function(i){var o=new Le(i.key,e.batchId);return r=r.delete(o),n.Jo.bd(t,i.key)})).next((function(){n.zf=r}))},t.prototype.Xh=function(t){},t.prototype.Mi=function(t,e){var n=new Le(e,0),r=this.zf.Nt(n);return Ve.resolve(e.isEqual(r&&r.key))},t.prototype.Rh=function(t){return Ve.resolve()},t.prototype.Hf=function(t,e){return this.Yf(t)},t.prototype.Yf=function(t){return 0===this.ar.length?0:t-this.ar[0].batchId},t.prototype.Jf=function(t){var e=this.Yf(t);return e<0||e>=this.ar.length?null:this.ar[e]},t}(),Si=function(){function t(t,e){this.ur=t,this.Zf=e,this.docs=new S(T.F),this.size=0}return t.prototype.Yi=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Zf(e);return this.docs=this.docs.it(r,{Ud:e,size:s,readTime:n}),this.size+=s-o,this.ur.Vd(t,r.path.L())},t.prototype.Zi=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.tr=function(t,e){var n=this.docs.get(e);return Ve.resolve(n?n.Ud:null)},t.prototype.getEntries=function(t,e){var n=this,r=Gt();return e.forEach((function(t){var e=n.docs.get(t);r=r.it(t,e?e.Ud:null)})),Ve.resolve(r)},t.prototype.wr=function(t,e,n){for(var r=Wt(),i=new T(e.path.child("")),o=this.docs.lt(i);o.It();){var s=o.wt(),a=s.value,u=a.Ud,l=a.readTime;if(!e.path.q(s.key.path))break;l.D(n)<=0||u instanceof bt&&e.matches(u)&&(r=r.it(u.key,u))}return Ve.resolve(r)},t.prototype.tT=function(t,e){return Ve.forEach(this.docs,(function(t){return e(t)}))},t.prototype.ea=function(t,e){throw new Error("getNewDocumentChanges() is not supported with MemoryPersistence")},t.prototype.na=function(t){return Ve.resolve(b.MIN)},t.prototype.Eh=function(e){return new t.Hd(this)},t.prototype.Jd=function(t){return Ve.resolve(this.size)},t}();Si.Hd=function(t){function e(e){var n=this;return(n=t.call(this)||this).Yd=e,n}return i.__extends(e,t),e.prototype.nr=function(t){var e=this,n=[];return this.zi.forEach((function(r,i){i?n.push(e.Yd.Yi(t,i,e.readTime)):e.Yd.Zi(r)})),Ve.Ki(n)},e.prototype.er=function(t,e){return this.Yd.tr(t,e)},e.prototype.sr=function(t,e){return this.Yd.getEntries(t,e)},e}(Me);var Ii=function(){function t(t){this.persistence=t,this.eT=new De((function(t){return t.canonicalId()})),this.lastRemoteSnapshotVersion=b.MIN,this.highestTargetId=0,this.sT=0,this.nT=new Pe,this.targetCount=0,this.iT=cr.p_()}return t.prototype.Xs=function(t,e){return this.eT.forEach((function(t,n){return e(n)})),Ve.resolve()},t.prototype.bh=function(t){return Ve.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Dd=function(t){return Ve.resolve(this.sT)},t.prototype.Qh=function(t){return this.highestTargetId=this.iT.next(),Ve.resolve(this.highestTargetId)},t.prototype.$h=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.sT&&(this.sT=e),Ve.resolve()},t.prototype.Cd=function(t){this.eT.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.iT=new cr(e),this.highestTargetId=e),t.sequenceNumber>this.sT&&(this.sT=t.sequenceNumber)},t.prototype.Wh=function(t,e){return this.Cd(e),this.targetCount+=1,Ve.resolve()},t.prototype.Nh=function(t,e){return this.Cd(e),Ve.resolve()},t.prototype.Nd=function(t,e){return this.eT.delete(e.target),this.nT.Ni(e.targetId),this.targetCount-=1,Ve.resolve()},t.prototype.xo=function(t,e,n){var r=this,i=0,o=[];return this.eT.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.eT.delete(s),o.push(r.Fd(t,a.targetId)),i++)})),Ve.Ki(o).next((function(){return i}))},t.prototype.Ld=function(t){return Ve.resolve(this.targetCount)},t.prototype.qh=function(t,e){var n=this.eT.get(e)||null;return Ve.resolve(n)},t.prototype.un=function(t,e){return Ce("Not yet implemented.")},t.prototype.Dh=function(t,e,n){this.nT.Si(e,n);var r=this.persistence.Jo,i=[];return r&&e.forEach((function(e){i.push(r.vi(t,e))})),Ve.Ki(i)},t.prototype.Sh=function(t,e,n){this.nT.ki(e,n);var r=this.persistence.Jo,i=[];return r&&e.forEach((function(e){i.push(r.Di(t,e))})),Ve.Ki(i)},t.prototype.Fd=function(t,e){return this.nT.Ni(e),Ve.resolve()},t.prototype.Gh=function(t,e){var n=this.nT.$i(e);return Ve.resolve(n)},t.prototype.Mi=function(t,e){return Ve.resolve(this.nT.Mi(e))},t}(),Ai=function(){function t(t,e){var n=this;this.clientId=t,this.rT={},this.Vf=new qe(0),this.hf=!1,this.hf=!0,this.Jo=e(this),this.th=new Ii(this),this.ur=new Zr,this.hr=new Si(this.ur,(function(t){return n.Jo.oT(t)}))}return t.prototype.start=function(){return Promise.resolve()},t.prototype.lc=function(){return this.hf=!1,Promise.resolve()},Object.defineProperty(t.prototype,"ko",{get:function(){return this.hf},enumerable:!0,configurable:!0}),t.prototype.Jh=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return[2,[this.clientId]]}))}))},t.prototype.gf=function(t){return t(!0)},t.prototype.pf=function(){},t.prototype.Zh=function(t){},t.prototype.nh=function(){return this.ur},t.prototype.Yo=function(t){var e=this.rT[t.s()];return e||(e=new Ti(this.ur,this.Jo),this.rT[t.s()]=e),e},t.prototype.eh=function(){return this.th},t.prototype.Zo=function(){return this.hr},t.prototype.runTransaction=function(t,e,n){var r=this;be("MemoryPersistence","Starting transaction:",t);var i=new xi(this.Vf.next());return this.Jo.hT(),n(i).next((function(t){return r.Jo.aT(i).next((function(){return t}))})).Wi().then((function(t){return i.or(),t}))},t.prototype.uT=function(t,e){return Ve.Gi(Object.values(this.rT).map((function(n){return function(){return n.Mi(t,e)}})))},t}(),xi=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ch=e,n}return i.__extends(e,t),e}(je),Ni=function(){function t(t){this.persistence=t,this.Qf=null,this.cT=null}return t._T=function(e){return new t(e)},Object.defineProperty(t.prototype,"lT",{get:function(){if(this.cT)return this.cT;throw Ce("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),t.prototype.Ho=function(t){this.Qf=t},t.prototype.vi=function(t,e){return this.lT.delete(e),Ve.resolve()},t.prototype.Di=function(t,e){return this.lT.add(e),Ve.resolve()},t.prototype.bd=function(t,e){return this.lT.add(e),Ve.resolve()},t.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.eh();return r.Gh(t,e.targetId).next((function(t){t.forEach((function(t){return n.lT.add(t)}))})).next((function(){return r.Nd(t,e)}))},t.prototype.hT=function(){this.cT=new Set},t.prototype.aT=function(t){var e=this,n=this.persistence.Zo().Eh();return Ve.forEach(this.lT,(function(r){return e.dT(t,r).next((function(t){t||n.Zi(r)}))})).next((function(){return e.cT=null,n.apply(t)}))},t.prototype.Fh=function(t,e){var n=this;return this.dT(t,e).next((function(t){t?n.lT.delete(e):n.lT.add(e)}))},t.prototype.oT=function(t){return 0},t.prototype.dT=function(t,e){var n=this;return Ve.Gi([function(){return n.persistence.eh().Mi(t,e)},function(){return n.persistence.uT(t,e)},function(){return Ve.resolve(n.Qf.Mi(e))}])},t}(),Di=function(){function t(){}return t.prototype.initialize=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e=this;return i.__generator(this,(function(n){switch(n.label){case 0:return this.X_=this.fT(t),this.persistence=this.TT(t),[4,this.persistence.start()];case 1:return n.sent(),this.mT=this.ET(t),this.Wu=this.wT(t),this.W_=this.IT(t),this.mc=this.RT(t),this.AT=this.PT(t),this.X_.$u=function(t){return e.mc.B_(t,1)},this.W_.mc=this.mc,this.X_.mc=this.mc,[4,this.X_.start()];case 2:return n.sent(),[4,this.W_.start()];case 3:return n.sent(),[4,this.Wu.start()];case 4:return n.sent(),[4,this.persistence.gf((function(t){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return[4,this.mc.Cc(t)];case 1:return e.sent(),this.mT&&(t&&!this.mT.ko?this.mT.start(this.Wu):t||this.mT.stop()),[2]}}))}))}))];case 5:return n.sent(),[2]}}))}))},t.prototype.PT=function(t){return new _r(this.mc)},t.prototype.ET=function(t){return null},t.prototype.wT=function(t){return new Je(this.persistence,new wr,t.VT)},t.prototype.TT=function(t){return new Ai(t.clientId,Ni._T)},t.prototype.IT=function(t){var e=this;return new $n(this.Wu,t.bu,t.Nr,(function(t){return e.mc.B_(t,0)}),t.platform.gT())},t.prototype.fT=function(t){return new lr},t.prototype.RT=function(t){return new yr(this.Wu,this.W_,this.X_,t.VT,t.Z_)},t.prototype.clearPersistence=function(t){throw new d(f.FAILED_PRECONDITION,"You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.")},t}(),Oi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.ET=function(t){return new Ye(this.persistence.Jo.bo,t.Nr)},e.prototype.TT=function(t){var e=bi.qf(t.pT),n=t.platform.yT(t.pT.cn);return bi.mf({allowTabSynchronization:t.bT.synchronizeTabs,persistenceKey:e,clientId:t.clientId,platform:t.platform,$a:t.Nr,serializer:n,Ef:Ze.Io(t.bT.cacheSizeBytes),rf:this.X_})},e.prototype.fT=function(t){if(t.bT.synchronizeTabs){if(!ur.Uc(t.platform))throw new d(f.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var e=bi.qf(t.pT);return new ur(t.Nr,t.platform,e,t.clientId,t.VT)}return new lr},e.prototype.clearPersistence=function(t){var e=bi.qf(t);return bi.clearPersistence(e)},e}(Di),Ri=function(){function t(t,e,n,r){this.platform=t,this.pT=e,this.credentials=n,this.Nr=r,this.clientId=Te.mi()}return t.prototype.start=function(t,e){var n=this;this.vT();var r=new ze,i=new ze,o=!1;return this.credentials.l((function(s){if(!o)return o=!0,be("FirestoreClient","Initializing. user=",s.uid),n.ST(t,e,s,i).then(r.resolve,r.reject);n.Nr.qr((function(){return n.Dc(s)}))})),this.Nr.qr((function(){return r.promise})),i.promise},t.prototype.enableNetwork=function(){var t=this;return this.vT(),this.Nr.enqueue((function(){return t.mc.enableNetwork()}))},t.prototype.ST=function(t,e,n,r){return i.__awaiter(this,void 0,void 0,(function(){var o,s,a,u,l=this;return i.__generator(this,(function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),[4,this.platform.DT(this.pT)];case 1:return o=c.sent(),s=this.platform.yT(this.pT.cn),a=new Yn(this.Nr,o,this.credentials,s),[4,t.initialize({Nr:this.Nr,pT:this.pT,platform:this.platform,bu:a,clientId:this.clientId,VT:n,Z_:100,bT:e})];case 2:return c.sent(),this.persistence=t.persistence,this.X_=t.X_,this.Wu=t.Wu,this.W_=t.W_,this.mc=t.mc,this.mT=t.mT,this.CT=t.AT,this.persistence.pf((function(){return i.__awaiter(l,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),r.resolve(),[3,4];case 3:if(u=c.sent(),r.reject(u),!this.kT(u))throw u;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),this.ST(new Di,{NT:!1},n,r))];case 4:return[2]}}))}))},t.prototype.kT=function(t){return"FirebaseError"===t.name?t.code===f.FAILED_PRECONDITION||t.code===f.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.vT=function(){if(this.Nr.Hr)throw new d(f.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Dc=function(t){return this.Nr.no(),be("FirestoreClient","Credential Changed. Current user: "+t.uid),this.mc.Dc(t)},t.prototype.disableNetwork=function(){var t=this;return this.vT(),this.Nr.enqueue((function(){return t.mc.disableNetwork()}))},t.prototype.terminate=function(){var t=this;return this.Nr.to((function(){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.mT&&this.mT.stop(),[4,this.W_.lc()];case 1:return t.sent(),[4,this.X_.lc()];case 2:return t.sent(),[4,this.persistence.lc()];case 3:return t.sent(),this.credentials.T(),[2]}}))}))}))},t.prototype.waitForPendingWrites=function(){var t=this;this.vT();var e=new ze;return this.Nr.qr((function(){return t.mc.Pl(e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.vT();var i=new br(t,e,n);return this.Nr.qr((function(){return r.CT.listen(i)})),i},t.prototype.fc=function(t){var e=this;this.FT||this.Nr.qr((function(){return e.CT.fc(t)}))},t.prototype.$T=function(t){var e=this;return this.vT(),this.Nr.enqueue((function(){return e.Wu.Bh(t)})).then((function(t){if(t instanceof bt)return t;if(t instanceof wt)return null;throw new d(f.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},t.prototype.MT=function(t){var e=this;return this.vT(),this.Nr.enqueue((function(){return i.__awaiter(e,void 0,void 0,(function(){var e,n,r;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.Wu.Kh(t,!0)];case 1:return e=i.sent(),n=new dr(t,e.zh),r=n.k_(e.documents),[2,n.nr(r,!1).snapshot]}}))}))}))},t.prototype.write=function(t){var e=this;this.vT();var n=new ze;return this.Nr.qr((function(){return e.mc.write(t,n)})),n.promise},t.prototype.cn=function(){return this.pT.cn},t.prototype.Ol=function(t){var e=this;this.vT(),this.Nr.qr((function(){return e.CT.Ol(t),Promise.resolve()}))},t.prototype.xl=function(t){this.FT||this.CT.xl(t)},Object.defineProperty(t.prototype,"FT",{get:function(){return this.Nr.Hr},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.vT();var n=new ze;return this.Nr.qr((function(){return e.mc.runTransaction(e.Nr,t,n),Promise.resolve()})),n.promise},t}(),Pi=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.LT(this.observer.next,t)},t.prototype.error=function(t){this.LT(this.observer.error,t)},t.prototype.OT=function(){this.muted=!0},t.prototype.LT=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();function Li(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Vi=function(){function t(t,e,n,r){this.firestore=t,this.timestampsInSnapshots=e,this.xT=n,this.converter=r}return t.prototype.BT=function(t){switch(B(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Q(t.integerValue||t.doubleValue);case 3:return this.UT(t.timestampValue);case 4:return this.qT(t);case 5:return t.stringValue;case 6:return new kn(Z(t.bytesValue));case 7:return this.QT(t.referenceValue);case 8:return new Rn(t.geoPointValue.latitude,t.geoPointValue.longitude);case 9:return this.WT(t.arrayValue);case 10:return this.jT(t.mapValue);default:throw Ce("Invalid value type: "+JSON.stringify(t))}},t.prototype.jT=function(t){var e=this,n={};return O(t.fields||{},(function(t,r){n[t]=e.BT(r)})),n},t.prototype.WT=function(t){var e=this;return(t.values||[]).map((function(t){return e.BT(t)}))},t.prototype.qT=function(t){switch(this.xT){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return F(n)?t(n):n}(t);return null==e?null:this.BT(e);case"estimate":return this.UT(j(t));default:return null}},t.prototype.UT=function(t){var e=W(t),n=new _(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.QT=function(t){var e=k.G(t);Ee(ve(e),"ReferenceValue is not valid "+t);var n=new Ne(e.get(1),e.get(3)),r=new T(e.M(5));return n.isEqual(this.firestore.KT)||we("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.firestore.KT.projectId+"/"+this.firestore.KT.database+") instead."),new qi(r,this.firestore,this.converter)},t}(),Mi=Ze.Po,Fi=function(){function t(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new d(f.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else an("settings","non-empty string","host",t.host),this.host=t.host,un("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(pn("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),un("settings","object","credentials",t.credentials),this.credentials=t.credentials,un("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?we("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&we("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,un("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Ze.po;else{if(t.cacheSizeBytes!==Mi&&t.cacheSizeBytes<Ze.Vo)throw new d(f.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Ze.Vo);this.cacheSizeBytes=t.cacheSizeBytes}un("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0!==t.experimentalForceLongPolling&&t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),ji=function(){function t(e,n,r){var o=this;if(void 0===r&&(r=new Di),this.GT=null,this.zT=new Ge,this.INTERNAL={delete:function(){return i.__awaiter(o,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.HT(),[4,this.JT.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var s=e;this.GT=s,this.KT=t.YT(s),this.XT=s.name,this.ZT=new m(n)}else{var a=e;if(!a.projectId)throw new d(f.INVALID_ARGUMENT,"Must provide projectId");this.KT=new Ne(a.projectId,a.database),this.XT="[DEFAULT]",this.ZT=new v}this.tm=r,this.em=new Fi({}),this.sm=this.nm(this.KT)}return t.prototype.settings=function(t){en("Firestore.settings",arguments,1),on("Firestore.settings","object",1,t);var e=new Fi(t);if(this.JT&&!this.em.isEqual(e))throw new d(f.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.em=e,void 0!==e.credentials&&(this.ZT=function(t){if(!t)return new v;switch(t.type){case"gapi":var e=t.im;return Ee(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new g(e,t.V||"0");case"provider":return t.im;default:throw new d(f.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.HT(),this.JT.enableNetwork()},t.prototype.disableNetwork=function(){return this.HT(),this.JT.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.JT)throw new d(f.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1;return t&&(void 0!==t.experimentalTabSynchronization&&we("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n),this.rm(this.tm,{NT:!0,cacheSizeBytes:this.em.cacheSizeBytes,synchronizeTabs:r})},t.prototype.clearPersistence=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){if(void 0!==this.JT&&!this.JT.FT)throw new d(f.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return t=new ze,[2,(this.zT.Jr((function(){return i.__awaiter(e,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this.om(),[4,this.tm.clearPersistence(e)];case 1:return r.sent(),t.resolve(),[3,3];case 2:return n=r.sent(),t.reject(n),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"hm",{get:function(){return this.HT(),this.JT.FT},enumerable:!0,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.HT(),this.JT.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.HT(),Li(t)?this.am(t):(on("Firestore.onSnapshotsInSync","function",1,t),this.am({next:t}))},t.prototype.am=function(t){var e=this,n=new Pi({next:function(){t.next&&t.next()},error:function(t){throw Ce("Uncaught Error in onSnapshotsInSync")}});return this.JT.Ol(n),function(){n.OT(),e.JT.xl(n)}},t.prototype.HT=function(){return this.JT||this.rm(new Di,{NT:!1}),this.JT},t.prototype.om=function(){return new xe(this.KT,this.XT,this.em.host,this.em.ssl,this.em.forceLongPolling)},t.prototype.rm=function(t,e){var n=this.om();return this.JT=new Ri(me.Lt(),n,this.ZT,this.zT),this.JT.start(t,e)},t.prototype.nm=function(t){var e=new pe(t,{dn:me.Lt().dn});return new Un(e,(function(e){if(e instanceof qi){var n=t,r=e.firestore.KT;if(!r.isEqual(n))throw new d(f.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new jn(t,e.um)}return e}))},t.YT=function(t){if(!Object.prototype.hasOwnProperty.call(t.options,"projectId"))throw new d(f.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e=t.options.projectId;if(!e||"string"!=typeof e)throw new d(f.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Ne(e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.GT)throw new d(f.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.GT},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return en("Firestore.collection",arguments,1),on("Firestore.collection","non-empty string",1,t),this.HT(),new Qi(k.G(t),this)},t.prototype.doc=function(t){return en("Firestore.doc",arguments,1),on("Firestore.doc","non-empty string",1,t),this.HT(),qi.cm(k.G(t),this)},t.prototype.collectionGroup=function(t){if(en("Firestore.collectionGroup",arguments,1),on("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new d(f.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.HT(),new Ki(new Et(k.H,t),this)},t.prototype.runTransaction=function(t){var e=this;return en("Firestore.runTransaction",arguments,1),on("Firestore.runTransaction","function",1,t),this.HT().transaction((function(n){return t(new Ui(e,n))}))},t.prototype.batch=function(){return this.HT(),new Bi(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(ge()){case s.LogLevel.DEBUG:return"debug";case s.LogLevel.SILENT:return"silent";default:return"error"}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(en("Firestore.setLogLevel",arguments,1),on("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":_e(s.LogLevel.DEBUG);break;case"error":_e(s.LogLevel.ERROR);break;case"silent":_e(s.LogLevel.SILENT);break;default:throw new d(f.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype._m=function(){return this.em.timestampsInSnapshots},t}(),Ui=function(){function t(t,e){this.lm=t,this.dm=e}return t.prototype.get=function(t){var e=this;en("Transaction.get",arguments,1);var n=Ji("Transaction.get",t,this.lm);return this.dm.pu([n.um]).then((function(t){if(!t||1!==t.length)return Ce("Mismatch in docs returned from document lookup.");var r=t[0];if(r instanceof wt)return new Hi(e.lm,n.um,null,!1,!1,n.fm);if(r instanceof bt)return new Hi(e.lm,n.um,r,!1,!1,n.fm);throw Ce("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)}))},t.prototype.set=function(t,e,n){rn("Transaction.set",arguments,2,3);var r=Ji("Transaction.set",t,this.lm);n=Zi("Transaction.set",n);var i=to(r.fm,e,"Transaction.set"),o=i[0],s=i[1],a=n.merge||n.mergeFields?this.lm.sm.pa(s,o,n.mergeFields):this.lm.sm.Va(s,o);return this.dm.set(r.um,a),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof e||e instanceof En?(nn("Transaction.update",arguments,3),r=Ji("Transaction.update",t,this.lm),i=this.lm.sm.Sa("Transaction.update",e,n,o)):(en("Transaction.update",arguments,2),r=Ji("Transaction.update",t,this.lm),i=this.lm.sm.ya("Transaction.update",e)),this.dm.update(r.um,i),this},t.prototype.delete=function(t){en("Transaction.delete",arguments,1);var e=Ji("Transaction.delete",t,this.lm);return this.dm.delete(e.um),this},t}(),Bi=function(){function t(t){this.lm=t,this.Tm=[],this.mm=!1}return t.prototype.set=function(t,e,n){rn("WriteBatch.set",arguments,2,3),this.Em();var r=Ji("WriteBatch.set",t,this.lm);n=Zi("WriteBatch.set",n);var i=to(r.fm,e,"WriteBatch.set"),o=i[0],s=i[1],a=n.merge||n.mergeFields?this.lm.sm.pa(s,o,n.mergeFields):this.lm.sm.Va(s,o);return this.Tm=this.Tm.concat(a.da(r.um,ct.NONE)),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.Em(),"string"==typeof e||e instanceof En?(nn("WriteBatch.update",arguments,3),r=Ji("WriteBatch.update",t,this.lm),i=this.lm.sm.Sa("WriteBatch.update",e,n,o)):(en("WriteBatch.update",arguments,2),r=Ji("WriteBatch.update",t,this.lm),i=this.lm.sm.ya("WriteBatch.update",e)),this.Tm=this.Tm.concat(i.da(r.um,ct.exists(!0))),this},t.prototype.delete=function(t){en("WriteBatch.delete",arguments,1),this.Em();var e=Ji("WriteBatch.delete",t,this.lm);return this.Tm=this.Tm.concat(new vt(e.um,ct.NONE)),this},t.prototype.commit=function(){return this.Em(),this.mm=!0,this.Tm.length>0?this.lm.HT().write(this.Tm):Promise.resolve()},t.prototype.Em=function(){if(this.mm)throw new d(f.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),qi=function(){function t(t,e,n){this.um=t,this.firestore=e,this.fm=n,this.JT=this.firestore.HT()}return t.cm=function(e,n,r){if(e.length%2!=0)throw new d(f.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.K()+" has "+e.length);return new t(new T(e),n,r)},Object.defineProperty(t.prototype,"id",{get:function(){return this.um.path.B()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Qi(this.um.path.L(),this.firestore,this.fm)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.um.path.K()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(en("DocumentReference.collection",arguments,1),on("DocumentReference.collection","non-empty string",1,t),!t)throw new d(f.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=k.G(t);return new Qi(this.um.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw vn("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this.um.isEqual(e.um)&&this.fm===e.fm},t.prototype.set=function(t,e){rn("DocumentReference.set",arguments,1,2),e=Zi("DocumentReference.set",e);var n=to(this.fm,t,"DocumentReference.set"),r=n[0],i=n[1],o=e.merge||e.mergeFields?this.firestore.sm.pa(i,r,e.mergeFields):this.firestore.sm.Va(i,r);return this.JT.write(o.da(this.um,ct.NONE))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof En?(nn("DocumentReference.update",arguments,2),n=this.firestore.sm.Sa("DocumentReference.update",t,e,r)):(en("DocumentReference.update",arguments,1),n=this.firestore.sm.ya("DocumentReference.update",t)),this.JT.write(n.da(this.um,ct.exists(!0)))},t.prototype.delete=function(){return en("DocumentReference.delete",arguments,0),this.JT.write([new vt(this.um,ct.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];rn("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||Li(t[i])||(pn("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),un("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return Li(t[i])?n=t[i]:(on("DocumentReference.onSnapshot","function",i,t[i]),sn("DocumentReference.onSnapshot","function",i+1,t[i+1]),sn("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.wm(o,n)},t.prototype.wm=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Pi({next:function(t){if(e.next){var r=t.docs.get(n.um);e.next(new Hi(n.firestore,n.um,r,t.fromCache,t.hasPendingWrites,n.fm))}},error:r}),o=this.JT.listen(Et.ve(this.um.path),i,t);return function(){i.OT(),n.JT.fc(o)}},t.prototype.get=function(t){var e=this;return rn("DocumentReference.get",arguments,0,1),Xi("DocumentReference.get",t),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.HT().$T(e.um).then((function(t){n(new Hi(e.firestore,e.um,t,!0,t instanceof bt&&t.te,e.fm))}),r):e.Im(n,r,t)}))},t.prototype.Im=function(t,e,n){var r=this.wm({includeMetadataChanges:!0,Kl:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new d(f.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new d(f.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},t.prototype.withConverter=function(e){return new t(this.um,this.firestore,e)},t}(),zi=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Hi=function(){function t(t,e,n,r,i,o){this.lm=t,this.um=e,this.Rm=n,this.Am=r,this.Pm=i,this.fm=o}return t.prototype.data=function(t){if(rn("DocumentSnapshot.data",arguments,0,1),t=Yi("DocumentSnapshot.data",t),this.Rm){if(this.fm){var e=new Gi(this.lm,this.um,this.Rm,this.Am,this.Pm);return this.fm.fromFirestore(e,t)}return new Vi(this.lm,this.lm._m(),t.serverTimestamps,void 0).BT(this.Rm.Ie())}},t.prototype.get=function(t,e){if(rn("DocumentSnapshot.get",arguments,1,2),e=Yi("DocumentSnapshot.get",e),this.Rm){var n=this.Rm.data().field(zn("DocumentSnapshot.get",t));if(null!==n)return new Vi(this.lm,this.lm._m(),e.serverTimestamps,this.fm).BT(n)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.um.path.B()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new qi(this.um,this.lm,this.fm)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Rm},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new zi(this.Pm,this.Am)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw vn("isEqual","DocumentSnapshot",1,e);return this.lm===e.lm&&this.Am===e.Am&&this.um.isEqual(e.um)&&(null===this.Rm?null===e.Rm:this.Rm.isEqual(e.Rm))&&this.fm===e.fm},t}(),Gi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(Hi),Ki=function(){function t(t,e,n){this.Vm=t,this.firestore=e,this.fm=n}return t.prototype.where=function(e,n,r){var i;en("Query.where",arguments,3),dn("Query.where",3,r),function(t,e,n,r){if(!e.some((function(t){return t===r})))throw new d(f.INVALID_ARGUMENT,"Invalid value "+fn(r)+" provided to function Query.where() for its "+yn(2)+" argument. Acceptable values: "+e.join(", "))}(0,["<","<=","==",">=",">","array-contains","in","array-contains-any"],0,n);var o=zn("Query.where",e),s=Tt.G(n);if(o.Y()){if(s===Tt.ARRAY_CONTAINS||s===Tt.ARRAY_CONTAINS_ANY)throw new d(f.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s.toString()+"' queries on FieldPath.documentId().");if(s===Tt.IN){this.gm(r,s);for(var a=[],u=0,l=r;u<l.length;u++){var c=l[u];a.push(this.pm(c))}i={arrayValue:{values:a}}}else i=this.pm(r)}else s!==Tt.IN&&s!==Tt.ARRAY_CONTAINS_ANY||this.gm(r,s),i=this.firestore.sm.Da("Query.where",r,s===Tt.IN);var h=St.create(o,s,i);return this.ym(h),new t(this.Vm.Ce(h),this.firestore,this.fm)},t.prototype.orderBy=function(e,n){var r;if(rn("Query.orderBy",arguments,1,2),sn("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=Ot.ASCENDING;else{if("desc"!==n)throw new d(f.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=Ot.DESCENDING}if(null!==this.Vm.startAt)throw new d(f.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this.Vm.endAt)throw new d(f.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=zn("Query.orderBy",e),o=new Vt(i,r);return this.bm(o),new t(this.Vm.ke(o),this.firestore,this.fm)},t.prototype.limit=function(e){return en("Query.limit",arguments,1),on("Query.limit","number",1,e),mn("Query.limit",1,e),new t(this.Vm.Ne(e),this.firestore,this.fm)},t.prototype.limitToLast=function(e){return en("Query.limitToLast",arguments,1),on("Query.limitToLast","number",1,e),mn("Query.limitToLast",1,e),new t(this.Vm.Fe(e),this.firestore,this.fm)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];nn("Query.startAt",arguments,1);var i=this.vm("Query.startAt",e,n,!0);return new t(this.Vm.$e(i),this.firestore,this.fm)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];nn("Query.startAfter",arguments,1);var i=this.vm("Query.startAfter",e,n,!1);return new t(this.Vm.$e(i),this.firestore,this.fm)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];nn("Query.endBefore",arguments,1);var i=this.vm("Query.endBefore",e,n,!0);return new t(this.Vm.Me(i),this.firestore,this.fm)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];nn("Query.endAt",arguments,1);var i=this.vm("Query.endAt",e,n,!1);return new t(this.Vm.Me(i),this.firestore,this.fm)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw vn("isEqual","Query",1,e);return this.firestore===e.firestore&&this.Vm.isEqual(e.Vm)},t.prototype.withConverter=function(e){return new t(this.Vm,this.firestore,e)},t.prototype.vm=function(t,e,n,r){if(dn(t,1,e),e instanceof Hi){if(n.length>0)throw new d(f.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new d(f.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.Sm(i.Rm,r)}var o=[e].concat(n);return this.Dm(t,o,r)},t.prototype.Sm=function(t,e){for(var n=[],r=0,i=this.Vm.orderBy;r<i.length;r++){var o=i[r];if(o.field.Y())n.push(Y(this.firestore.KT,t.key));else{var s=t.field(o.field);if(F(s))throw new d(f.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===s){var a=o.field.K();throw new d(f.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+a+"' (used as the orderBy) does not exist.")}n.push(s)}}return new Lt(n,e)},t.prototype.Dm=function(t,e,n){var r=this.Vm.Ve;if(e.length>r.length)throw new d(f.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var s=e[o];if(r[o].field.Y()){if("string"!=typeof s)throw new d(f.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof s);if(!this.Vm.He()&&-1!==s.indexOf("/"))throw new d(f.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+s+"' contains a slash.");var a=this.Vm.path.child(k.G(s));if(!T.st(a))throw new d(f.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+a+"' is not because it contains an odd number of segments.");var u=new T(a);i.push(Y(this.firestore.KT,u))}else{var l=this.firestore.sm.Da(t,s);i.push(l)}}return new Lt(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];rn("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||Li(t[i])||(pn("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),un("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),Li(t[i])?n=t[i]:(on("Query.onSnapshot","function",i,t[i]),sn("Query.onSnapshot","function",i+1,t[i+1]),sn("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.Cm(this.Vm),this.wm(r,n)},t.prototype.wm=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Pi({next:function(t){e.next&&e.next(new Wi(n.firestore,n.Vm,t,n.fm))},error:r}),o=this.firestore.HT(),s=o.listen(this.Vm,i,t);return function(){i.OT(),o.fc(s)}},t.prototype.Cm=function(t){if(t.Ke()&&0===t.Ve.length)throw new d(f.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},t.prototype.get=function(t){var e=this;return rn("Query.get",arguments,0,1),Xi("Query.get",t),this.Cm(this.Vm),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.HT().MT(e.Vm).then((function(t){n(new Wi(e.firestore,e.Vm,t,e.fm))}),r):e.Im(n,r,t)}))},t.prototype.Im=function(t,e,n){var r=this.wm({includeMetadataChanges:!0,Kl:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new d(f.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.pm=function(t){if("string"==typeof t){if(""===t)throw new d(f.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this.Vm.He()&&-1!==t.indexOf("/"))throw new d(f.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this.Vm.path.child(k.G(t));if(!T.st(e))throw new d(f.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return Y(this.firestore.KT,new T(e))}if(t instanceof qi)return Y(this.firestore.KT,t.um);throw new d(f.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+fn(t)+".")},t.prototype.gm=function(t,e){if(!Array.isArray(t)||0===t.length)throw new d(f.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new d(f.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new d(f.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new d(f.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},t.prototype.ym=function(t){if(t instanceof St){var e=[Tt.ARRAY_CONTAINS,Tt.ARRAY_CONTAINS_ANY],n=[Tt.IN,Tt.ARRAY_CONTAINS_ANY],r=e.indexOf(t.op)>=0,i=n.indexOf(t.op)>=0;if(t.Ge()){var o=this.Vm.Se();if(null!==o&&!o.isEqual(t.field))throw new d(f.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+t.field.toString()+"'");var s=this.Vm.De();null!==s&&this.km(t.field,s)}else if(i||r){var a=null;if(i&&(a=this.Vm.ze(n)),null===a&&r&&(a=this.Vm.ze(e)),null!=a)throw new d(f.INVALID_ARGUMENT,a===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+a.toString()+"' filters.")}}},t.prototype.bm=function(t){if(null===this.Vm.De()){var e=this.Vm.Se();null!==e&&this.km(e,t.field)}},t.prototype.km=function(t,e){if(!e.isEqual(t))throw new d(f.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),Wi=function(){function t(t,e,n,r){this.lm=t,this.Nm=e,this.Fm=n,this.fm=r,this.$m=null,this.Mm=null,this.metadata=new zi(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.Fm.docs.U()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Fm.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;rn("QuerySnapshot.forEach",arguments,1,2),on("QuerySnapshot.forEach","function",1,t),this.Fm.docs.forEach((function(r){t.call(e,n.Lm(r))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new Ki(this.Nm,this.lm,this.fm)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(pn("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),un("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.Fm.ds)throw new d(f.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.$m&&this.Mm===e||(this.$m=function(t,e,n,r){if(n.cs.U()){var i=0;return n.docChanges.map((function(e){return{type:"added",doc:new Gi(t,e.doc.key,e.doc,n.fromCache,n._s.has(e.doc.key),r),oldIndex:-1,newIndex:i++}}))}var o=n.cs;return n.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var i=new Gi(t,e.doc.key,e.doc,n.fromCache,n._s.has(e.doc.key),r),s=-1,a=-1;return 0!==e.type&&(s=o.indexOf(e.doc.key),o=o.delete(e.doc.key)),1!==e.type&&(a=(o=o.add(e.doc)).indexOf(e.doc.key)),{type:$i(e.type),doc:i,oldIndex:s,newIndex:a}}))}(this.lm,e,this.Fm,this.fm),this.Mm=e),this.$m},t.prototype.isEqual=function(e){if(!(e instanceof t))throw vn("isEqual","QuerySnapshot",1,e);return this.lm===e.lm&&this.Nm.isEqual(e.Nm)&&this.Fm.isEqual(e.Fm)&&this.fm===e.fm},t.prototype.Lm=function(t){return new Gi(this.lm,t.key,t,this.metadata.fromCache,this.Fm._s.has(t.key),this.fm)},t}(),Qi=function(t){function e(e,n,r){var i=this;if((i=t.call(this,Et.ve(e),n,r)||this).Om=e,e.length%2!=1)throw new d(f.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.K()+" has "+e.length);return i}return i.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Vm.path.B()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.Vm.path.L();return t.U()?null:new qi(new T(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Vm.path.K()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(rn("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=Te.mi()),on("CollectionReference.doc","non-empty string",1,t),""===t)throw new d(f.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=k.G(t);return qi.cm(this.Vm.path.child(e),this.firestore,this.fm)},e.prototype.add=function(t){en("CollectionReference.add",arguments,1),on("CollectionReference.add","object",1,this.fm?this.fm.toFirestore(t):t);var e=this.doc();return e.set(t).then((function(){return e}))},e.prototype.withConverter=function(t){return new e(this.Om,this.firestore,t)},e}(Ki);function Zi(t,e){if(void 0===e)return{merge:!1};if(pn(t,e,["merge","mergeFields"]),un(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new d(f.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+fn(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new d(f.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+fn(r[o]))}(t,"mergeFields",0,r,(function(t){return"string"==typeof t||t instanceof En}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new d(f.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Yi(t,e){return void 0===e?{}:(pn(t,e,["serverTimestamps"]),ln(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function Xi(t,e){sn(t,"object",1,e),e&&(pn(t,e,["source"]),ln(t,0,"source",e.source,["default","server","cache"]))}function Ji(t,e,n){if(e instanceof qi){if(e.firestore!==n)throw new d(f.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw vn(t,"DocumentReference",1,e)}function $i(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce("Unknown change type: "+t)}}function to(t,e,n){var r;return t?(r=t.toFirestore(e),n="toFirestore() in "+n):r=e,[r,n]}var eo=_n(ji,"Use firebase.firestore() instead."),no=_n(Ui,"Use firebase.firestore().runTransaction() instead."),ro=_n(Bi,"Use firebase.firestore().batch() instead."),io=_n(qi,"Use firebase.firestore().doc() instead."),oo=_n(Hi),so=_n(Gi),ao=_n(Ki),uo=_n(Wi),lo=_n(Qi,"Use firebase.firestore().collection() instead."),co={Firestore:eo,GeoPoint:Rn,Timestamp:_,Blob:Cn,Transaction:no,WriteBatch:ro,DocumentReference:io,DocumentSnapshot:oo,Query:ao,QueryDocumentSnapshot:so,QuerySnapshot:uo,CollectionReference:lo,FieldPath:En,FieldValue:On,setLogLevel:ji.setLogLevel,CACHE_SIZE_UNLIMITED:Mi},ho=function(){function t(){}return t.prototype.Hu=function(t){},t.prototype.lc=function(){},t}(),fo=function(){function t(){var t=this;this.xm=function(){return t.Bm()},this.Um=function(){return t.qm()},this.Qm=[],this.Wm()}return t.prototype.Hu=function(t){this.Qm.push(t)},t.prototype.lc=function(){window.removeEventListener("online",this.xm),window.removeEventListener("offline",this.Um)},t.prototype.Wm=function(){window.addEventListener("online",this.xm),window.addEventListener("offline",this.Um)},t.prototype.Bm=function(){be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Qm;t<e.length;t++)(0,e[t])(0)},t.prototype.qm=function(){be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Qm;t<e.length;t++)(0,e[t])(1)},t.Uc=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),po=function(){function t(t){this.jm=t.jm,this.Km=t.Km}return t.prototype._u=function(t){this.Gm=t},t.prototype.ou=function(t){this.zm=t},t.prototype.onMessage=function(t){this.Hm=t},t.prototype.close=function(){this.Km()},t.prototype.send=function(t){this.jm(t)},t.prototype.Jm=function(){this.Gm()},t.prototype.Ym=function(t){this.zm(t)},t.prototype.Xm=function(t){this.Hm(t)},t}(),vo={BatchGetDocuments:"batchGet",Commit:"commit"},mo="gl-js/ fire/"+c,yo=function(){function t(t){this.cn=t.cn,this.Zm=(t.ssl?"https":"http")+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.tE=function(t,e){if(e)for(var n in e.h)e.h.hasOwnProperty(n)&&(t[n]=e.h[n]);t["X-Goog-Api-Client"]=mo},t.prototype.gu=function(t,e,n){var r=this,i=this.eE(t);return new Promise((function(o,s){var a=new l.XhrIo;a.listenOnce(l.EventType.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case l.ErrorCode.NO_ERROR:var e=a.getResponseJson();be("Connection","XHR received:",JSON.stringify(e)),o(e);break;case l.ErrorCode.TIMEOUT:be("Connection",'RPC "'+t+'" timed out'),s(new d(f.DEADLINE_EXCEEDED,"Request time out"));break;case l.ErrorCode.HTTP_ERROR:var n=a.getStatus();if(be("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var i=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(f).indexOf(e)>=0?e:f.UNKNOWN}(r.status);s(new d(i,r.message))}else s(new d(f.UNKNOWN,"Server responded with status "+a.getStatus()))}else be("Connection",'RPC "'+t+'" failed'),s(new d(f.UNAVAILABLE,"Connection failed."));break;default:Ce('RPC "'+t+'" failed with unanticipated webchannel error '+a.getLastErrorCode()+": "+a.getLastError()+", giving up.")}}finally{be("Connection",'RPC "'+t+'" completed.')}}));var u=Object.assign({},e);delete u.database;var c=JSON.stringify(u);be("Connection","XHR sending: ",i+" "+c);var h={"Content-Type":"text/plain"};r.tE(h,n),a.send(i,"POST",c,h,15)}))},t.prototype.yu=function(t,e,n){return this.gu(t,e,n)},t.prototype.lu=function(t,e){var n=[this.Zm,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=l.createWebChannelTransport(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.cn.projectId+"/databases/"+this.cn.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.tE(i.initMessageHeaders,e),a.isMobileCordova()||a.isReactNative()||a.isElectron()||a.isIE()||a.isUWP()||a.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");be("Connection","Creating WebChannel: "+o+" "+i);var s=r.createWebChannel(o,i),u=!1,c=!1,h=new po({jm:function(t){c?be("Connection","Not sending because WebChannel is closed:",t):(u||(be("Connection","Opening WebChannel transport."),s.open(),u=!0),be("Connection","WebChannel sending:",t),s.send(t))},Km:function(){return s.close()}}),p=function(t,e){s.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return p(l.WebChannel.EventType.OPEN,(function(){c||be("Connection","WebChannel transport opened.")})),p(l.WebChannel.EventType.CLOSE,(function(){c||(c=!0,be("Connection","WebChannel transport closed"),h.Ym())})),p(l.WebChannel.EventType.ERROR,(function(t){c||(c=!0,be("Connection","WebChannel transport errored:",t),h.Ym(new d(f.UNAVAILABLE,"The operation could not be completed")))})),p(l.WebChannel.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];Ee(!!n,"Got a webchannel message without data.");var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){be("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Rt[t];if(void 0!==e)return qt(e)}(i),a=r.message;void 0===o&&(o=f.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,h.Ym(new d(o,a)),s.close()}else be("Connection","WebChannel received:",n),h.Xm(n)}})),setTimeout((function(){h.Jm()}),0),h},t.prototype.eE=function(t){return this.Zm+"/v1/projects/"+this.cn.projectId+"/databases/"+this.cn.database+"/documents:"+vo[t]},t}();function go(t){!function(t,e){t.INTERNAL.registerComponent(new u.Component("firestore",(function(t){return function(t,e){return new ji(t,e,new Oi)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},co)))}(t),t.registerVersion("@firebase/firestore","1.14.1")}me.fi(new(function(){function t(){this.dn=!0,this.ia="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.DT=function(t){return Promise.resolve(new yo(t))},t.prototype.gT=function(){return fo.Uc()?new fo:new ho},t.prototype.yT=function(t){return new pe(t,{dn:!0})},t.prototype.Ti=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}())),go(o),e.__PRIVATE_registerFirestore=go},"S+S0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("zVF4"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(c){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=r.__read(o.value,2),a=s[1],u=this.normalizeInstanceIdentifier(s[0]);try{var l=this.getOrInitializeService(u);a.resolve(l)}catch(c){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=o,e.ComponentContainer=a,e.Provider=s},Wcq6:function(t,e,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;i.registerVersion("firebase","7.14.1","app"),t.exports=i},mrSG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return l})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return d})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return v})),n.d(e,"__spreadArrays",(function(){return m})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return g})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return k})),n.d(e,"__importDefault",(function(){return C})),n.d(e,"__classPrivateFieldGet",(function(){return E})),n.d(e,"__classPrivateFieldSet",(function(){return T}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function l(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function m(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function g(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof y?Promise.resolve(n.value.v).then(u,l):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function u(t){a("next",t)}function l(t){a("throw",t)}function c(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=d(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function k(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}function E(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function T(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.r(e),n.d(e,"LogLevel",(function(){return s})),n.d(e,"Logger",(function(){return h})),n.d(e,"setLogLevel",(function(){return f})),n.d(e,"setUserLogHandler",(function(){return d}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,l=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),c=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=l[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=c,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){var e="string"==typeof t?a[t]:t;o.forEach((function(t){t.logLevel=e}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=n("mrSG"),s=n("zVF4"),a=n("S+S0"),u=n("q/0M"),l=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),c=new s.ErrorFactory("app","Firebase",l),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.Logger("@firebase/app"),d=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=s.deepCopy(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",(function(){return u}),"PUBLIC"));try{for(var l=o.__values(this.firebase_.INTERNAL.components.values()),c=l.next();!c.done;c=l.next())this._addComponent(c.value)}catch(h){r={error:h}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw c.create("bad-app-name",{appName:String(a)});if(s.contains(e,a))throw c.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(u.join(" "))}l(new a.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw c.create("invalid-log-argument",{appName:name});u.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.14.1",INTERNAL:{registerComponent:l,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!s.contains(e,t=t||"[DEFAULT]"))throw c.create("no-app",{appName:t});return e[t]}function l(a){var u,l,h=a.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw c.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&s.deepExtend(d,a.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,a.multipleInstances?t:[])}}try{for(var p=o.__values(Object.keys(e)),v=p.next();!v.done;v=p.next())e[v.value]._addComponent(a)}catch(m){u={error:m}}finally{try{v&&!v.done&&(l=p.return)&&l.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(d);return e.INTERNAL=o.__assign(o.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){s.deepExtend(e,t)},createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(s.isBrowser()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.isNode()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),y.apply(void 0,t)};var g=p;!function(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",(function(t){return new v(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.2",void 0),t.registerVersion("fire-js","")}(g),e.default=g,e.firebase=g},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",(function(){return ar})),n.d(e,"EventType",(function(){return ur})),n.d(e,"WebChannel",(function(){return lr})),n.d(e,"XhrIo",(function(){return cr})),n.d(e,"createWebChannelTransport",(function(){return sr}));var r,i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o=o||{},s=i;function a(t){return"string"==typeof t}function u(t){return"number"==typeof t}function l(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function c(){}function h(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function f(t){return"array"==h(t)}function d(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),m=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function g(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:g).apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function k(t,e){function n(){}n.prototype=e.prototype,t.N=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.yb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function C(){this.j=this.j,this.i=this.i}C.prototype.j=!1,C.prototype.la=function(){!this.j&&(this.j=!0,this.G(),0)&&(this[v]||(this[v]=++m))},C.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var E=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(a(t))return a(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},T=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=a(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function S(t){return Array.prototype.concat.apply([],arguments)}function I(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function A(t){return/^[\s\xa0]*$/.test(t)}var x,N=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function D(t,e){return-1!=t.indexOf(e)}function O(t,e){return t<e?-1:t>e?1:0}t:{var R=s.navigator;if(R){var P=R.userAgent;if(P){x=P;break t}}x=""}function L(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function V(t){var e,n={};for(e in t)n[e]=t[e];return n}var M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<M.length;o++)n=M[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function j(t){return j[" "](t),t}j[" "]=c;var U,B,q=D(x,"Opera"),z=D(x,"Trident")||D(x,"MSIE"),H=D(x,"Edge"),G=H||z,K=D(x,"Gecko")&&!(D(x.toLowerCase(),"webkit")&&!D(x,"Edge"))&&!(D(x,"Trident")||D(x,"MSIE"))&&!D(x,"Edge"),W=D(x.toLowerCase(),"webkit")&&!D(x,"Edge");function Q(){var t=s.document;return t?t.documentMode:void 0}t:{var Z="",Y=(B=x,K?/rv:([^\);]+)(\)|;)/.exec(B):H?/Edge\/([\d\.]+)/.exec(B):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(B):W?/WebKit\/(\S+)/.exec(B):q?/(?:Version)[ \/]?(\S+)/.exec(B):void 0);if(Y&&(Z=Y?Y[1]:""),z){var X=Q();if(null!=X&&X>parseFloat(Z)){U=String(X);break t}}U=Z}var J,$={};function tt(t){return function(t,e){var n=$;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=N(String(U)).split("."),r=N(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=O(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||O(0==s[2].length,0==a[2].length)||O(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var et=s.document;J=et&&z?Q()||("CSS1Compat"==et.compatMode?parseInt(U,10):5):void 0;var nt=!z||9<=Number(J),rt=z&&!tt("9"),it=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",c,e),s.removeEventListener("test",c,e)}catch(n){}return t}();function ot(t,e){this.type=t,this.a=this.target=e,this.Ia=!0}function st(t,e){if(ot.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(K){t:{try{j(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=a(t.pointerType)?t.pointerType:at[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ot.prototype.b=function(){this.Ia=!1},k(st,ot);var at={2:"touch",3:"pen",4:"mouse"};st.prototype.b=function(){st.N.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,rt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ut="closure_listenable_"+(1e6*Math.random()|0),lt=0;function ct(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++lt,this.X=this.Z=!1}function ht(t){t.X=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function ft(t){this.src=t,this.a={},this.b=0}function dt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=E(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ht(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function pt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.X&&o.listener==e&&o.capture==!!n&&o.da==r)return i}return-1}ft.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=pt(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new ct(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var vt="closure_lm_"+(1e6*Math.random()|0),mt={};function yt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(f(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=Et(r),e&&e[ut]?e.Aa(n,r,p(i)?!!i.capture:!!i,o):gt(e,n,r,!0,i,o)}(t,e,n,r,i);if(f(e)){for(var o=0;o<e.length;o++)yt(t,e[o],n,r,i);return null}return n=Et(n),t&&t[ut]?t.za(e,n,p(r)?!!r.capture:!!r,i):gt(t,e,n,!1,r,i)}function gt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i;if(s&&!nt)return null;var a=kt(t);if(a||(t[vt]=a=new ft(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=wt,e=nt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)it||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(bt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function _t(t){if(!u(t)&&t&&!t.X){var e=t.src;if(e&&e[ut])dt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(bt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=kt(e))?(dt(n,t),0==n.b&&(n.src=null,e[vt]=null)):ht(t)}}}function bt(t){return t in mt?mt[t]:mt[t]="on"+t}function wt(t,e){return!!t.X||function(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&_t(t),n.call(r,e)}(t,nt?new st(e,this):e=new st(e||l("window.event"),this))}function kt(t){return(t=t[vt])instanceof ft?t:null}var Ct="__closure_events_fn_"+(1e9*Math.random()>>>0);function Et(t){return"function"==h(t)?t:(t[Ct]||(t[Ct]=function(e){return t.handleEvent(e)}),t[Ct])}function Tt(){C.call(this),this.c=new ft(this),this.J=this,this.B=null}function St(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.X&&s.capture==n){var a=s.listener,u=s.da||s.src;s.Z&&dt(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&0!=r.Ia}k(Tt,C),Tt.prototype[ut]=!0,(r=Tt.prototype).addEventListener=function(t,e,n,r){yt(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(f(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=p(i)?!!i.capture:!!i,r=Et(r),e&&e[ut]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=pt(s=e.a[n],r,i,o))&&(ht(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=kt(e))&&(n=e.a[n.toString()],e=-1,n&&(e=pt(n,r,i,o)),(r=-1<e?n[e]:null)&&_t(r))}(this,t,e,n,r)},r.dispatchEvent=function(t){var e,n=this.B;if(n)for(e=[];n;n=n.B)e.push(n);n=this.J;var r=t.type||t;if(a(t))t=new ot(t,n);else if(t instanceof ot)t.target=t.target||n;else{var i=t;F(t=new ot(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];i=St(s,r,!0,t)&&i}if(i=St(s=t.a=n,r,!0,t)&&i,i=St(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=St(s=t.a=e[o],r,!1,t)&&i;return i},r.G=function(){if(Tt.N.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ht(n[r]);delete e.a[t],e.b--}}this.B=null},r.za=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},r.Aa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var It=s.JSON.stringify;function At(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function xt(){this.b=this.a=null}At.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var Nt,Dt=new At((function(){return new Rt}),(function(t){t.reset()}));function Ot(){var t=Mt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Rt(){this.next=this.b=this.a=null}function Pt(t){s.setTimeout((function(){throw t}),0)}function Lt(t,e){Nt||function(){var t=s.Promise.resolve(void 0);Nt=function(){t.then(Ft)}}(),Vt||(Nt(),Vt=!0),Mt.add(t,e)}xt.prototype.add=function(t,e){var n=Dt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Rt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Rt.prototype.reset=function(){this.next=this.b=this.a=null};var Vt=!1,Mt=new xt;function Ft(){for(var t;t=Ot();){try{t.a.call(t.b)}catch(n){Pt(n)}var e=Dt;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Vt=!1}function jt(t,e){Tt.call(this),this.b=t||1,this.a=e||s,this.f=_(this.gb,this),this.g=w()}function Ut(t){t.ba=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function Bt(t,e,n){if("function"==h(t))n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function qt(t,e,n){C.call(this),this.f=null!=n?_(t,n):t,this.c=e,this.b=_(this.$a,this),this.a=[]}function zt(t){t.U=Bt(t.b,t.c),t.f.apply(null,t.a)}function Ht(t){C.call(this),this.b=t,this.a={}}k(jt,Tt),(r=jt.prototype).ba=!1,r.L=null,r.gb=function(){if(this.ba){var t=w()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(Ut(this),this.start()))}},r.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=w())},r.G=function(){jt.N.G.call(this),Ut(this),delete this.a},k(qt,C),(r=qt.prototype).ea=!1,r.U=null,r.Ta=function(t){this.a=arguments,this.U?this.ea=!0:zt(this)},r.G=function(){qt.N.G.call(this),this.U&&(s.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},r.$a=function(){this.U=null,this.ea&&(this.ea=!1,zt(this))},k(Ht,C);var Gt=[];function Kt(t,e,n,r){f(n)||(n&&(Gt[0]=n.toString()),n=Gt);for(var i=0;i<n.length;i++){var o=yt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Wt(t){L(t.a,(function(t,e){this.a.hasOwnProperty(e)&&_t(t)}),t),t.a={}}function Qt(){}Ht.prototype.G=function(){Ht.N.G.call(this),Wt(this)},Ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zt=new Tt;function Yt(t){ot.call(this,"serverreachability",t)}function Xt(t){Zt.dispatchEvent(new Yt(Zt,t))}function Jt(t){ot.call(this,"statevent",t)}function $t(t){Zt.dispatchEvent(new Jt(Zt,t))}function te(t){ot.call(this,"timingevent",t)}function ee(t,e){if("function"!=h(t))throw Error("Fn must not be null and must be a function");return s.setTimeout((function(){t()}),e)}k(Yt,ot),k(Jt,ot),k(te,ot);var ne={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,La:7,TIMEOUT:8,sb:9},re={jb:"complete",wb:"success",Ma:"error",La:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function ie(){}function oe(){}ie.prototype.a=null;var se,ae={OPEN:"a",ib:"b",Ma:"c",rb:"d"};function ue(){ot.call(this,"d")}function le(){ot.call(this,"c")}function ce(){}function he(t,e,n){this.g=t,this.W=e,this.V=n||1,this.I=new Ht(this),this.O=fe,this.P=new jt(t=G?125:void 0),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}k(ue,ot),k(le,ot),k(ce,ie),se=new ce;var fe=45e3,de={},pe={};function ve(t,e,n){t.F=1,t.f=Ue(Re(e)),t.l=n,t.H=!0,ye(t,null)}function me(t,e,n,r){t.F=1,t.f=Ue(Re(e)),t.l=null,t.H=n,ye(t,r)}function ye(t,e){t.v=w(),be(t),t.D=Re(t.f),je(t.D,"t",t.V),t.A=0,t.a=t.g.$(t.g.Y()?e:null),0<t.J&&(t.B=new qt(_(t.Ja,t,t.a),t.J)),Kt(t.I,t.a,"readystatechange",t.cb),e=t.h?V(t.h):{},t.l?(t.w||(t.w="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ca(t.D,t.w,t.l,e)):(t.w="GET",t.a.ca(t.D,t.w,null,e)),Xt(1)}function ge(t,e,n){for(var r=!0;!t.m&&t.A<n.length;){var i=_e(t,n);if(i==pe){4==e&&(t.c=4,$t(14),r=!1);break}if(i==de){t.c=4,$t(15),r=!1;break}Te(t,i)}4==e&&0==n.length&&(t.c=1,$t(16),r=!1),t.b=t.b&&r,r||(Ee(t),Ce(t))}function _e(t,e){var n=t.A,r=e.indexOf("\n",n);return-1==r?pe:(n=Number(e.substring(n,r)),isNaN(n)?de:(r+=1)+n>e.length?pe:(e=e.substr(r,n),t.A=r+n,e))}function be(t){t.R=w()+t.O,we(t,t.O)}function we(t,e){if(null!=t.i)throw Error("WatchDog timer not null");t.i=ee(_(t.ab,t),e)}function ke(t){t.i&&(s.clearTimeout(t.i),t.i=null)}function Ce(t){t.g.Ca()||t.m||t.g.na(t)}function Ee(t){ke(t);var e=t.B;e&&"function"==typeof e.la&&e.la(),t.B=null,Ut(t.P),Wt(t.I),t.a&&(e=t.a,t.a=null,e.abort(),e.la())}function Te(t,e){try{t.g.Fa(t,e),Xt(4)}catch(n){}}function Se(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||a(t))T(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.C&&"function"==typeof t.C)n=void 0;else if(d(t)||a(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.C&&"function"==typeof t.C)return t.C();if(a(t))return t.split("");if(d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ie(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ie)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ae(t,e){Ne(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&xe(t))}function xe(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ne(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ne(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ne(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(r=he.prototype).setTimeout=function(t){this.O=t},r.cb=function(t){t=t.target;var e=this.B;e&&3==Rn(t)?e.Ta():this.Ja(t)},r.Ja=function(t){try{if(t==this.a)t:{var e=Rn(this.a),n=this.a.ya(),r=this.a.T();if(!(3>e||3==e&&!G&&!this.a.aa())){this.m||4!=e||7==n||Xt(8==n||0>=r?3:2),ke(this);var i=this.a.T();this.o=i;var o=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){e:{if(this.a){var s=Pn(this.a,"X-HTTP-Initial-Response");if(s&&!A(s)){var a=s;break e}}a=null}if(!a){this.b=!1,this.c=3,$t(12),Ee(this),Ce(this);break t}this.s=!0,Te(this,a)}this.H?(ge(this,e,o),G&&this.b&&3==e&&(Kt(this.I,this.P,"tick",this.bb),this.P.start())):Te(this,o),4==e&&Ee(this),this.b&&!this.m&&(4==e?this.g.na(this):(this.b=!1,be(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,$t(12)):(this.c=0,$t(13)),Ee(this),Ce(this)}}}catch(u){}},r.bb=function(){if(this.a){var t=Rn(this.a),e=this.a.aa();this.A<e.length&&(ke(this),ge(this,t,e),this.b&&4!=t&&be(this))}},r.cancel=function(){this.m=!0,Ee(this)},r.ab=function(){this.i=null;var t=w();0<=t-this.R?(2!=this.F&&(Xt(3),$t(17)),Ee(this),this.c=2,Ce(this)):we(this,this.R-t)},(r=Ie.prototype).C=function(){xe(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},r.K=function(){return xe(this),this.a.concat()},r.get=function(t,e){return Ne(this.b,t)?this.b[t]:e},r.set=function(t,e){Ne(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},r.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var De=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Oe(t,e){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,t instanceof Oe?(this.h=void 0!==e?e:t.h,Pe(this,t.f),this.j=t.j,Le(this,t.b),Ve(this,t.i),this.a=t.a,Me(this,tn(t.c)),this.g=t.g):t&&(n=String(t).match(De))?(this.h=!!e,Pe(this,n[1]||"",!0),this.j=Be(n[2]||""),Le(this,n[3]||"",!0),Ve(this,n[4]),this.a=Be(n[5]||"",!0),Me(this,n[6]||"",!0),this.g=Be(n[7]||"")):(this.h=!!e,this.c=new Ze(null,this.h))}function Re(t){return new Oe(t)}function Pe(t,e,n){t.f=n?Be(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Le(t,e,n){t.b=n?Be(e,!0):e}function Ve(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function Me(t,e,n){e instanceof Ze?(t.c=e,function(t,e){e&&!t.f&&(Ye(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Xe(this,e),$e(this,n,t))}),t)),t.f=e}(t.c,t.h)):(n||(e=qe(e,We)),t.c=new Ze(e,t.h))}function Fe(t,e,n){t.c.set(e,n)}function je(t,e,n){f(n)||(n=[String(n)]),$e(t.c,e,n)}function Ue(t){return Fe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^w()).toString(36)),t}function Be(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qe(t,e,n){return a(t)?(t=encodeURI(t).replace(e,ze),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ze(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Oe.prototype.toString=function(){var t=[],e=this.f;e&&t.push(qe(e,He,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(qe(e,He,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(qe(n,"/"==n.charAt(0)?Ke:Ge,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",qe(n,Qe)),t.join("")},Oe.prototype.resolve=function(t){var e=Re(this),n=!!t.f;n?Pe(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?Le(e,t.b):n=null!=t.i;var r=t.a;if(n)Ve(e,t.i);else if(n=!!t.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=e.a.lastIndexOf("/");-1!=i&&(r=e.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(D(i,"./")||D(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.a=r:n=""!==t.c.toString(),n?Me(e,tn(t.c)):n=!!t.g,n&&(e.g=t.g),e};var He=/[#\/\?@]/g,Ge=/[#\?:]/g,Ke=/[#\?]/g,We=/[#\?@]/g,Qe=/#/g;function Ze(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ye(t){t.a||(t.a=new Ie,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Xe(t,e){Ye(t),e=en(t,e),Ne(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ae(t.a,e))}function Je(t,e){return Ye(t),e=en(t,e),Ne(t.a.b,e)}function $e(t,e,n){Xe(t,e),0<n.length&&(t.c=null,t.a.set(en(t,e),I(n)),t.b+=n.length)}function tn(t){var e=new Ze;return e.c=t.c,t.a&&(e.a=new Ie(t.a),e.b=t.b),e}function en(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nn(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function rn(t){var e=t.a.F.a;if(null!=e)$t(4),e?($t(10),Kn(t.a,t,!1)):($t(11),Kn(t.a,t,!0));else{t.b=new he(t,void 0,void 0),t.b.h=t.h,e=Xn(e=t.a,e.Y()?t.f:null,t.i),$t(4),je(e,"TYPE","xmlhttp");var n=t.a.j,r=t.a.I;n&&r&&Fe(e,n,r),me(t.b,e,!1,t.f)}}function on(){this.a=this.b=null}function sn(){this.a=new Ie}function an(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[v]||(t[v]=++m)):e.charAt(0)+t}function un(t,e){this.b=t,this.a=e}function ln(t){this.g=t||cn,t=s.PerformanceNavigationTiming?0<(t=s.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(s.ka&&s.ka.Da&&s.ka.Da()&&s.ka.Da().zb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new sn),this.b=null,this.c=[]}(r=Ze.prototype).add=function(t,e){Ye(this),this.c=null,t=en(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},r.forEach=function(t,e){Ye(this),this.a.forEach((function(n,r){T(n,(function(n){t.call(e,n,r,this)}),this)}),this)},r.K=function(){Ye(this);for(var t=this.a.C(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},r.C=function(t){Ye(this);var e=[];if(a(t))Je(this,t)&&(e=S(e,this.a.get(en(this,t))));else{t=this.a.C();for(var n=0;n<t.length;n++)e=S(e,t[n])}return e},r.set=function(t,e){return Ye(this),this.c=null,Je(this,t=en(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},r.get=function(t,e){return t&&0<(t=this.C(t)).length?String(t[0]):e},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.C(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")},k((function(){}),(function(){})),(r=nn.prototype).M=null,r.$=function(t){return this.a.$(t)},r.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},r.Ca=function(){return!1},r.Fa=function(t,e){if(this.c=t.o,0==this.M){if(!this.a.o&&(t=t.a)){var n=Pn(t,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(t=Pn(t,"X-HTTP-Session-Id"))&&(this.a.I=t)}if(e){try{var r=this.a.ja.a.parse(e)}catch(i){return(e=this.a).m=this.c,void Zn(e,2)}this.f=r[0]}else(e=this.a).m=this.c,Zn(e,2)}else 1==this.M&&(this.g?$t(6):"11111"==e?($t(5),this.g=!0,(!z||10<=Number(J))&&(this.c=200,this.b.cancel(),$t(11),Kn(this.a,this,!0))):($t(7),this.g=!1))},r.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,rn(this)):1==this.M&&(this.g?($t(11),Kn(this.a,this,!0)):($t(10),Kn(this.a,this,!1)));else{0==this.M?$t(8):1==this.M&&$t(9);var t=this.a;t.m=this.c,Zn(t,2)}},r.Y=function(){return this.a.Y()},r.ma=function(){return this.a.ma()},sn.prototype.add=function(t){this.a.set(an(t),t)},sn.prototype.C=function(){return this.a.C()};var cn=10;function hn(t,e){!t.a&&(D(e,"spdy")||D(e,"quic")||D(e,"h2"))&&(t.f=t.g,t.a=new sn,t.b&&(vn(t,t.b),t.b=null))}function fn(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function dn(t){return t.b?1:t.a?t.a.a.c:0}function pn(t,e){return t.b?t=t.b==e:t.a?(e=an(e),t=Ne(t.a.a.b,e)):t=!1,t}function vn(t,e){t.a?t.a.add(e):t.b=e}function mn(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=an(e),n=Ne(t.a.a.b,n)),n&&Ae(t.a.a,an(e)))}function yn(t){if(null!=t.b)return t.c.concat(t.b.j);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return T(t.a.C(),(function(t){e=e.concat(t.j)})),e}return I(t.c)}function gn(){}function _n(){this.a=new gn}function bn(t,e,n){var r=n||"";try{Se(t,(function(t,n){var i=t;p(t)&&(i=It(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function wn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}ln.prototype.cancel=function(){this.c=yn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(T(this.a.C(),(function(t){t.cancel()})),function(t){t.b={},t.a.length=0,t.c=0}(this.a.a))},gn.prototype.stringify=function(t){return s.JSON.stringify(t,void 0)},gn.prototype.parse=function(t){return s.JSON.parse(t,void 0)};var kn=s.JSON.parse;function Cn(t){Tt.call(this),this.headers=new Ie,this.H=t||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=En,this.D=this.F=!1}k(Cn,Tt);var En="",Tn=/^https?$/i,Sn=["POST","PUT"];function In(t){return"content-type"==t.toLowerCase()}function An(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,xn(t),Dn(t)}function xn(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Nn(t){if(t.b&&void 0!==o&&(!t.s[1]||4!=Rn(t)||2!=t.T()))if(t.l&&4==Rn(t))Bt(t.Ea,0,t);else if(t.dispatchEvent("readystatechange"),4==Rn(t)){t.b=!1;try{var e,n=t.T();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.A).match(De)[1]||null;if(!a&&s.self&&s.self.location){var u=s.self.location.protocol;a=u.substr(0,u.length-1)}i=!Tn.test(a?a.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var l=2<Rn(t)?t.a.statusText:""}catch(c){l=""}t.f=l+" ["+t.T()+"]",xn(t)}}finally{Dn(t)}}}function Dn(t,e){if(t.a){On(t);var n=t.a,r=t.s[0]?c:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function On(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(s.clearTimeout(t.m),t.m=null)}function Rn(t){return t.a?t.a.readyState:0}function Pn(t,e){return t.a?t.a.getResponseHeader(e):null}function Ln(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=function(t){var e="";return L(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),a(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var i=""}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return Fe(t,e,n),t}function Vn(t){this.f=[],this.F=new on,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Qa=this.P=0,this.Oa=!!l("internalChannelParams.failFast",t),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Na=l("internalChannelParams.baseRetryDelayMs",t)||5e3,this.Ra=l("internalChannelParams.retryDelaySeedMs",t)||1e4,this.Pa=l("internalChannelParams.forwardChannelMaxRetries",t)||2,this.qa=l("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.Ka=t&&t.Ab||void 0,this.D=void 0,this.R=t&&t.supportsCrossDomainXhr||!1,this.H="",this.b=new ln(t&&t.concurrentRequestLimit),this.ja=new _n,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.W=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Mn(t){if(Fn(t),3==t.u){var e=t.P++,n=Re(t.B);Fe(n,"SID",t.H),Fe(n,"RID",e),Fe(n,"TYPE","terminate"),qn(t,n),(e=new he(t,e,void 0)).F=2,e.f=Ue(Re(n)),n=!1,s.navigator&&s.navigator.sendBeacon&&(n=s.navigator.sendBeacon(e.f.toString(),"")),!n&&s.Image&&((new Image).src=e.f,n=!0),n||(e.a=e.g.$(null),e.a.ca(e.f)),e.v=w(),be(e)}Yn(t)}function Fn(t){t.w&&(t.w.abort(),t.w=null),t.a&&(t.a.cancel(),t.a=null),t.l&&(s.clearTimeout(t.l),t.l=null),Wn(t),t.b.cancel(),t.h&&(u(t.h)&&s.clearTimeout(t.h),t.h=null)}function jn(t,e){t.f.push(new un(t.Qa++,e)),3==t.u&&Un(t)}function Un(t){fn(t.b)||t.h||(t.h=!0,Lt(t.Ha,t),t.A=0)}function Bn(t,e){var n;n=e?e.W:t.P++;var r=Re(t.B);Fe(r,"SID",t.H),Fe(r,"RID",n),Fe(r,"AID",t.O),qn(t,r),t.g&&t.i&&Ln(r,t.g,t.i),n=new he(t,n,t.A+1),null===t.g&&(n.h=t.i),e&&(t.f=e.j.concat(t.f)),e=zn(t,n,1e3),n.setTimeout(Math.round(.5*t.qa)+Math.round(.5*t.qa*Math.random())),vn(t.b,n),ve(n,r,e)}function qn(t,e){t.c&&Se({},(function(t,n){Fe(e,n,t)}))}function zn(t,e,n){n=Math.min(t.f.length,n);var r=t.c?_(t.c.Sa,t.c,t):null;t:for(var i=t.f,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var l=i[u].b,c=i[u].a;if(0>(l-=o))o=Math.max(0,i[u].b-100),a=!1;else try{bn(c,s,"req"+l+"_")}catch(h){r&&r(c)}}if(a){r=s.join("&");break t}}return t=t.f.splice(0,n),e.j=t,r}function Hn(t){t.a||t.l||(t.S=1,Lt(t.Ga,t),t.v=0)}function Gn(t){return!(t.a||t.l||3<=t.v||(t.S++,t.l=ee(_(t.Ga,t),Qn(t,t.v)),t.v++,0))}function Kn(t,e,n){var r=e.l;r&&hn(t.b,r),t.ia=t.oa&&n,t.m=e.c,t.B=Xn(t,null,t.ha),Un(t)}function Wn(t){null!=t.s&&(s.clearTimeout(t.s),t.s=null)}function Qn(t,e){var n=t.Na+Math.floor(Math.random()*t.Ra);return t.ma()||(n*=2),n*e}function Zn(t,e){if(2==e){var n=null;t.c&&(n=null);var r=_(t.eb,t);n||(n=new Oe("//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||Pe(n,"https"),Ue(n)),function(t,e){var n=new Qt;if(s.Image){var r=new Image;r.onload=b(wn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=b(wn,n,r,"TestLoadImage: error",!1,e),r.onabort=b(wn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=b(wn,n,r,"TestLoadImage: timeout",!1,e),s.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else $t(2);t.u=0,t.c&&t.c.ta(e),Yn(t),Fn(t)}function Yn(t){t.u=0,t.m=-1,t.c&&(0==yn(t.b).length&&0==t.f.length||(t.b.c.length=0,I(t.f),t.f.length=0),t.c.sa())}function Xn(t,e,n){var r=function(t){return t instanceof Oe?Re(t):new Oe(t,void 0)}(n);if(""!=r.b)e&&Le(r,e+"."+r.b),Ve(r,r.i);else{var i=s.location;r=function(t,e,n,r){var i=new Oe(null,void 0);return t&&Pe(i,t),e&&Le(i,e),n&&Ve(i,n),r&&(i.a=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&L(t.V,(function(t,e){Fe(r,e,t)})),n=t.I,(e=t.j)&&n&&Fe(r,e,n),Fe(r,"VER",t.wa),qn(t,r),r}function Jn(){}function $n(){if(z&&!(10<=Number(J)))throw Error("Environmental error: no available transport.")}function tr(t,e){Tt.call(this),this.a=new Vn(e),this.g=t,this.m=e&&e.fb?e.fb:function(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf("/",0)?e=i:((r=""==e)||(r=0<=(r=e.length-1)&&e.indexOf("/",r)==r),e+=r?i:"/"+i)}return e}(this.g,"test"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.xa&&(t?t["X-WebChannel-Client-Profile"]=e.xa:t={"X-WebChannel-Client-Profile":e.xa}),this.a.J=t,(t=e&&e.httpHeadersOverwriteParam)&&!A(t)&&(this.a.g=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!A(e)&&(this.a.j=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new rr(this)}function er(t){ue.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function nr(){le.call(this),this.status=1}function rr(t){this.a=t}(r=Cn.prototype).ca=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+t);e=e?e.toUpperCase():"GET",this.A=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:se),this.a.onreadystatechange=_(this.Ea,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(o){return void An(this,o)}t=n||"";var i=new Ie(this.headers);r&&Se(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=In,n=t.length,r=a(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:a(t)?t.charAt(e):t[e]}(i.K()),n=s.FormData&&t instanceof s.FormData,!(0<=E(Sn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{On(this),0<this.o&&((this.D=function(t){return z&&tt(9)&&u(t.timeout)&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=_(this.Ba,this)):this.m=Bt(this.Ba,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){An(this,o)}},r.Ba=function(){void 0!==o&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Dn(this))},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Dn(this,!0)),Cn.N.G.call(this)},r.Ea=function(){this.j||(this.w||this.l||this.g?Nn(this):this.Za())},r.Za=function(){Nn(this)},r.T=function(){try{return 2<Rn(this)?this.a.status:-1}catch(B){return-1}},r.aa=function(){try{return this.a?this.a.responseText:""}catch(B){return""}},r.Ua=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),kn(e)}},r.ya=function(){return this.h},r.Xa=function(){return a(this.f)?this.f:String(this.f)},(r=Vn.prototype).wa=8,r.u=1,r.Ca=function(){return 0==this.u},r.Ha=function(t){if(this.h)if(this.h=null,1==this.u){if(!t){this.P=Math.floor(1e5*Math.random());var e,n=new he(this,t=this.P++,void 0),r=this.i;if(this.J&&(r?F(r=V(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)t:{for(var i=e=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&a(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=zn(this,n,e),Fe(i=Re(this.B),"RID",t),Fe(i,"CVER",22),this.o&&this.j&&Fe(i,"X-HTTP-Session-Id",this.j),qn(this,i),this.g&&r&&Ln(i,this.g,r),vn(this.b,n),this.W?(Fe(i,"$req",e),Fe(i,"SID","null"),n.S=!0,ve(n,i,null)):ve(n,i,e),this.u=2}}else 3==this.u&&(t?Bn(this,t):0==this.f.length||fn(this.b)||Bn(this))},r.Ga=function(){this.l=null,this.a=new he(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var t=Re(this.pa);Fe(t,"RID","rpc"),Fe(t,"SID",this.H),Fe(t,"CI",this.ia?"0":"1"),Fe(t,"AID",this.O),qn(this,t),Fe(t,"TYPE","xmlhttp"),this.g&&this.i&&Ln(t,this.g,this.i),this.D&&this.a.setTimeout(this.D),me(this.a,t,!0,this.ga)},r.Fa=function(t,e){if(0!=this.u&&(this.a==t||pn(this.b,t)))if(this.m=t.o,!t.s&&pn(this.b,t)&&3==this.u){try{var n=this.ja.a.parse(e)}catch(o){n=null}if(f(n)&&3==n.length){if(0==(e=n)[0]){t:if(!this.l){if(this.a){if(!(this.a.v+3e3<t.v))break t;Wn(this),this.a.cancel(),this.a=null}Gn(this),$t(18)}}else this.ra=e[1],0<this.ra-this.O&&37500>e[2]&&this.ia&&0==this.v&&!this.s&&(this.s=ee(_(this.Ya,this),6e3));if(1>=dn(this.b)&&this.fa){try{this.fa()}catch(o){}this.fa=void 0}}else Zn(this,11)}else if((t.s||this.a==t)&&Wn(this),!A(e))for(e=n=this.ja.a.parse(e),n=0;n<e.length;n++){var r=e[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var i=r[3];null!=i&&(this.wa=i),null!=(r=r[5])&&u(r)&&0<r&&(this.D=1.5*r),this.o&&(r=t.a)&&((i=Pn(r,"X-Client-Wire-Protocol"))&&hn(this.b,i),this.j&&(r=Pn(r,"X-HTTP-Session-Id")))&&(this.I=r,Fe(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=t,this.pa=Xn(this,this.Y()?this.ga:null,this.ha),r.s?(mn(this.b,r),(i=this.D)&&r.setTimeout(i),r.i&&(ke(r),be(r)),this.a=r):Hn(this),0<this.f.length&&Un(this)}else"stop"!=r[0]&&"close"!=r[0]||Zn(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?Zn(this,7):Mn(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},r.Ya=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,Gn(this),$t(19))},r.na=function(t){var e=null;if(this.a==t){Wn(this),this.a=null;var n=2}else{if(!pn(this.b,t))return;e=t.j,mn(this.b,t),n=1}if(this.m=t.o,0!=this.u)if(t.b)1==n?(e=w()-t.v,Zt.dispatchEvent(new te(Zt,t.l?t.l.length:0,e,this.A)),Un(this)):Hn(this);else{var r=t.c;if(3==r||0==r&&0<this.m||!(1==n&&function(t,e){return!(dn(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.f=e.j.concat(t.f),0):1==t.u||2==t.u||t.A>=(t.Oa?0:t.Pa)||(t.h=ee(_(t.Ha,t,e),Qn(t,t.A)),t.A++,0)))}(this,t)||2==n&&Gn(this)))switch(e&&0<e.length&&(t=this.b,t.c=t.c.concat(e)),r){case 1:Zn(this,5);break;case 4:Zn(this,10);break;case 3:Zn(this,6);break;default:Zn(this,2)}}},r.eb=function(t){$t(t?2:1)},r.$=function(t){if(t&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Cn(this.Ka)).F=this.R,t},r.ma=function(){return!!this.c&&!0},r.Y=function(){return this.R},(r=Jn.prototype).va=function(){},r.ua=function(){},r.ta=function(){},r.sa=function(){},r.Sa=function(){},$n.prototype.a=function(t,e){return new tr(t,e)},k(tr,Tt),(r=tr.prototype).addEventListener=function(t,e,n,r){tr.N.addEventListener.call(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){tr.N.removeEventListener.call(this,t,e,n,r)},r.Va=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var t=this.a,e=this.m,n=this.g,r=this.b||void 0;$t(0),t.ha=n,t.V=r||{},t.o&&(t.F.b=[],t.F.a=!1),t.w=new nn(t),null===t.g&&(t.w.h=t.i),n=e,t.g&&t.i&&(n=Ln(e,t.g,t.i)),(t=t.w).i=n,e=Xn(t.a,null,t.i),$t(3),null!=(n=t.a.F.b)?(t.f=n[0],t.M=1,rn(t)):(je(e,"MODE","init"),!t.a.o&&t.a.j&&je(e,"X-HTTP-Session-Id",t.a.j),t.b=new he(t,void 0,void 0),t.b.h=t.h,me(t.b,e,!1,null),t.M=0)},r.close=function(){Mn(this.a)},r.Wa=function(t){if(a(t)){var e={};e.__data__=t,jn(this.a,e)}else this.h?((e={}).__data__=It(t),jn(this.a,e)):jn(this.a,t)},r.G=function(){this.a.c=null,delete this.f,Mn(this.a),delete this.a,tr.N.G.call(this)},k(er,ue),k(nr,le),k(rr,Jn),rr.prototype.va=function(){this.a.dispatchEvent("a")},rr.prototype.ua=function(t){this.a.dispatchEvent(new er(t))},rr.prototype.ta=function(t){this.a.dispatchEvent(new nr(t))},rr.prototype.sa=function(){this.a.dispatchEvent("b")};var ir=b((function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r}),$n);$n.prototype.createWebChannel=$n.prototype.a,tr.prototype.send=tr.prototype.Wa,tr.prototype.open=tr.prototype.Va,tr.prototype.close=tr.prototype.close,ne.NO_ERROR=0,ne.TIMEOUT=8,ne.HTTP_ERROR=6,re.COMPLETE="complete",oe.EventType=ae,ae.OPEN="a",ae.CLOSE="b",ae.ERROR="c",ae.MESSAGE="d",Tt.prototype.listen=Tt.prototype.za,Cn.prototype.listenOnce=Cn.prototype.Aa,Cn.prototype.getLastError=Cn.prototype.Xa,Cn.prototype.getLastErrorCode=Cn.prototype.ya,Cn.prototype.getStatus=Cn.prototype.T,Cn.prototype.getResponseJson=Cn.prototype.Ua,Cn.prototype.getResponseText=Cn.prototype.aa,Cn.prototype.send=Cn.prototype.ca;var or={createWebChannelTransport:ir,ErrorCode:ne,EventType:re,WebChannel:oe,XhrIo:Cn},sr=or.createWebChannelTransport,ar=or.ErrorCode,ur=or.EventType,lr=or.WebChannel,cr=or.XhrIo;e.default=or},yLV6:function(t,e,n){var r;!function(i,o,s,a){"use strict";var u,l=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),h=Math.round,f=Math.abs,d=Date.now;function p(t,e,n){return setTimeout(w(t,n),e)}function v(t,e,n){return!!Array.isArray(t)&&(m(t,n[e],n),!0)}function m(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function y(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),t.apply(this,arguments)}}u="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var g=y((function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&void 0===t[r[i]])&&(t[r[i]]=e[r[i]]),i++;return t}),"extend","Use `assign`."),_=y((function(t,e){return g(t,e,!0)}),"merge","Use `assign`.");function b(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&u(r,n)}function w(t,e){return function(){return t.apply(e,arguments)}}function k(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function C(t,e){return void 0===t?e:t}function E(t,e,n){m(A(e),(function(e){t.addEventListener(e,n,!1)}))}function T(t,e,n){m(A(e),(function(e){t.removeEventListener(e,n,!1)}))}function S(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function I(t,e){return t.indexOf(e)>-1}function A(t){return t.trim().split(/\s+/g)}function x(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function N(t){return Array.prototype.slice.call(t,0)}function D(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];x(i,s)<0&&r.push(t[o]),i[o]=s,o++}return n&&(r=e?r.sort((function(t,n){return t[e]>n[e]})):r.sort()),r}function O(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<l.length;){if((r=(n=l[o])?n+i:e)in t)return r;o++}}var R=1;function P(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||i}var L="ontouchstart"in i,V=void 0!==O(i,"PointerEvent"),M=L&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),F=["x","y"],j=["clientX","clientY"];function U(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){k(t.options.enable,[t])&&n.handler(e)},this.init()}function B(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=1&e&&r-i==0,s=12&e&&r-i==0;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=q(e)),i>1&&!n.firstMultiple?n.firstMultiple=q(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,u=e.center=z(r);e.timeStamp=d(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=W(a,u),e.distance=K(a,u),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=G(e.deltaX,e.deltaY);var l,c,h=H(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=h.x,e.overallVelocityY=h.y,e.overallVelocity=f(h.x)>f(h.y)?h.x:h.y,e.scale=s?(l=s.pointers,K((c=r)[0],c[1],j)/K(l[0],l[1],j)):1,e.rotation=s?function(t,e){return W(e[1],e[0],j)+W(t[1],t[0],j)}(s.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,o,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(8!=e.eventType&&(a>25||void 0===s.velocity)){var u=e.deltaX-s.deltaX,l=e.deltaY-s.deltaY,c=H(a,u,l);r=c.x,i=c.y,n=f(c.x)>f(c.y)?c.x:c.y,o=G(u,l),t.lastInterval=e}else n=s.velocity,r=s.velocityX,i=s.velocityY,o=s.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}(n,e);var p=t.element;S(e.srcEvent.target,p)&&(p=e.srcEvent.target),e.target=p}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function q(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:h(t.pointers[n].clientX),clientY:h(t.pointers[n].clientY)},n++;return{timeStamp:d(),pointers:e,center:z(e),deltaX:t.deltaX,deltaY:t.deltaY}}function z(t){var e=t.length;if(1===e)return{x:h(t[0].clientX),y:h(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:h(n/e),y:h(r/e)}}function H(t,e,n){return{x:e/t||0,y:n/t||0}}function G(t,e){return t===e?1:f(t)>=f(e)?t<0?2:4:e<0?8:16}function K(t,e,n){n||(n=F);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function W(t,e,n){return n||(n=F),180*Math.atan2(e[n[1]]-t[n[1]],e[n[0]]-t[n[0]])/Math.PI}U.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(P(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(P(this.element),this.evWin,this.domHandler)}};var Q={mousedown:1,mousemove:2,mouseup:4};function Z(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,U.apply(this,arguments)}b(Z,U,{handler:function(t){var e=Q[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var Y={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},X={2:"touch",3:"pen",4:"mouse",5:"kinect"},J="pointerdown",$="pointermove pointerup pointercancel";function tt(){this.evEl=J,this.evWin=$,U.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(J="MSPointerDown",$="MSPointerMove MSPointerUp MSPointerCancel"),b(tt,U,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=Y[r],o=X[t.pointerType]||t.pointerType,s="touch"==o,a=x(e,t.pointerId,"pointerId");1&i&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):12&i&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))}});var et={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function nt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,U.apply(this,arguments)}function rt(t,e){var n=N(t.touches),r=N(t.changedTouches);return 12&e&&(n=D(n.concat(r),"identifier",!0)),[n,r]}b(nt,U,{handler:function(t){var e=et[t.type];if(1===e&&(this.started=!0),this.started){var n=rt.call(this,t,e);12&e&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var it={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ot(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},U.apply(this,arguments)}function st(t,e){var n=N(t.touches),r=this.targetIds;if(3&e&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,s=N(t.changedTouches),a=[],u=this.target;if(o=n.filter((function(t){return S(t.target,u)})),1===e)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<s.length;)r[s[i].identifier]&&a.push(s[i]),12&e&&delete r[s[i].identifier],i++;return a.length?[D(o.concat(a),"identifier",!0),a]:void 0}function at(){U.apply(this,arguments);var t=w(this.handler,this);this.touch=new ot(this.manager,t),this.mouse=new Z(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function ut(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,lt.call(this,e)):12&t&&lt.call(this,e)}function lt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)}),2500)}}function ct(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),s=Math.abs(n-i.y);if(o<=25&&s<=25)return!0}return!1}b(ot,U,{handler:function(t){var e=it[t.type],n=st.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}),b(at,U,{handler:function(t,e,n){var r="mouse"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"==n.pointerType)ut.call(this,e,n);else if(r&&ct.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ht=O(c.style,"touchAction"),ft=void 0!==ht,dt=function(){if(!ft)return!1;var t={},e=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||i.CSS.supports("touch-action",n)})),t}();function pt(t,e){this.manager=t,this.set(e)}function vt(t){this.options=u({},this.defaults,t||{}),this.id=R++,this.manager=null,this.options.enable=C(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function mt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function yt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function gt(t,e){var n=e.manager;return n?n.get(t):t}function _t(){vt.apply(this,arguments)}function bt(){_t.apply(this,arguments),this.pX=null,this.pY=null}function wt(){_t.apply(this,arguments)}function kt(){vt.apply(this,arguments),this._timer=null,this._input=null}function Ct(){_t.apply(this,arguments)}function Et(){_t.apply(this,arguments)}function Tt(){vt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function St(t,e){return(e=e||{}).recognizers=C(e.recognizers,St.defaults.preset),new It(t,e)}function It(t,e){var n;this.options=u({},St.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(V?tt:M?ot:L?at:Z))(n,B),this.touchAction=new pt(this,this.options.touchAction),At(this,!0),m(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function At(t,e){var n,r=t.element;r.style&&(m(t.options.cssProps,(function(i,o){n=O(r.style,o),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}pt.prototype={set:function(t){"compute"==t&&(t=this.compute()),ft&&this.manager.element.style&&dt[t]&&(this.manager.element.style[ht]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return m(this.manager.recognizers,(function(e){k(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(I(t,"none"))return"none";var e=I(t,"pan-x"),n=I(t,"pan-y");return e&&n?"none":e||n?e?"pan-x":"pan-y":I(t,"manipulation")?"manipulation":"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=I(r,"none")&&!dt.none,o=I(r,"pan-y")&&!dt["pan-y"],s=I(r,"pan-x")&&!dt["pan-x"];if(i&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;if(!s||!o)return i||o&&6&n||s&&24&n?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}},vt.prototype={defaults:{},set:function(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(v(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=gt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return v(t,"dropRecognizeWith",this)?this:(t=gt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(v(t,"requireFailure",this))return this;var e=this.requireFail;return-1===x(e,t=gt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(v(t,"dropRequireFailure",this))return this;t=gt(t,this);var e=x(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<8&&r(e.options.event+mt(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=8&&r(e.options.event+mt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=u({},t);if(!k(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},b(_t,vt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=6&e,i=this.attrTest(t);return r&&(8&n||!i)?16|e:r||i?4&n?8|e:2&e?4|e:2:32}}),b(bt,_t,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,s=t.deltaY;return i&e.direction||(6&e.direction?(i=0===o?1:o<0?2:4,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===s?1:s<0?8:16,n=s!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return _t.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=yt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),b(wt,_t,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),this._super.emit.call(this,t)}}),b(kt,vt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||12&t.eventType&&!i)this.reset();else if(1&t.eventType)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),b(Ct,_t,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),b(Et,_t,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return bt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:24&n&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&f(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=yt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),b(Tt,vt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(r&&i&&n){if(4!=t.eventType)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,s=!this.pCenter||K(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,s&&o?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=p((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),St.VERSION="2.0.7",St.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Ct,{enable:!1}],[wt,{enable:!1},["rotate"]],[Et,{direction:6}],[bt,{direction:6},["swipe"]],[Tt],[Tt,{event:"doubletap",taps:2},["tap"]],[kt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},It.prototype={set:function(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&8&i.state)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&14&n.state&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof vt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(v(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(v(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=x(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var n=this.handlers;return m(A(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(void 0!==t){var n=this.handlers;return m(A(t),(function(t){e?n[t]&&n[t].splice(x(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&At(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(St,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:It,Input:U,TouchAction:pt,TouchInput:ot,MouseInput:Z,PointerEventInput:tt,TouchMouseInput:at,SingleTouchInput:nt,Recognizer:vt,AttrRecognizer:_t,Tap:Tt,Pan:bt,Swipe:Et,Pinch:wt,Rotate:Ct,Press:kt,on:E,off:T,each:m,merge:_,extend:g,assign:u,inherit:b,bindFn:w,prefixed:O}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=St,void 0===(r=(function(){return St}).call(e,n,e,t))||(t.exports=r)}(window,document)},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e),n("yLV6");var i=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function s(t){setTimeout((function(){throw t}))}var a={closed:!0,next:function(t){},error:function(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete:function(){}},u=Array.isArray||function(t){return t&&"number"==typeof t.length};function l(t){return null!==t&&"object"==typeof t}function c(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map((function(t,e){return"".concat(e+1,") ").concat(t.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}c.prototype=Object.create(Error.prototype);var h,f=c,d=((h=function(){function t(e){_classCallCheck(this,t),this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return _createClass(t,[{key:"unsubscribe",value:function(){var t,e=!1;if(!this.closed){var n=this._parent,i=this._parents,o=this._unsubscribe,s=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var a=-1,c=i?i.length:0;n;)n.remove(this),n=++a<c&&i[a]||null;if(r(o))try{o.call(this)}catch(d){e=!0,t=d instanceof f?p(d.errors):[d]}if(u(s))for(a=-1,c=s.length;++a<c;){var h=s[a];if(l(h))try{h.unsubscribe()}catch(d){e=!0,t=t||[],d instanceof f?t=t.concat(p(d.errors)):t.push(d)}}if(e)throw new f(t)}}},{key:"add",value:function(e){var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){var i=this._subscriptions;i?i.push(n):this._subscriptions=[n]}return n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}},{key:"_addParent",value:function(t){var e=this._parent,n=this._parents;return e!==t&&(e?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))}}]),t}()).EMPTY=function(t){return t.closed=!0,t}(new h),h);function p(t){return t.reduce((function(t,e){return t.concat(e instanceof f?e.errors:e)}),[])}var v="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),m=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;switch(_classCallCheck(this,n),(o=e.call(this)).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=a;break;case 1:if(!t){o.destination=a;break}if("object"==typeof t){t instanceof n?(o.syncErrorThrowable=t.syncErrorThrowable,o.destination=t,t.add(_assertThisInitialized(o))):(o.syncErrorThrowable=!0,o.destination=new y(_assertThisInitialized(o),t));break}default:o.syncErrorThrowable=!0,o.destination=new y(_assertThisInitialized(o),t,r,i)}return o}return _createClass(n,[{key:v,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(d),y=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,s){var u,l;_classCallCheck(this,n),(u=e.call(this))._parentSubscriber=t;var c=_assertThisInitialized(u);return r(i)?l=i:i&&(l=i.next,o=i.error,s=i.complete,i!==a&&(r((c=Object.create(i)).unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(_assertThisInitialized(u)))),u._context=c,u._next=l,u._error=o,u._complete=s,u}return _createClass(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=o.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(s(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(m),g="function"==typeof Symbol&&Symbol.observable||"@@observable";function _(){}var b,w=((b=function(){function t(e){_classCallCheck(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return _createClass(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof m)return t;if(t[v])return t[v]()}return t||e||n?new m(t,e,n):new m(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;t=r&&r instanceof m?r:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=k(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}}),r,e)}))}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:g,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:((r=e)?1===r.length?r[0]:function(t){return r.reduce((function(t,e){return e(t)}),t)}:_)(this);var r}},{key:"toPromise",value:function(t){var e=this;return new(t=k(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))}}]),t}()).create=function(t){return new b(t)},b);function k(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function C(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}C.prototype=Object.create(Error.prototype);var E,T=C,S=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).subject=t,i.subscriber=r,i.closed=!1,i}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(d),I=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t)).destination=t,r}return n}(m),A=((E=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return _createClass(n,[{key:v,value:function(){return new I(this)}},{key:"lift",value:function(t){var e=new x(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new T;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new T;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new T;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new T;return _get(_getPrototypeOf(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new T;return this.hasError?(t.error(this.thrownError),d.EMPTY):this.isStopped?(t.complete(),d.EMPTY):(this.observers.push(t),new S(this,t))}},{key:"asObservable",value:function(){var t=new w;return t.source=this,t}}]),n}(w)).create=function(t,e){return new x(t,e)},E),x=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).destination=t,i.source=r,i}return _createClass(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):d.EMPTY}}]),n}(A);function N(t){return t&&"function"==typeof t.schedule}var D=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this)).parent=t,o.outerValue=r,o.outerIndex=i,o.index=0,o}return _createClass(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(m),O=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}},R=function(t){return function(e){return t.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,s),e}};var P="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",L=function(t){return function(e){for(var n=t[P]();;){var r=n.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e}},V=function(t){return function(e){var n=t[g]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}},M=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function F(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var j=function(t){if(t instanceof w)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[g])return V(t);if(M(t))return O(t);if(F(t))return R(t);if(t&&"function"==typeof t[P])return L(t);var e=l(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(e," where a stream was expected.")+" You can provide an Observable, Promise, Array, or Iterable.")};function U(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new D(t,n,r);if(!i.closed)return j(e)(i)}var B=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(m);function q(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new z(t,e))}}var z=function(){function t(e,n){_classCallCheck(this,t),this.project=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new H(t,this.project,this.thisArg))}}]),t}(),H=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).project=r,o.count=0,o.thisArg=i||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(m);function G(t,e){return new w(e?function(n){var r=new d,i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}:O(t))}function K(t,e){if(!e)return t instanceof w?t:new w(j(t));if(null!=t){if(function(t){return t&&"function"==typeof t[g]}(t))return function(t,e){return new w(e?function(n){var r=new d;return r.add(e.schedule((function(){var i=t[g]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}:V(t))}(t,e);if(F(t))return function(t,e){return new w(e?function(n){var r=new d;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}:R(t))}(t,e);if(M(t))return G(t,e);if(function(t){return t&&"function"==typeof t[P]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new w(e?function(n){var r,i=new d;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[P](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}:L(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}var W=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,t),this.project=e,this.concurrent=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Q(t,this.project,this.concurrent))}}]),t}(),Q=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(i=e.call(this,t)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var r=new D(this,void 0,void 0);this.destination.add(r),U(this,t,e,n,r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyComplete",value:function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(B);function Z(t){return t}function Y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof n?function(i){return i.pipe(t((function(t,r){return K(e(t,r)).pipe(q((function(e,i){return n(t,e,r,i)})))}),r))}:("number"==typeof n&&(r=n),function(t){return t.lift(new W(e,r))})}(Z,t)}function X(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Number.POSITIVE_INFINITY,i=null,o=e[e.length-1];return N(o)?(i=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(r=e.pop())):"number"==typeof o&&(r=e.pop()),null===i&&1===e.length&&e[0]instanceof w?e[0]:Y(r)(G(e,i))}function J(){return function(t){return t.lift(new $(t))}}var $=function(){function t(e){_classCallCheck(this,t),this.connectable=e}return _createClass(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new tt(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),tt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).connectable=r,i}return _createClass(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(m),et=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _createClass(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new d).add(this.source.subscribe(new rt(this.getSubject(),this))),t.closed?(this._connection=null,t=d.EMPTY):this._connection=t),t}},{key:"refCount",value:function(){return J()(this)}}]),n}(w).prototype,nt={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:et._subscribe},_isComplete:{value:et._isComplete,writable:!0},getSubject:{value:et.getSubject},connect:{value:et.connect},refCount:{value:et.refCount}},rt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).connectable=r,i}return _createClass(n,[{key:"_error",value:function(t){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(I);function it(){return new A}function ot(t,e,n){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=_construct(i,e);return s.annotation=o,s;function s(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}var st=ot("Inject",(function(t){return{token:t}})),at=ot("Optional"),ut=ot("Self"),lt=ot("SkipSelf"),ct=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function ht(t){for(var e in t)if(t[e]===ht)return e;throw Error("Could not find renamed property on target object.")}function ft(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function dt(t){var e=t[pt];return e&&e.token===t?e:null}var pt=ht({ngInjectableDef:ht});function vt(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(vt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}var mt=ht({__forward_ref__:ht});function yt(t){return t.__forward_ref__=yt,t.toString=function(){return vt(this())},t}function gt(t){var e=t;return"function"==typeof e&&e.hasOwnProperty(mt)&&e.__forward_ref__===yt?e():t}var _t="undefined"!=typeof globalThis&&globalThis,bt="undefined"!=typeof window&&window,wt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,kt="undefined"!=typeof global&&global,Ct=_t||kt||bt||wt,Et=function(){function t(e,n){_classCallCheck(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.ngInjectableDef=ft({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(t,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),t}(),Tt=new Et("INJECTOR",-1),St=new Object,It=/\n/gm,At=ht({provide:String,useValue:ht}),xt=void 0;function Nt(t){var e=xt;return xt=t,e}function Dt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ct.Default;return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ct.Default;if(void 0===xt)throw new Error("inject() must be called from an injection context");return null===xt?function(t,e,n){var r=dt(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&ct.Optional)return null;throw new Error("Injector: NOT_FOUND [".concat(vt(t),"]"))}(t,0,e):xt.get(t,e&ct.Optional?null:void 0,e)}(t,e)}var Ot=Dt,Rt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:St;if(e===St){var n=new Error("NullInjectorError: No provider for ".concat(vt(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}();function Pt(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=vt(e);if(e instanceof Array)i=e.map(vt).join(" -> ");else if("object"==typeof e){var o=[];for(var s in e)if(e.hasOwnProperty(s)){var a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):vt(a)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(It,"\n  "))}var Lt=function t(){_classCallCheck(this,t)};function Vt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Mt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var Ft=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),jt=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ct);function Ut(t){return t.ngDebugContext}function Bt(t){return t.ngOriginalError}function qt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var zt=function(){function t(){_classCallCheck(this,t),this._console=console}return _createClass(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||qt}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?Ut(t)?Ut(t):this._findContext(Bt(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=Bt(t);e&&Bt(e);)e=Bt(e);return e}}]),t}(),Ht=!0,Gt=!1;function Kt(){return Gt=!0,Ht}var Wt=function(){function t(e){if(_classCallCheck(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n),this.inertBodyElement=this.inertDocument.createElement("body"),n.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(t,[{key:"getInertBodyElement_XHR",value:function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(t){var e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),t}(),Qt=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Zt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Yt(t){return(t=String(t)).match(Qt)||t.match(Zt)?t:(Kt()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(t," (see http://g.co/ng/security#xss)")),"unsafe:"+t)}function Xt(t){var e,n={},r=_createForOfIteratorHelper(t.split(","));try{for(r.s();!(e=r.n()).done;){n[e.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function Jt(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var s=o[i];for(var a in s)s.hasOwnProperty(a)&&(t[a]=!0)}return t}var $t,te=Xt("area,br,col,hr,img,wbr"),ee=Xt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ne=Xt("rp,rt"),re=Jt(ne,ee),ie=Jt(te,Jt(ee,Xt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jt(ne,Xt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),re),oe=Xt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),se=Xt("srcset"),ae=Jt(oe,se,Xt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ue=Xt("script,style,template"),le=function(){function t(){_classCallCheck(this,t),this.sanitizedSomething=!1,this.buf=[]}return _createClass(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!ie.hasOwnProperty(e))return this.sanitizedSomething=!0,!ue.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n,r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),s=o.name,a=s.toLowerCase();if(ae.hasOwnProperty(a)){var u=o.value;oe[a]&&(u=Yt(u)),se[a]&&(n=u,u=(n=String(n)).split(",").map((function(t){return Yt(t.trim())})).join(", ")),this.buf.push(" ",s,'="',fe(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();ie.hasOwnProperty(e)&&!te.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(fe(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(t.outerHTML));return e}}]),t}(),ce=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,he=/([^\#-~ |!])/g;function fe(t){return t.replace(/&/g,"&amp;").replace(ce,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(he,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function de(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var pe=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),ve=function t(){_classCallCheck(this,t)},me=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),ye=/^url\(([^)]+)\)$/;function ge(t){var e;return e=t.replace(/[$@]/g,"_"),"ng-reflect-".concat(t=e.replace(_e,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"-"+e[1].toLowerCase()})))}var _e=/([A-Z])/g;function be(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}var we=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return ke()},t}(),ke=function(){},Ce=new Et("The presence of this token marks an injector as being the root injector."),Ee=function(t,e,n){return new Ne(t,e,n)},Te=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?Ee(t,e,""):Ee(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=St,t.NULL=new Rt,t.ngInjectableDef=ft({token:t,providedIn:"any",factory:function(){return Dt(Tt)}}),t.__NG_ELEMENT_ID__=-1,t}(),Se=function(t){return t},Ie=[],Ae=Se,xe=function(){return Array.prototype.slice.call(arguments)},Ne=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Te.NULL,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;_classCallCheck(this,t),this.parent=n,this.source=r;var i=this._records=new Map;i.set(Te,{token:Te,fn:Se,deps:Ie,value:this,useNew:!1}),i.set(Tt,{token:Tt,fn:Se,deps:Ie,value:this,useNew:!1}),function t(e,n){if(n)if((n=gt(n))instanceof Array)for(var r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw Oe("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Oe("Unexpected provider",n);var i=gt(n.provide),o=function(t){var e=function(t){var e=Ie,n=t.deps;if(n&&n.length){e=[];for(var r=0;r<n.length;r++){var i=6,o=gt(n[r]);if(o instanceof Array)for(var s=0,a=o;s<a.length;s++){var u=a[s];u instanceof at||u==at?i|=1:u instanceof lt||u==lt?i&=-3:u instanceof ut||u==ut?i&=-5:o=u instanceof st?u.token:gt(u)}e.push({token:o,options:i})}}else if(t.useExisting)e=[{token:gt(t.useExisting),options:6}];else if(!(n||At in t))throw Oe("'deps' required",t);return e}(t),n=Se,r=Ie,i=!1,o=gt(t.provide);if(At in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=gt(t.useClass);else{if("function"!=typeof o)throw Oe("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){var s=e.get(i);if(s){if(s.fn!==xe)throw De(i)}else e.set(i,s={token:n.provide,deps:[],useNew:!1,fn:xe,value:Ie});i=n,s.deps.push({token:i,options:6})}var a=e.get(i);if(a&&a.fn==xe)throw De(i);e.set(i,o)}}(i,e)}return _createClass(t,[{key:"get",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ct.Default,r=this._records.get(t);try{return function t(e,n,r,i,o,s){try{return function(e,n,r,i,o,s){var a;if(!n||s&ct.SkipSelf)s&ct.Self||(a=i.get(e,o,ct.Default));else{if((a=n.value)==Ae)throw Error("\u0275Circular dependency");if(a===Ie){n.value=Ae;var u=n.useNew,l=n.fn,c=n.deps,h=Ie;if(c.length){h=[];for(var f=0;f<c.length;f++){var d=c[f],p=d.options,v=2&p?r.get(d.token):void 0;h.push(t(d.token,v,r,v||4&p?i:Te.NULL,1&p?null:Te.THROW_IF_NOT_FOUND,ct.Default))}}n.value=a=u?_construct(l,_toConsumableArray(h)):l.apply(void 0,h)}}return a}(e,n,r,i,o,s)}catch(a){throw a instanceof Error||(a=new Error(a)),(a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(e),n&&n.value==Ae&&(n.value=Ie),a}}(t,r,this._records,this.parent,e,n)}catch(i){return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=Pt("\n"+t.message,i,"StaticInjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(i,t,0,this.source)}}},{key:"toString",value:function(){var t=[];return this._records.forEach((function(e,n){return t.push(vt(n))})),"StaticInjector[".concat(t.join(", "),"]")}}]),t}();function De(t){return Oe("Cannot mix multi providers and regular providers",t)}function Oe(t,e){return new Error(Pt(t,e,"StaticInjectorError"))}var Re=null;function Pe(){if(!Re){var t=Ct.Symbol;if(t&&t.iterator)Re=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Re=r)}}return Re}function Le(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Ve(t,e){var n=Fe(t),r=Fe(e);return n&&r?function(t,e,n){for(var r=t[Pe()](),i=e[Pe()]();;){var o=r.next(),s=i.next();if(o.done&&s.done)return!0;if(o.done||s.done)return!1;if(!n(o.value,s.value))return!1}}(t,e,Ve):!(n||!(t&&("object"==typeof t||"function"==typeof t))||r||!(e&&("object"==typeof e||"function"==typeof e)))||Le(t,e)}var Me=function(){function t(e){_classCallCheck(this,t),this.wrapped=e}return _createClass(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function Fe(t){return!!je(t)&&(Array.isArray(t)||!(t instanceof Map)&&Pe()in t)}function je(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ue(t){return!!t&&"function"==typeof t.then}function Be(t){return!!t&&"function"==typeof t.subscribe}var qe=function(){function t(e,n,r){_classCallCheck(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return _createClass(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}(),ze=function t(){_classCallCheck(this,t)};function He(t){var e=Error("No component factory found for ".concat(vt(t),". Did you add it to @NgModule.entryComponents?"));return e[Ge]=t,e}var Ge="ngComponent",Ke=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"resolveComponentFactory",value:function(t){throw He(t)}}]),t}(),We=function(){var t=function t(){_classCallCheck(this,t)};return t.NULL=new Ke,t}(),Qe=function(){function t(e,n,r){_classCallCheck(this,t),this._parent=n,this._ngModule=r,this._factories=new Map;for(var i=0;i<e.length;i++){var o=e[i];this._factories.set(o.componentType,o)}}return _createClass(t,[{key:"resolveComponentFactory",value:function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw He(t);return new Ze(e,this._ngModule)}}]),t}(),Ze=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).factory=t,i.ngModule=r,i.selector=t.selector,i.componentType=t.componentType,i.ngContentSelectors=t.ngContentSelectors,i.inputs=t.inputs,i.outputs=t.outputs,i}return _createClass(n,[{key:"create",value:function(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)}}]),n}(ze);function Ye(){}var Xe=function(){var t=function t(e){_classCallCheck(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=function(){return Je(t)},t}(),Je=Ye,$e=function t(){_classCallCheck(this,t)},tn=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),en=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return nn()},t}(),nn=Ye,rn=function t(e){_classCallCheck(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},on=new rn("8.2.14"),sn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return Fe(t)}},{key:"create",value:function(t){return new un(t)}}]),t}(),an=function(t,e){return e},un=function(){function t(e){_classCallCheck(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||an}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<fn(n,r,i)?e:n,s=fn(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=s-r,l=a-r;if(u!=l){for(var c=0;c<u;c++){var h=c<i.length?i[c]:i[c]=0,f=h+c;l<=f&&f<u&&(i[c]=h+1)}i[o.previousIndex]=l-u}}s!==a&&t(o,s,a)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!Fe(t))throw new Error("Error trying to diff '".concat(vt(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(var a=0;a<this.length;a++)r=t[a],i=this._trackByFn(a,r),null!==o&&Le(o.trackById,i)?(s&&(o=this._verifyReinsertion(o,r,i,a)),Le(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,a),s=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[Pe()]();!(r=i.next()).done;)e(r.value)}(t,(function(t){i=e._trackByFn(n,t),null!==o&&Le(o.trackById,i)?(s&&(o=e._verifyReinsertion(o,t,i,n)),Le(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),s=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Le(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Le(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new ln(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new hn),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hn),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),t}(),ln=function t(e,n){_classCallCheck(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},cn=function(){function t(){_classCallCheck(this,t),this._head=null,this._tail=null}return _createClass(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Le(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),hn=function(){function t(){_classCallCheck(this,t),this.map=new Map}return _createClass(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new cn,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),t}();function fn(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var dn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return t instanceof Map||je(t)}},{key:"create",value:function(){return new pn}}]),t}(),pn=function(){function t(){_classCallCheck(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||je(t)))throw new Error("Error trying to diff '".concat(vt(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new vn(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Le(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach((function(n){return e(t[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),t}(),vn=function t(e){_classCallCheck(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},mn=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e,n=this.factories.find((function(e){return e.supports(t)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new lt,new at]]}}}]),t}();return t.ngInjectableDef=ft({token:t,providedIn:"root",factory:function(){return new t([new sn])}}),t}(),yn=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e=this.factories.find((function(e){return e.supports(t)}));if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new lt,new at]]}}}]),t}();return t.ngInjectableDef=ft({token:t,providedIn:"root",factory:function(){return new t([new dn])}}),t}(),gn=[new dn],_n=new mn([new sn]),bn=new yn(gn),wn=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return kn(t,Xe)},t}(),kn=Ye,Cn=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return En(t,Xe)},t}(),En=Ye;function Tn(t,e,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '".concat(e,"'. Current value: '").concat(n,"'.");return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return Sn(n,e),n}(i,t)}function Sn(t,e){t.ngDebugContext=e,t.ngErrorLogger=e.logError.bind(e)}function In(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: ".concat(t))}function An(t,e,n){var r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function xn(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function Nn(t,e){return t.nodes[e]}function Dn(t,e){return t.nodes[e]}function On(t,e){return t.nodes[e]}function Rn(t,e){return t.nodes[e]}function Pn(t,e){return t.nodes[e]}var Ln={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Vn=function(){},Mn=new Map;function Fn(t){var e=Mn.get(t);return e||(e=vt(t)+"_"+Mn.size,Mn.set(t,e)),e}function jn(t,e,n,r){if(Me.isWrapped(r)){r=Me.unwrap(r);var i=t.def.nodes[e].bindingIndex+n,o=Me.unwrap(t.oldValues[i]);t.oldValues[i]=new Me(o)}return r}function Un(t){return{id:"$$undefined",styles:t.styles,encapsulation:t.encapsulation,data:t.data}}var Bn=0;function qn(t,e,n,r){return!(!(2&t.state)&&Le(t.oldValues[e.bindingIndex+n],r))}function zn(t,e,n,r){return!!qn(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function Hn(t,e,n,r){var i=t.oldValues[e.bindingIndex+n];if(1&t.state||!Ve(i,r)){var o=e.bindings[n].name;throw Tn(Ln.createDebugContext(t,e.nodeIndex),"".concat(o,": ").concat(i),"".concat(o,": ").concat(r),0!=(1&t.state))}}function Gn(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Kn(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function Wn(t,e,n,r){try{return Gn(33554432&t.def.nodes[e].flags?Dn(t,e).componentView:t),Ln.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function Qn(t){return t.parent?Dn(t.parent,t.parentNodeDef.nodeIndex):null}function Zn(t){return t.parent?t.parentNodeDef.parent:null}function Yn(t,e){switch(201347067&e.flags){case 1:return Dn(t,e.nodeIndex).renderElement;case 2:return Nn(t,e.nodeIndex).renderText}}function Xn(t,e){return t?"".concat(t,":").concat(e):e}function Jn(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function $n(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function tr(t){return 1<<t%32}function er(t){var e={},n=0,r={};return t&&t.forEach((function(t){var i=_slicedToArray(t,2),o=i[0],s=i[1];"number"==typeof o?(e[o]=s,n|=tr(o)):r[o]=s})),{matchedQueries:e,references:r,matchedQueryIds:n}}function nr(t,e){return t.map((function(t){var n,r,i;return Array.isArray(t)?(i=(n=_slicedToArray(t,2))[0],r=n[1]):(i=0,r=t),r&&("function"==typeof r||"object"==typeof r)&&e&&Object.defineProperty(r,"__source",{value:e,configurable:!0}),{flags:i,token:r,tokenKey:Fn(r)}}))}function rr(t,e,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Ft.Native?Dn(t,n.renderParent.nodeIndex).renderElement:void 0:e}var ir=new WeakMap;function or(t){var e=ir.get(t);return e||((e=t((function(){return Vn}))).factory=t,ir.set(t,e)),e}function sr(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(Yn(t,t.def.lastRenderRootNode))),ar(t,e,0,t.def.nodes.length-1,n,r,i)}function ar(t,e,n,r,i,o,s){for(var a=n;a<=r;a++){var u=t.def.nodes[a];11&u.flags&&lr(t,u,e,i,o,s),a+=u.childCount}}function ur(t,e,n,r,i,o){for(var s=t;s&&!Jn(s);)s=s.parent;for(var a=s.parent,u=Zn(s),l=u.nodeIndex+u.childCount,c=u.nodeIndex+1;c<=l;c++){var h=a.def.nodes[c];h.ngContentIndex===e&&lr(a,h,n,r,i,o),c+=h.childCount}if(!a.parent){var f=t.root.projectableNodes[e];if(f)for(var d=0;d<f.length;d++)cr(t,f[d],n,r,i,o)}}function lr(t,e,n,r,i,o){if(8&e.flags)ur(t,e.ngContent.index,n,r,i,o);else{var s=Yn(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&cr(t,s,n,r,i,o),32&e.bindingFlags&&cr(Dn(t,e.nodeIndex).componentView,s,n,r,i,o)):cr(t,s,n,r,i,o),16777216&e.flags)for(var a=Dn(t,e.nodeIndex).viewContainer._embeddedViews,u=0;u<a.length;u++)sr(a[u],n,r,i,o);1&e.flags&&!e.element.name&&ar(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function cr(t,e,n,r,i,o){var s=t.renderer;switch(n){case 1:s.appendChild(r,e);break;case 2:s.insertBefore(r,e,i);break;case 3:s.removeChild(r,e);break;case 0:o.push(e)}}var hr=/^:([^:]+):(.+)$/;function fr(t){if(":"===t[0]){var e=t.match(hr);return[e[1],e[2]]}return["",t]}function dr(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}var pr=new Object,vr=Fn(Te),mr=Fn(Tt),yr=Fn(Lt);function gr(t,e,n,r){return n=gt(n),{index:-1,deps:nr(r,vt(e)),flags:t,token:e,value:n}}function _r(t,e){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Te.THROW_IF_NOT_FOUND,o=Nt(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(i=null),1&e.flags)return t._parent.get(e.token,i);var s=e.tokenKey;switch(s){case vr:case mr:case yr:return t}var a,u=t._def.providersByKey[s];if(u){var l=t._providers[u.index];return void 0===l&&(l=t._providers[u.index]=br(t,u)),l===pr?void 0:l}if((a=dt(e.token))&&(n=t,null!=(r=a).providedIn&&(function(t,e){return t._def.modules.indexOf(e)>-1}(n,r.providedIn)||"root"===r.providedIn&&n._def.isRoot))){var c=t._providers.length;return t._def.providers[c]=t._def.providersByKey[e.tokenKey]={flags:5120,value:a.factory,deps:[],index:c,token:e.token},t._providers[c]=pr,t._providers[c]=br(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?i:t._parent.get(e.token,i)}finally{Nt(o)}}function br(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var r=n.length;switch(r){case 0:return new e;case 1:return new e(_r(t,n[0]));case 2:return new e(_r(t,n[0]),_r(t,n[1]));case 3:return new e(_r(t,n[0]),_r(t,n[1]),_r(t,n[2]));default:for(var i=new Array(r),o=0;o<r;o++)i[o]=_r(t,n[o]);return _construct(e,i)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var r=n.length;switch(r){case 0:return e();case 1:return e(_r(t,n[0]));case 2:return e(_r(t,n[0]),_r(t,n[1]));case 3:return e(_r(t,n[0]),_r(t,n[1]),_r(t,n[2]));default:for(var i=Array(r),o=0;o<r;o++)i[o]=_r(t,n[o]);return e.apply(void 0,i)}}(t,e.value,e.deps);break;case 2048:n=_r(t,e.deps[0]);break;case 256:n=e.value}return n===pr||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?pr:n}function wr(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var r=n[e];return r.viewContainerParent=null,Mt(n,e),Ln.dirtyParentQueries(r),Cr(r),r}function kr(t,e,n){var r=e?Yn(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);sr(n,2,i,o,void 0)}function Cr(t){sr(t,3,null,null,void 0)}var Er=new Object;var Tr=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,s,a){var u;return _classCallCheck(this,n),(u=e.call(this)).selector=t,u.componentType=r,u._inputs=o,u._outputs=s,u.ngContentSelectors=a,u.viewDefFactory=i,u}return _createClass(n,[{key:"create",value:function(t,e,n,r){if(!r)throw new Error("ngModule should be provided");var i=or(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,s=Ln.createRootView(t,e||[],n,i,r,Er),a=On(s,o).instance;return n&&s.renderer.setAttribute(Dn(s,0).renderElement,"ng-version",on.full),new Sr(s,new Nr(s),a)}},{key:"inputs",get:function(){var t=[],e=this._inputs;for(var n in e)t.push({propName:n,templateName:e[n]});return t}},{key:"outputs",get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}}]),n}(ze),Sr=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._view=t,o._viewRef=r,o._component=i,o._elDef=o._view.def.nodes[0],o.hostView=r,o.changeDetectorRef=r,o.instance=i,o}return _createClass(n,[{key:"destroy",value:function(){this._viewRef.destroy()}},{key:"onDestroy",value:function(t){this._viewRef.onDestroy(t)}},{key:"location",get:function(){return new Xe(Dn(this._view,this._elDef.nodeIndex).renderElement)}},{key:"injector",get:function(){return new Pr(this._view,this._elDef)}},{key:"componentType",get:function(){return this._component.constructor}}]),n}(function(){return function t(){_classCallCheck(this,t)}}());function Ir(t,e,n){return new Ar(t,e,n)}var Ar=function(){function t(e,n,r){_classCallCheck(this,t),this._view=e,this._elDef=n,this._data=r,this._embeddedViews=[]}return _createClass(t,[{key:"clear",value:function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=wr(this._data,t);Ln.destroyView(e)}}},{key:"get",value:function(t){var e=this._embeddedViews[t];if(e){var n=new Nr(e);return n.attachToViewContainerRef(this),n}return null}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;i||t instanceof Ze||(i=o.get(Lt));var s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,i,o,s,a=t;return n=this._view,r=this._data,i=e,o=a._view,s=r.viewContainer._embeddedViews,null==i&&(i=s.length),o.viewContainerParent=n,Vt(s,i,o),function(t,e){var n=Qn(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,e){if(!(4&e.flags)){t.nodeFlags|=4,e.flags|=4;for(var n=e.parent;n;)n.childFlags|=4,n=n.parent}}(e.parent.def,e.parentNodeDef)}}(r,o),Ln.dirtyParentQueries(o),kr(r,i>0?s[i-1]:null,o),a.attachToViewContainerRef(this),t}},{key:"move",value:function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,i,o,s,a=this._embeddedViews.indexOf(t._view);return n=this._data,r=a,i=e,o=n.viewContainer._embeddedViews,s=o[r],Mt(o,r),null==i&&(i=o.length),Vt(o,i,s),Ln.dirtyParentQueries(s),Cr(s),kr(n,i>0?o[i-1]:null,s),t}},{key:"indexOf",value:function(t){return this._embeddedViews.indexOf(t._view)}},{key:"remove",value:function(t){var e=wr(this._data,t);e&&Ln.destroyView(e)}},{key:"detach",value:function(t){var e=wr(this._data,t);return e?new Nr(e):null}},{key:"element",get:function(){return new Xe(this._data.renderElement)}},{key:"injector",get:function(){return new Pr(this._view,this._elDef)}},{key:"parentInjector",get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=Zn(t),t=t.parent;return t?new Pr(t,e):new Pr(this._view,null)}},{key:"length",get:function(){return this._embeddedViews.length}}]),t}();function xr(t){return new Nr(t)}var Nr=function(){function t(e){_classCallCheck(this,t),this._view=e,this._viewContainerRef=null,this._appRef=null}return _createClass(t,[{key:"markForCheck",value:function(){Gn(this._view)}},{key:"detach",value:function(){this._view.state&=-5}},{key:"detectChanges",value:function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{Ln.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}},{key:"checkNoChanges",value:function(){Ln.checkNoChangesView(this._view)}},{key:"reattach",value:function(){this._view.state|=4}},{key:"onDestroy",value:function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}},{key:"destroy",value:function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Ln.destroyView(this._view)}},{key:"detachFromAppRef",value:function(){this._appRef=null,Cr(this._view),Ln.dirtyParentQueries(this._view)}},{key:"attachToAppRef",value:function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}},{key:"attachToViewContainerRef",value:function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}},{key:"rootNodes",get:function(){return sr(this._view,0,void 0,void 0,t=[]),t;var t}},{key:"context",get:function(){return this._view.context}},{key:"destroyed",get:function(){return 0!=(128&this._view.state)}}]),t}();function Dr(t,e){return new Or(t,e)}var Or=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this))._parentView=t,i._def=r,i}return _createClass(n,[{key:"createEmbeddedView",value:function(t){return new Nr(Ln.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}},{key:"elementRef",get:function(){return new Xe(Dn(this._parentView,this._def.nodeIndex).renderElement)}}]),n}(wn);function Rr(t,e){return new Pr(t,e)}var Pr=function(){function t(e,n){_classCallCheck(this,t),this.view=e,this.elDef=n}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Te.THROW_IF_NOT_FOUND;return Ln.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:Fn(t)},e)}}]),t}();function Lr(t,e){var n=t.def.nodes[e];if(1&n.flags){var r=Dn(t,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return Nn(t,n.nodeIndex).renderText;if(20240&n.flags)return On(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index ".concat(e))}function Vr(t){return new Mr(t.renderer)}var Mr=function(){function t(e){_classCallCheck(this,t),this.delegate=e}return _createClass(t,[{key:"selectRootElement",value:function(t){return this.delegate.selectRootElement(t)}},{key:"createElement",value:function(t,e){var n=_slicedToArray(fr(e),2),r=n[0],i=n[1],o=this.delegate.createElement(i,r);return t&&this.delegate.appendChild(t,o),o}},{key:"createViewRoot",value:function(t){return t}},{key:"createTemplateAnchor",value:function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e}},{key:"createText",value:function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n}},{key:"projectNodes",value:function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])}},{key:"attachViewAfter",value:function(t,e){for(var n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t),i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)}},{key:"detachView",value:function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}},{key:"destroyView",value:function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])}},{key:"listen",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"listenGlobal",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"setElementProperty",value:function(t,e,n){this.delegate.setProperty(t,e,n)}},{key:"setElementAttribute",value:function(t,e,n){var r=_slicedToArray(fr(e),2),i=r[0],o=r[1];null!=n?this.delegate.setAttribute(t,o,n,i):this.delegate.removeAttribute(t,o,i)}},{key:"setBindingDebugInfo",value:function(t,e,n){}},{key:"setElementClass",value:function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)}},{key:"setElementStyle",value:function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)}},{key:"invokeElementMethod",value:function(t,e,n){t[e].apply(t,n)}},{key:"setText",value:function(t,e){this.delegate.setValue(t,e)}},{key:"animate",value:function(){throw new Error("Renderer.animate is no longer supported!")}}]),t}();function Fr(t,e,n,r){return new jr(t,e,n,r)}var jr=function(){function t(e,n,r,i){_classCallCheck(this,t),this._moduleType=e,this._parent=n,this._bootstrapComponents=r,this._def=i,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),r=0;r<e.providers.length;r++){var i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=br(t,i))}}(this)}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Te.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ct.Default,r=0;return n&ct.SkipSelf?r|=1:n&ct.Self&&(r|=4),_r(this,{token:t,tokenKey:Fn(t),flags:r},e)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The ng module ".concat(vt(this.instance.constructor)," has already been destroyed."));this._destroyed=!0,function(t,e){for(var n=t._def,r=new Set,i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){var o=t._providers[i];if(o&&o!==pr){var s=o.ngOnDestroy;"function"!=typeof s||r.has(o)||(s.apply(o),r.add(o))}}}(this),this._destroyListeners.forEach((function(t){return t()}))}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"instance",get:function(){return this.get(this._moduleType)}},{key:"componentFactoryResolver",get:function(){return this.get(We)}}]),t}(),Ur=Fn((function t(){_classCallCheck(this,t)})),Br=Fn(en),qr=Fn(Xe),zr=Fn(Cn),Hr=Fn(wn),Gr=Fn(we),Kr=Fn(Te),Wr=Fn(Tt);function Qr(t,e,n,r,i,o,s,a){var u=[];if(s)for(var l in s){var c=_slicedToArray(s[l],2),h=c[0],f=c[1];u[h]={flags:8,name:l,nonMinifiedName:f,ns:null,securityContext:null,suffix:null}}var d=[];if(a)for(var p in a)d.push({type:1,propName:p,target:null,eventName:a[p]});return Xr(t,e|=16384,n,r,i,i,o,u,d)}function Zr(t,e,n){return Xr(-1,t|=16,null,0,e,e,n)}function Yr(t,e,n,r,i){return Xr(-1,t,e,0,n,r,i)}function Xr(t,e,n,r,i,o,s,a,u){var l=er(n),c=l.matchedQueries,h=l.references,f=l.matchedQueryIds;u||(u=[]),a||(a=[]),o=gt(o);var d=nr(s,vt(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:f,references:h,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:dr(a),outputs:u,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function Jr(t,e){return ni(t,e)}function $r(t,e){for(var n=t;n.parent&&!Jn(n);)n=n.parent;return ri(n.parent,Zn(n),!0,e.provider.value,e.provider.deps)}function ti(t,e){var n=ri(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var r=0;r<e.outputs.length;r++){var i=e.outputs[r],o=n[i.propName];if(!Be(o))throw new Error("@Output ".concat(i.propName," not initialized in '").concat(n.constructor.name,"'."));var s=o.subscribe(ei(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=s.unsubscribe.bind(s)}return n}function ei(t,e,n){return function(r){return Wn(t,e,n,r)}}function ni(t,e){var n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return ri(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){var o=i.length;switch(o){case 0:return r();case 1:return r(oi(t,e,n,i[0]));case 2:return r(oi(t,e,n,i[0]),oi(t,e,n,i[1]));case 3:return r(oi(t,e,n,i[0]),oi(t,e,n,i[1]),oi(t,e,n,i[2]));default:for(var s=Array(o),a=0;a<o;a++)s[a]=oi(t,e,n,i[a]);return r.apply(void 0,s)}}(t,e.parent,n,r.value,r.deps);case 2048:return oi(t,e.parent,n,r.deps[0]);case 256:return r.value}}function ri(t,e,n,r,i){var o=i.length;switch(o){case 0:return new r;case 1:return new r(oi(t,e,n,i[0]));case 2:return new r(oi(t,e,n,i[0]),oi(t,e,n,i[1]));case 3:return new r(oi(t,e,n,i[0]),oi(t,e,n,i[1]),oi(t,e,n,i[2]));default:for(var s=new Array(o),a=0;a<o;a++)s[a]=oi(t,e,n,i[a]);return _construct(r,s)}}var ii={};function oi(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Te.THROW_IF_NOT_FOUND;if(8&r.flags)return r.token;var o=t;2&r.flags&&(i=null);var s=r.tokenKey;s===Gr&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);for(var a=t;a;){if(e)switch(s){case Ur:return Vr(si(a,e,n));case Br:return si(a,e,n).renderer;case qr:return new Xe(Dn(a,e.nodeIndex).renderElement);case zr:return Dn(a,e.nodeIndex).viewContainer;case Hr:if(e.element.template)return Dn(a,e.nodeIndex).template;break;case Gr:return xr(si(a,e,n));case Kr:case Wr:return Rr(a,e);default:var u=(n?e.element.allProviders:e.element.publicProviders)[s];if(u){var l=On(a,u.nodeIndex);return l||(l={instance:ni(a,u)},a.nodes[u.nodeIndex]=l),l.instance}}n=Jn(a),e=Zn(a),a=a.parent,4&r.flags&&(a=null)}var c=o.root.injector.get(r.token,ii);return c!==ii||i===ii?c:o.root.ngModule.injector.get(r.token,i)}function si(t,e,n){var r;if(n)r=Dn(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!Jn(r);)r=r.parent;return r}function ai(t,e,n,r,i,o){if(32768&n.flags){var s=Dn(t,n.parent.nodeIndex).componentView;2&s.def.flags&&(s.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};var a=Me.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new qe(a,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function ui(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,r=0,i=0;i<n.length;i++){var o=n[i],s=o.parent;for(!s&&o.flags&e&&ci(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);s&&1&s.flags&&i===s.nodeIndex+s.childCount;)s.directChildFlags&e&&(r=li(t,s,e,r)),s=s.parent}}function li(t,e,n,r){for(var i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){var o=t.def.nodes[i];o.flags&n&&ci(t,i,o.flags&n,r++),i+=o.childCount}return r}function ci(t,e,n,r){var i=On(t,e);if(i){var o=i.instance;o&&(Ln.setCurrentNode(t,e),1048576&n&&xn(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&xn(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}var hi=new Et("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return jt}}),fi={},di=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}(),pi=void 0,vi=["en",[["a","p"],["AM","PM"],pi],[["AM","PM"],pi,pi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],pi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],pi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",pi,"{1} 'at' {0}",pi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];function mi(t){var e=t.toLowerCase().replace(/_/g,"-"),n=fi[e];if(n)return n;var r=e.split("-")[0];if(n=fi[r])return n;if("en"===r)return vi;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}var yi=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(t=e.call(this)).__isAsync=r,t}return _createClass(n,[{key:"emit",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,r){var i,o=function(t){return null},s=function(){return null};t&&"object"==typeof t?(i=this.__isAsync?function(e){setTimeout((function(){return t.next(e)}))}:function(e){t.next(e)},t.error&&(o=this.__isAsync?function(e){setTimeout((function(){return t.error(e)}))}:function(e){t.error(e)}),t.complete&&(s=this.__isAsync?function(){setTimeout((function(){return t.complete()}))}:function(){t.complete()})):(i=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)},e&&(o=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)}),r&&(s=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var a=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,i,o,s);return t instanceof d&&t.add(a),a}}]),n}(A);function gi(){return this._results[Pe()]()}var _i=function(){function t(){_classCallCheck(this,t),this.dirty=!0,this._results=[],this.changes=new yi,this.length=0;var e=Pe(),n=t.prototype;n[e]||(n[e]=gi)}return _createClass(t,[{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t){this._results=function t(e,n){void 0===n&&(n=e);for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),bi=new Et("Application Initializer"),wi=function(){function t(e){var n=this;_classCallCheck(this,t),this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(t,e){n.resolve=t,n.reject=e}))}return _createClass(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Ue(i)&&e.push(i)}Promise.all(e).then((function(){n()})).catch((function(e){t.reject(e)})),0===e.length&&n(),this.initialized=!0}}}]),t}(),ki=new Et("AppId");function Ci(){return"".concat(Ei()).concat(Ei()).concat(Ei())}function Ei(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Ti=new Et("Platform Initializer"),Si=new Et("Platform ID"),Ii=new Et("appBootstrapListener"),Ai=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}(),xi=new Et("LocaleId");function Ni(){throw new Error("Runtime compiler is not loaded")}var Di,Oi,Ri=Ni,Pi=Ni,Li=Ni,Vi=Ni,Mi=function(){function t(){_classCallCheck(this,t),this.compileModuleSync=Ri,this.compileModuleAsync=Pi,this.compileModuleAndAllComponentsSync=Li,this.compileModuleAndAllComponentsAsync=Vi}return _createClass(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}(),Fi=function t(){_classCallCheck(this,t)};var ji,Ui=!(!(ji=Ct.wtf)||(Di=ji.trace,!Di)||(Oi=Di.events,0));function Bi(t,e){return null}var qi=Ui?function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Oi.createScope(t,e)}:function(t,e){return Bi},zi=Ui?function(t,e){return Di.leaveScope(t,e),e}:function(t,e){return e},Hi=Promise.resolve(0);function Gi(t){"undefined"==typeof Zone?Hi.then((function(){t&&t.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var Ki=function(){function t(e){var n,r=e.enableLongStackTrace,i=void 0!==r&&r;if(_classCallCheck(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yi(!1),this.onMicrotaskEmpty=new yi(!1),this.onStable=new yi(!1),this.onError=new yi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,e,r,i,o,s){try{return Yi(n),t.invokeTask(r,i,o,s)}finally{Xi(n)}},onInvoke:function(t,e,r,i,o,s,a){try{return Yi(n),t.invoke(r,i,o,s,a)}finally{Xi(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n.hasPendingMicrotasks=i.microTask,Zi(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Qi,Wi,Wi);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}();function Wi(){}var Qi={};function Zi(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular((function(){return t.onStable.emit(null)}))}finally{t.isStable=!0}}}function Yi(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Xi(t){t._nesting--,Zi(t)}var Ji,$i=function(){function t(){_classCallCheck(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yi,this.onMicrotaskEmpty=new yi,this.onStable=new yi,this.onError=new yi}return _createClass(t,[{key:"run",value:function(t){return t()}},{key:"runGuarded",value:function(t){return t()}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t){return t()}}]),t}(),to=function(){function t(e){var n=this;_classCallCheck(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.subscribe({next:function(){Ki.assertNotInAngularZone(),Gi((function(){t._isZoneStable=!0,t._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())Gi((function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}})):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(t){return t.timeoutId!==i})),t(r._didWork,r.getPendingTasks())}),e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}(),eo=function(){function t(){_classCallCheck(this,t),this._applications=new Map,no.addToWindow(this)}return _createClass(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return no.findTestabilityInTree(this,t,e)}}]),t}(),no=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),ro=new Et("AllowMultipleToken"),io=function t(e,n){_classCallCheck(this,t),this.name=e,this.token=n};function oo(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(e),i=new Et(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=so();if(!o||o.injector.get(ro,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var s=n.concat(e).concat({provide:i,useValue:!0});!function(t){if(Ji&&!Ji.destroyed&&!Ji.injector.get(ro,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ji=t.get(ao);var e=t.get(Ti,null);e&&e.forEach((function(t){return t()}))}(Te.create({providers:s,name:r}))}return function(t){var e=so();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function so(){return Ji&&!Ji.destroyed?Ji:null}var ao=function(){function t(e){_classCallCheck(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r=this,i="noop"===(n=e?e.ngZone:void 0)?new $i:("zone.js"===n?void 0:n)||new Ki({enableLongStackTrace:Kt()}),o=[{provide:Ki,useValue:i}];return i.run((function(){var e=Te.create({providers:o,parent:r.injector,name:t.moduleType.name}),n=t.create(e),s=n.injector.get(zt,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return ho(r._modules,n)})),i.runOutsideAngular((function(){return i.onError.subscribe({next:function(t){s.handleError(t)}})})),function(t,e,i){try{var o=((s=n.injector.get(wi)).runInitializers(),s.donePromise.then((function(){return r._moduleDoBootstrap(n),n})));return Ue(o)?o.catch((function(n){throw e.runOutsideAngular((function(){return t.handleError(n)})),n})):o}catch(a){throw e.runOutsideAngular((function(){return t.handleError(a)})),a}var s}(s,i)}))}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=uo({},n);return function(t,e,n){return t.get(Fi).createCompiler([e]).compileModuleAsync(n)}(this.injector,r,t).then((function(t){return e.bootstrapModuleFactory(t,r)}))}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(co);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach((function(t){return e.bootstrap(t)}));else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(vt(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ')+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(t){return t.destroy()})),this._destroyListeners.forEach((function(t){return t()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();function uo(t,e){return Array.isArray(e)?e.reduce(uo,t):Object.assign({},t,e)}var lo,co=((lo=function(){function t(e,n,r,i,o,s){var a=this;_classCallCheck(this,t),this._zone=e,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Kt(),this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run((function(){a.tick()}))}});var u=new w((function(t){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular((function(){t.next(a._stable),t.complete()}))})),l=new w((function(t){var e;a._zone.runOutsideAngular((function(){e=a._zone.onStable.subscribe((function(){Ki.assertNotInAngularZone(),Gi((function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,t.next(!0))}))}))}));var n=a._zone.onUnstable.subscribe((function(){Ki.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular((function(){t.next(!1)})))}));return function(){e.unsubscribe(),n.unsubscribe()}}));this.isStable=X(u,l.pipe((function(t){return J()((e=it,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,nt);return r.source=t,r.subjectFactory=n,r})(t));var e})))}return _createClass(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof ze?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n instanceof Ze?null:this._injector.get(Lt),o=n.create(Te.NULL,[],e||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var s=o.injector.get(to,null);return s&&o.injector.get(eo).registerApplication(o.location.nativeElement,s),this._loadComponent(o),Kt()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=t._tickScope();try{this._runningTick=!0;var r,i=_createForOfIteratorHelper(this._views);try{for(i.s();!(r=i.n()).done;)r.value.detectChanges()}catch(a){i.e(a)}finally{i.f()}if(this._enforceNoNewChanges){var o,s=_createForOfIteratorHelper(this._views);try{for(s.s();!(o=s.n()).done;)o.value.checkNoChanges()}catch(a){s.e(a)}finally{s.f()}}}catch(u){this._zone.runOutsideAngular((function(){return e._exceptionHandler.handleError(u)}))}finally{this._runningTick=!1,zi(n)}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;ho(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ii,[]).concat(this._bootstrapListeners).forEach((function(e){return e(t)}))}},{key:"_unloadComponent",value:function(t){this.detachView(t.hostView),ho(this.components,t)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(t){return t.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),t}())._tickScope=qi("ApplicationRef#tick()"),lo);function ho(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var fo=function t(e,n){_classCallCheck(this,t),this.name=e,this.callback=n},po=function(){function t(e,n,r){_classCallCheck(this,t),this.listeners=[],this.parent=null,this._debugContext=r,this.nativeNode=e,n&&n instanceof vo&&n.addChild(this)}return _createClass(t,[{key:"injector",get:function(){return this._debugContext.injector}},{key:"componentInstance",get:function(){return this._debugContext.component}},{key:"context",get:function(){return this._debugContext.context}},{key:"references",get:function(){return this._debugContext.references}},{key:"providerTokens",get:function(){return this._debugContext.providerTokens}}]),t}(),vo=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r,i)).properties={},o.attributes={},o.classes={},o.styles={},o.childNodes=[],o.nativeElement=t,o}return _createClass(n,[{key:"addChild",value:function(t){t&&(this.childNodes.push(t),t.parent=this)}},{key:"removeChild",value:function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}},{key:"insertChildrenAfter",value:function(t,e){var n,r=this,i=this.childNodes.indexOf(t);-1!==i&&((n=this.childNodes).splice.apply(n,[i+1,0].concat(_toConsumableArray(e))),e.forEach((function(e){e.parent&&e.parent.removeChild(e),t.parent=r})))}},{key:"insertBefore",value:function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}},{key:"query",value:function(t){return this.queryAll(t)[0]||null}},{key:"queryAll",value:function(t){var e=[];return function t(e,r,i){e.childNodes.forEach((function(e){e instanceof n&&(r(e)&&i.push(e),t(e,r,i))}))}(this,t,e),e}},{key:"queryAllNodes",value:function(t){var e=[];return function t(e,r,i){e instanceof n&&e.childNodes.forEach((function(e){r(e)&&i.push(e),e instanceof n&&t(e,r,i)}))}(this,t,e),e}},{key:"triggerEventHandler",value:function(t,e){this.listeners.forEach((function(n){n.name==t&&n.callback(e)}))}},{key:"children",get:function(){return this.childNodes.filter((function(t){return t instanceof n}))}}]),n}(po),mo=new Map,yo=function(t){return mo.get(t)||null};function go(t){mo.set(t.nativeNode,t)}var _o=oo(null,"core",[{provide:Si,useValue:"unknown"},{provide:ao,deps:[Te]},{provide:eo,deps:[]},{provide:Ai,deps:[]}]);function bo(){return _n}function wo(){return bn}function ko(t){return t||"en-US"}function Co(t){var e=[];return t.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(t){e.push(t)}}var Eo=function t(e){_classCallCheck(this,t)};function To(t,e,n,r,i,o){t|=1;var s=er(e),a=s.matchedQueries,u=s.references;return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a,matchedQueryIds:s.matchedQueryIds,references:u,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?or(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||Vn},provider:null,text:null,query:null,ngContent:null}}function So(t,e,n,r,i,o){var s,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],u=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,h=arguments.length>10?arguments[10]:void 0,f=arguments.length>11?arguments[11]:void 0;c||(c=Vn);var d=er(n),p=d.matchedQueries,v=d.references,m=d.matchedQueryIds,y=null,g=null;o&&(y=(s=_slicedToArray(fr(o),2))[0],g=s[1]),u=u||[];for(var _=new Array(u.length),b=0;b<u.length;b++){var w=_slicedToArray(u[b],3),k=w[0],C=w[1],E=w[2],T=fr(C),S=_slicedToArray(T,2),I=S[0],A=S[1],x=void 0,N=void 0;switch(15&k){case 4:N=E;break;case 1:case 8:x=E}_[b]={flags:k,ns:I,name:A,nonMinifiedName:A,securityContext:x,suffix:N}}l=l||[];for(var D=new Array(l.length),O=0;O<l.length;O++){var R=_slicedToArray(l[O],2),P=R[0],L=R[1];D[O]={type:0,target:P,eventName:L,propName:null}}var V=(a=a||[]).map((function(t){var e=_slicedToArray(t,2),n=e[0],r=e[1],i=_slicedToArray(fr(n),2);return[i[0],i[1],r]}));return f=function(t){if(t&&"$$undefined"===t.id){var e=null!=t.encapsulation&&t.encapsulation!==Ft.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c".concat(Bn++):"$$empty"}return t&&"$$empty"===t.id&&(t=null),t||null}(f),h&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:p,matchedQueryIds:m,references:v,ngContentIndex:r,childCount:i,bindings:_,bindingFlags:dr(_),outputs:D,element:{ns:y,name:g,attrs:V,template:null,componentProvider:null,componentView:h||null,componentRendererType:f,publicProviders:null,allProviders:null,handleEvent:c||Vn},provider:null,text:null,query:null,ngContent:null}}function Io(t,e,n){var r,i=n.element,o=t.root.selectorOrNode,s=t.renderer;if(t.parent||!o){r=i.name?s.createElement(i.name,i.ns):s.createComment("");var a=rr(t,e,n);a&&s.appendChild(a,r)}else r=s.selectRootElement(o,!!i.componentRendererType&&i.componentRendererType.encapsulation===Ft.ShadowDom);if(i.attrs)for(var u=0;u<i.attrs.length;u++){var l=_slicedToArray(i.attrs[u],3),c=l[0],h=l[1],f=l[2];s.setAttribute(r,h,f,c)}return r}function Ao(t,e,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],s=xo(t,n.nodeIndex,Xn(o.target,o.eventName)),a=o.target,u=t;"component"===o.target&&(a=null,u=e);var l=u.renderer.listen(a||r,o.eventName,s);t.disposables[n.outputIndex+i]=l}}function xo(t,e,n){return function(r){return Wn(t,e,n,r)}}function No(t,e,n,r){if(!zn(t,e,n,r))return!1;var i=e.bindings[n],o=Dn(t,e.nodeIndex),s=o.renderElement,a=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){var s=e.securityContext,a=s?t.root.sanitizer.sanitize(s,o):o;a=null!=a?a.toString():null;var u=t.renderer;null!=o?u.setAttribute(n,i,a,r):u.removeAttribute(n,i,r)}(t,i,s,i.ns,a,r);break;case 2:!function(t,e,n,r){var i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,s,a,r);break;case 4:!function(t,e,n,r,i){var o=t.root.sanitizer.sanitize(pe.STYLE,i);if(null!=o){o=o.toString();var s=e.suffix;null!=s&&(o+=s)}else o=null;var a=t.renderer;null!=o?a.setStyle(n,r,o):a.removeStyle(n,r)}(t,i,s,a,r);break;case 8:!function(t,e,n,r,i){var o=e.securityContext,s=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,s)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,s,a,r)}return!0}function Do(t,e,n){var r=[];for(var i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:tr(e),bindings:r},ngContent:null}}function Oo(t){for(var e=t.def.nodeMatchedQueries;t.parent&&$n(t);){var n=t.parentNodeDef;t=t.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++){var o=t.def.nodes[i];67108864&o.flags&&536870912&o.flags&&(o.query.filterId&e)===o.query.filterId&&Pn(t,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}}if(134217728&t.def.nodeFlags)for(var s=0;s<t.def.nodes.length;s++){var a=t.def.nodes[s];134217728&a.flags&&536870912&a.flags&&Pn(t,s).setDirty(),s+=a.childCount}}function Ro(t,e){var n=Pn(t,e.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&e.flags){var o=e.parent.parent;i=Po(t,o.nodeIndex,o.nodeIndex+o.childCount,e.query,[]),r=On(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=Po(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);for(var s=e.query.bindings,a=!1,u=0;u<s.length;u++){var l=s[u],c=void 0;switch(l.bindingType){case 0:c=n.first;break;case 1:c=n,a=!0}r[l.propName]=c}a&&n.notifyOnChanges()}}function Po(t,e,n,r,i){for(var o=e;o<=n;o++){var s=t.def.nodes[o],a=s.matchedQueries[r.id];if(null!=a&&i.push(Lo(t,s,a)),1&s.flags&&s.element.template&&(s.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=Dn(t,o);if((s.childMatchedQueries&r.filterId)===r.filterId&&(Po(t,o+1,o+s.childCount,r,i),o+=s.childCount),16777216&s.flags)for(var l=u.viewContainer._embeddedViews,c=0;c<l.length;c++){var h=l[c],f=Qn(h);f&&f===u&&Po(h,0,h.def.nodes.length-1,r,i)}var d=u.template._projectedViews;if(d)for(var p=0;p<d.length;p++){var v=d[p];Po(v,0,v.def.nodes.length-1,r,i)}}(s.childMatchedQueries&r.filterId)!==r.filterId&&(o+=s.childCount)}return i}function Lo(t,e,n){if(null!=n)switch(n){case 1:return Dn(t,e.nodeIndex).renderElement;case 0:return new Xe(Dn(t,e.nodeIndex).renderElement);case 2:return Dn(t,e.nodeIndex).template;case 3:return Dn(t,e.nodeIndex).viewContainer;case 4:return On(t,e.nodeIndex).instance}}function Vo(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function Mo(t,e,n){var r=rr(t,e,n);r&&ur(t,n.ngContent.index,1,r,null,void 0)}function Fo(t,e,n){for(var r=new Array(n.length),i=0;i<n.length;i++){var o=n[i];r[i]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:dr(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function jo(t,e,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Uo(t,e,n){var r,i=t.renderer;r=i.createText(n.text.prefix);var o=rr(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function Bo(t,e){return(null!=t?t.toString():"")+e.suffix}function qo(t,e,n,r){for(var i=0,o=0,s=0,a=0,u=0,l=null,c=null,h=!1,f=!1,d=null,p=0;p<e.length;p++){var v=e[p];if(v.nodeIndex=p,v.parent=l,v.bindingIndex=i,v.outputIndex=o,v.renderParent=c,s|=v.flags,u|=v.matchedQueryIds,v.element){var m=v.element;m.publicProviders=l?l.element.publicProviders:Object.create(null),m.allProviders=m.publicProviders,h=!1,f=!1,v.element.template&&(u|=v.element.template.nodeMatchedQueries)}if(Ho(l,v,e.length),i+=v.bindings.length,o+=v.outputs.length,!c&&3&v.flags&&(d=v),20224&v.flags){h||(h=!0,l.element.publicProviders=Object.create(l.element.publicProviders),l.element.allProviders=l.element.publicProviders);var y=0!=(32768&v.flags);0==(8192&v.flags)||y?l.element.publicProviders[Fn(v.provider.token)]=v:(f||(f=!0,l.element.allProviders=Object.create(l.element.publicProviders)),l.element.allProviders[Fn(v.provider.token)]=v),y&&(l.element.componentProvider=v)}if(l?(l.childFlags|=v.flags,l.directChildFlags|=v.flags,l.childMatchedQueries|=v.matchedQueryIds,v.element&&v.element.template&&(l.childMatchedQueries|=v.element.template.nodeMatchedQueries)):a|=v.flags,v.childCount>0)l=v,zo(v)||(c=v);else for(;l&&p===l.nodeIndex+l.childCount;){var g=l.parent;g&&(g.childFlags|=l.childFlags,g.childMatchedQueries|=l.childMatchedQueries),c=(l=g)&&zo(l)?l.renderParent:l}}return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||Vn,updateRenderer:r||Vn,handleEvent:function(t,n,r,i){return e[n].element.handleEvent(t,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:d}}function zo(t){return 0!=(1&t.flags)&&null===t.element.name}function Ho(t,e,n){var r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index ".concat(e.nodeIndex,"!"))}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ".concat(e.nodeIndex,"!"));if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index ".concat(e.nodeIndex,"!"));if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index ".concat(e.nodeIndex,"!"))}if(e.childCount){var i=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=i&&e.nodeIndex+e.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index ".concat(e.nodeIndex,"!"))}}function Go(t,e,n,r){var i=Qo(t.root,t.renderer,t,e,n);return Zo(i,t.component,r),Yo(i),i}function Ko(t,e,n){var r=Qo(t,t.renderer,null,null,e);return Zo(r,n,n),Yo(r),r}function Wo(t,e,n,r){var i,o=e.element.componentRendererType;return i=o?t.root.rendererFactory.createRenderer(r,o):t.root.renderer,Qo(t.root,i,t,e.element.componentProvider,n)}function Qo(t,e,n,r,i){var o=new Array(i.nodes.length),s=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:s,initIndex:-1}}function Zo(t,e,n){t.component=e,t.context=n}function Yo(t){var e;Jn(t)&&(e=Dn(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var n=t.def,r=t.nodes,i=0;i<n.nodes.length;i++){var o=n.nodes[i],s=void 0;switch(Ln.setCurrentNode(t,i),201347067&o.flags){case 1:var a=Io(t,e,o),u=void 0;if(33554432&o.flags){var l=or(o.element.componentView);u=Ln.createComponentView(t,o,l,a)}Ao(t,u,o,a),s={renderElement:a,componentView:u,viewContainer:null,template:o.element.template?Dr(t,o):void 0},16777216&o.flags&&(s.viewContainer=Ir(t,o,s));break;case 2:s=Uo(t,e,o);break;case 512:case 1024:case 2048:case 256:(s=r[i])||4096&o.flags||(s={instance:Jr(t,o)});break;case 16:s={instance:$r(t,o)};break;case 16384:(s=r[i])||(s={instance:ti(t,o)}),32768&o.flags&&Zo(Dn(t,o.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new _i;break;case 8:Mo(t,e,o),s=void 0}r[i]=s}os(t,is.CreateViewNodes),ls(t,201326592,268435456,0)}function Xo(t){ts(t),Ln.updateDirectives(t,1),ss(t,is.CheckNoChanges),Ln.updateRenderer(t,1),os(t,is.CheckNoChanges),t.state&=-97}function Jo(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,An(t,0,256),ts(t),Ln.updateDirectives(t,0),ss(t,is.CheckAndUpdate),ls(t,67108864,536870912,0);var e=An(t,256,512);ui(t,2097152|(e?1048576:0)),Ln.updateRenderer(t,0),os(t,is.CheckAndUpdate),ls(t,134217728,536870912,0),ui(t,8388608|((e=An(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,An(t,768,1024)}function $o(t,e,n,r,i,o,s,a,u,l,c,h,f){return 0===n?function(t,e,n,r,i,o,s,a,u,l,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,s,a,u,l,c,h){var f=e.bindings.length,d=!1;return f>0&&No(t,e,0,n)&&(d=!0),f>1&&No(t,e,1,r)&&(d=!0),f>2&&No(t,e,2,i)&&(d=!0),f>3&&No(t,e,3,o)&&(d=!0),f>4&&No(t,e,4,s)&&(d=!0),f>5&&No(t,e,5,a)&&(d=!0),f>6&&No(t,e,6,u)&&(d=!0),f>7&&No(t,e,7,l)&&(d=!0),f>8&&No(t,e,8,c)&&(d=!0),f>9&&No(t,e,9,h)&&(d=!0),d}(t,e,n,r,i,o,s,a,u,l,c,h);case 2:return function(t,e,n,r,i,o,s,a,u,l,c,h){var f=!1,d=e.bindings,p=d.length;if(p>0&&zn(t,e,0,n)&&(f=!0),p>1&&zn(t,e,1,r)&&(f=!0),p>2&&zn(t,e,2,i)&&(f=!0),p>3&&zn(t,e,3,o)&&(f=!0),p>4&&zn(t,e,4,s)&&(f=!0),p>5&&zn(t,e,5,a)&&(f=!0),p>6&&zn(t,e,6,u)&&(f=!0),p>7&&zn(t,e,7,l)&&(f=!0),p>8&&zn(t,e,8,c)&&(f=!0),p>9&&zn(t,e,9,h)&&(f=!0),f){var v=e.text.prefix;p>0&&(v+=Bo(n,d[0])),p>1&&(v+=Bo(r,d[1])),p>2&&(v+=Bo(i,d[2])),p>3&&(v+=Bo(o,d[3])),p>4&&(v+=Bo(s,d[4])),p>5&&(v+=Bo(a,d[5])),p>6&&(v+=Bo(u,d[6])),p>7&&(v+=Bo(l,d[7])),p>8&&(v+=Bo(c,d[8])),p>9&&(v+=Bo(h,d[9]));var m=Nn(t,e.nodeIndex).renderText;t.renderer.setValue(m,v)}return f}(t,e,n,r,i,o,s,a,u,l,c,h);case 16384:return function(t,e,n,r,i,o,s,a,u,l,c,h){var f=On(t,e.nodeIndex),d=f.instance,p=!1,v=void 0,m=e.bindings.length;return m>0&&qn(t,e,0,n)&&(p=!0,v=ai(t,f,e,0,n,v)),m>1&&qn(t,e,1,r)&&(p=!0,v=ai(t,f,e,1,r,v)),m>2&&qn(t,e,2,i)&&(p=!0,v=ai(t,f,e,2,i,v)),m>3&&qn(t,e,3,o)&&(p=!0,v=ai(t,f,e,3,o,v)),m>4&&qn(t,e,4,s)&&(p=!0,v=ai(t,f,e,4,s,v)),m>5&&qn(t,e,5,a)&&(p=!0,v=ai(t,f,e,5,a,v)),m>6&&qn(t,e,6,u)&&(p=!0,v=ai(t,f,e,6,u,v)),m>7&&qn(t,e,7,l)&&(p=!0,v=ai(t,f,e,7,l,v)),m>8&&qn(t,e,8,c)&&(p=!0,v=ai(t,f,e,8,c,v)),m>9&&qn(t,e,9,h)&&(p=!0,v=ai(t,f,e,9,h,v)),v&&d.ngOnChanges(v),65536&e.flags&&xn(t,256,e.nodeIndex)&&d.ngOnInit(),262144&e.flags&&d.ngDoCheck(),p}(t,e,n,r,i,o,s,a,u,l,c,h);case 32:case 64:case 128:return function(t,e,n,r,i,o,s,a,u,l,c,h){var f=e.bindings,d=!1,p=f.length;if(p>0&&zn(t,e,0,n)&&(d=!0),p>1&&zn(t,e,1,r)&&(d=!0),p>2&&zn(t,e,2,i)&&(d=!0),p>3&&zn(t,e,3,o)&&(d=!0),p>4&&zn(t,e,4,s)&&(d=!0),p>5&&zn(t,e,5,a)&&(d=!0),p>6&&zn(t,e,6,u)&&(d=!0),p>7&&zn(t,e,7,l)&&(d=!0),p>8&&zn(t,e,8,c)&&(d=!0),p>9&&zn(t,e,9,h)&&(d=!0),d){var v,m=Rn(t,e.nodeIndex);switch(201347067&e.flags){case 32:v=new Array(f.length),p>0&&(v[0]=n),p>1&&(v[1]=r),p>2&&(v[2]=i),p>3&&(v[3]=o),p>4&&(v[4]=s),p>5&&(v[5]=a),p>6&&(v[6]=u),p>7&&(v[7]=l),p>8&&(v[8]=c),p>9&&(v[9]=h);break;case 64:v={},p>0&&(v[f[0].name]=n),p>1&&(v[f[1].name]=r),p>2&&(v[f[2].name]=i),p>3&&(v[f[3].name]=o),p>4&&(v[f[4].name]=s),p>5&&(v[f[5].name]=a),p>6&&(v[f[6].name]=u),p>7&&(v[f[7].name]=l),p>8&&(v[f[8].name]=c),p>9&&(v[f[9].name]=h);break;case 128:var y=n;switch(p){case 1:v=y.transform(n);break;case 2:v=y.transform(r);break;case 3:v=y.transform(r,i);break;case 4:v=y.transform(r,i,o);break;case 5:v=y.transform(r,i,o,s);break;case 6:v=y.transform(r,i,o,s,a);break;case 7:v=y.transform(r,i,o,s,a,u);break;case 8:v=y.transform(r,i,o,s,a,u,l);break;case 9:v=y.transform(r,i,o,s,a,u,l,c);break;case 10:v=y.transform(r,i,o,s,a,u,l,c,h)}}m.value=v}return d}(t,e,n,r,i,o,s,a,u,l,c,h);default:throw"unreachable"}}(t,e,r,i,o,s,a,u,l,c,h,f):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var r=!1,i=0;i<n.length;i++)No(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)zn(t,e,o,n[o])&&(i=!0);if(i){for(var s="",a=0;a<n.length;a++)s+=Bo(n[a],r[a]);s=e.text.prefix+s;var u=Nn(t,e.nodeIndex).renderText;t.renderer.setValue(u,s)}return i}(t,e,n);case 16384:return function(t,e,n){for(var r=On(t,e.nodeIndex),i=r.instance,o=!1,s=void 0,a=0;a<n.length;a++)qn(t,e,a,n[a])&&(o=!0,s=ai(t,r,e,a,n[a],s));return s&&i.ngOnChanges(s),65536&e.flags&&xn(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)zn(t,e,o,n[o])&&(i=!0);if(i){var s,a=Rn(t,e.nodeIndex);switch(201347067&e.flags){case 32:s=n;break;case 64:s={};for(var u=0;u<n.length;u++)s[r[u].name]=n[u];break;case 128:var l=n[0],c=n.slice(1);s=l.transform.apply(l,_toConsumableArray(c))}a.value=s}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function ts(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(4&r.flags){var i=Dn(t,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var s=i[o];s.state|=32,Kn(s,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function es(t,e,n,r,i,o,s,a,u,l,c,h,f){return 0===n?function(t,e,n,r,i,o,s,a,u,l,c,h){var f=e.bindings.length;f>0&&Hn(t,e,0,n),f>1&&Hn(t,e,1,r),f>2&&Hn(t,e,2,i),f>3&&Hn(t,e,3,o),f>4&&Hn(t,e,4,s),f>5&&Hn(t,e,5,a),f>6&&Hn(t,e,6,u),f>7&&Hn(t,e,7,l),f>8&&Hn(t,e,8,c),f>9&&Hn(t,e,9,h)}(t,e,r,i,o,s,a,u,l,c,h,f):function(t,e,n){for(var r=0;r<n.length;r++)Hn(t,e,r,n[r])}(t,e,r),!1}function ns(t,e){if(Pn(t,e.nodeIndex).dirty)throw Tn(Ln.createDebugContext(t,e.nodeIndex),"Query ".concat(e.query.id," not dirty"),"Query ".concat(e.query.id," dirty"),0!=(1&t.state))}function rs(t){if(!(128&t.state)){if(ss(t,is.Destroy),os(t,is.Destroy),ui(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=Qn(t);if(e){var n=e.template._projectedViews;n&&(Mt(n,n.indexOf(t)),Ln.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var r=t.def.nodes[n];1&r.flags?t.renderer.destroyNode(Dn(t,n).renderElement):2&r.flags?t.renderer.destroyNode(Nn(t,n).renderText):(67108864&r.flags||134217728&r.flags)&&Pn(t,n).destroy()}}(t),Jn(t)&&t.renderer.destroy(),t.state|=128}}var is=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function os(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?as(Dn(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function ss(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=Dn(t,r).viewContainer._embeddedViews,s=0;s<o.length;s++)as(o[s],e);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function as(t,e){var n=t.state;switch(e){case is.CheckNoChanges:0==(128&n)&&(12==(12&n)?Xo(t):64&n&&us(t,is.CheckNoChangesProjectedViews));break;case is.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Xo(t):64&n&&us(t,e));break;case is.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Jo(t):64&n&&us(t,is.CheckAndUpdateProjectedViews));break;case is.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Jo(t):64&n&&us(t,e));break;case is.Destroy:rs(t);break;case is.CreateViewNodes:Yo(t)}}function us(t,e){ss(t,e),os(t,e)}function ls(t,e,n,r){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var i=t.def.nodes.length,o=0;o<i;o++){var s=t.def.nodes[o];if(s.flags&e&&s.flags&n)switch(Ln.setCurrentNode(t,s.nodeIndex),r){case 0:Ro(t,s);break;case 1:ns(t,s)}s.childFlags&e&&s.childFlags&n||(o+=s.childCount)}}var cs=!1;function hs(t,e,n,r,i,o){var s=i.injector.get($e);return Ko(ds(t,i,s,e,n),r,o)}function fs(t,e,n,r,i,o){var s=i.injector.get($e),a=ds(t,i,new Gs(s),e,n),u=Cs(r);return zs(Os.create,Ko,null,[a,u,o])}function ds(t,e,n,r,i){var o=e.injector.get(ve),s=e.injector.get(zt),a=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:a,errorHandler:s}}function ps(t,e,n,r){var i=Cs(n);return zs(Os.create,Go,null,[t,e,i,r])}function vs(t,e,n,r){return n=_s.get(e.element.componentProvider.provider.token)||Cs(n),zs(Os.create,Wo,null,[t,e,n,r])}function ms(t,e,n,r){return Fr(t,e,n,function(t){var e=function(t){var e=!1,n=!1;return 0===ys.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach((function(t){var r=ys.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)})),t.modules.forEach((function(t){gs.forEach((function(r,i){dt(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)}))})),{hasOverrides:e,hasDeprecatedOverrides:n})}(t),n=e.hasOverrides,r=e.hasDeprecatedOverrides;return n?(function(t){for(var e=0;e<t.providers.length;e++){var n=t.providers[e];r&&(n.flags|=4096);var i=ys.get(n.token);i&&(n.flags=-3841&n.flags|i.flags,n.deps=nr(i.deps),n.value=i.value)}if(gs.size>0){var o=new Set(t.modules);gs.forEach((function(e,n){if(o.has(dt(n).providedIn)){var i={token:n,flags:e.flags|(r?4096:0),deps:nr(e.deps),value:e.value,index:t.providers.length};t.providers.push(i),t.providersByKey[Fn(n)]=i}}))}}(t=t.factory((function(){return Vn}))),t):t}(r))}var ys=new Map,gs=new Map,_s=new Map;function bs(t){var e;ys.set(t.token,t),"function"==typeof t.token&&(e=dt(t.token))&&"function"==typeof e.providedIn&&gs.set(t.token,t)}function ws(t,e){var n=or(e.viewDefFactory),r=or(n.nodes[0].element.componentView);_s.set(t,r)}function ks(){ys.clear(),gs.clear(),_s.clear()}function Cs(t){if(0===ys.size)return t;var e=function(t){for(var e=[],n=null,r=0;r<t.nodes.length;r++){var i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&ys.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory((function(){return Vn}));for(var n=0;n<e.length;n++)r(t,e[n]);return t;function r(t,e){for(var n=e+1;n<t.nodes.length;n++){var r=t.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,o=ys.get(i.token);o&&(r.flags=-3841&r.flags|o.flags,i.deps=nr(o.deps),i.value=o.value)}}}}function Es(t,e,n,r,i,o,s,a,u,l,c,h,f){var d=t.def.nodes[e];return $o(t,d,n,r,i,o,s,a,u,l,c,h,f),224&d.flags?Rn(t,e).value:void 0}function Ts(t,e,n,r,i,o,s,a,u,l,c,h,f){var d=t.def.nodes[e];return es(t,d,n,r,i,o,s,a,u,l,c,h,f),224&d.flags?Rn(t,e).value:void 0}function Ss(t){return zs(Os.detectChanges,Jo,null,[t])}function Is(t){return zs(Os.checkNoChanges,Xo,null,[t])}function As(t){return zs(Os.destroy,rs,null,[t])}var xs,Ns,Ds,Os=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();function Rs(t,e){Ns=t,Ds=e}function Ps(t,e,n,r){return Rs(t,e),zs(Os.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function Ls(t,e){if(128&t.state)throw In(Os[xs]);return Rs(t,js(t,0)),t.def.updateDirectives((function(t,n,r){for(var i=t.def.nodes[n],o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return 0===e?Ms(t,i,r,s):Fs(t,i,r,s),16384&i.flags&&Rs(t,js(t,n)),224&i.flags?Rn(t,i.nodeIndex).value:void 0}),t)}function Vs(t,e){if(128&t.state)throw In(Os[xs]);return Rs(t,Us(t,0)),t.def.updateRenderer((function(t,n,r){for(var i=t.def.nodes[n],o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return 0===e?Ms(t,i,r,s):Fs(t,i,r,s),3&i.flags&&Rs(t,Us(t,n)),224&i.flags?Rn(t,i.nodeIndex).value:void 0}),t)}function Ms(t,e,n,r){if($o.apply(void 0,[t,e,n].concat(_toConsumableArray(r)))){var i=1===n?r[0]:r;if(16384&e.flags){for(var o={},s=0;s<e.bindings.length;s++){var a=e.bindings[s],u=i[s];8&a.flags&&(o[ge(a.nonMinifiedName)]=be(u))}var l=e.parent,c=Dn(t,l.nodeIndex).renderElement;if(l.element.name)for(var h in o){var f=o[h];null!=f?t.renderer.setAttribute(c,h,f):t.renderer.removeAttribute(c,h)}else t.renderer.setValue(c,"bindings=".concat(JSON.stringify(o,null,2)))}}}function Fs(t,e,n,r){es.apply(void 0,[t,e,n].concat(_toConsumableArray(r)))}function js(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function Us(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var Bs=function(){function t(e,n){_classCallCheck(this,t),this.view=e,this.nodeIndex=n,null==n&&(this.nodeIndex=n=0),this.nodeDef=e.def.nodes[n];for(var r=this.nodeDef,i=e;r&&0==(1&r.flags);)r=r.parent;if(!r)for(;!r&&i;)r=Zn(i),i=i.parent;this.elDef=r,this.elView=i}return _createClass(t,[{key:"logError",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i,o;2&this.nodeDef.flags?(i=this.view.def,o=this.nodeDef.nodeIndex):(i=this.elView.def,o=this.elDef.nodeIndex);var s=function(t,e){for(var n=-1,r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(i,o),a=-1;i.factory((function(){var e;return++a===s?(e=t.error).bind.apply(e,[t].concat(n)):Vn})),a<s&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,n))}},{key:"elOrCompView",get:function(){return Dn(this.elView,this.elDef.nodeIndex).componentView||this.view}},{key:"injector",get:function(){return Rr(this.elView,this.elDef)}},{key:"component",get:function(){return this.elOrCompView.component}},{key:"context",get:function(){return this.elOrCompView.context}},{key:"providerTokens",get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}},{key:"references",get:function(){var t={};if(this.elDef){qs(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&qs(this.elView,n,t),e+=n.childCount}}return t}},{key:"componentRenderElement",get:function(){var t=function(t){for(;t&&!Jn(t);)t=t.parent;return t.parent?Dn(t.parent,Zn(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}},{key:"renderNode",get:function(){return 2&this.nodeDef.flags?Yn(this.view,this.nodeDef):Yn(this.elView,this.elDef)}}]),t}();function qs(t,e,n){for(var r in e.references)n[r]=Lo(t,e,e.references[r])}function zs(t,e,n,r){var i,o,s=xs,a=Ns,u=Ds;try{xs=t;var l=e.apply(n,r);return Ns=a,Ds=u,xs=s,l}catch(c){if(Ut(c)||!Ns)throw c;throw i=c,o=Hs(),i instanceof Error||(i=new Error(i.toString())),Sn(i,o),i}}function Hs(){return Ns?new Bs(Ns,Ds):null}var Gs=function(){function t(e){_classCallCheck(this,t),this.delegate=e}return _createClass(t,[{key:"createRenderer",value:function(t,e){return new Ks(this.delegate.createRenderer(t,e))}},{key:"begin",value:function(){this.delegate.begin&&this.delegate.begin()}},{key:"end",value:function(){this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}]),t}(),Ks=function(){function t(e){_classCallCheck(this,t),this.delegate=e,this.debugContextFactory=Hs,this.data=this.delegate.data}return _createClass(t,[{key:"createDebugContext",value:function(t){return this.debugContextFactory(t)}},{key:"destroyNode",value:function(t){var e=yo(t);!function(t){mo.delete(t.nativeNode)}(e),e instanceof po&&(e.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(t)}},{key:"destroy",value:function(){this.delegate.destroy()}},{key:"createElement",value:function(t,e){var n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){var i=new vo(n,null,r);i.name=t,go(i)}return n}},{key:"createComment",value:function(t){var e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&go(new po(e,null,n)),e}},{key:"createText",value:function(t){var e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&go(new po(e,null,n)),e}},{key:"appendChild",value:function(t,e){var n=yo(t),r=yo(e);n&&r&&n instanceof vo&&n.addChild(r),this.delegate.appendChild(t,e)}},{key:"insertBefore",value:function(t,e,n){var r=yo(t),i=yo(e),o=yo(n);r&&i&&r instanceof vo&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)}},{key:"removeChild",value:function(t,e){var n=yo(t),r=yo(e);n&&r&&n instanceof vo&&n.removeChild(r),this.delegate.removeChild(t,e)}},{key:"selectRootElement",value:function(t,e){var n=this.delegate.selectRootElement(t,e),r=Hs();return r&&go(new vo(n,null,r)),n}},{key:"setAttribute",value:function(t,e,n,r){var i=yo(t);i&&i instanceof vo&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)}},{key:"removeAttribute",value:function(t,e,n){var r=yo(t);r&&r instanceof vo&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}},{key:"addClass",value:function(t,e){var n=yo(t);n&&n instanceof vo&&(n.classes[e]=!0),this.delegate.addClass(t,e)}},{key:"removeClass",value:function(t,e){var n=yo(t);n&&n instanceof vo&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}},{key:"setStyle",value:function(t,e,n,r){var i=yo(t);i&&i instanceof vo&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)}},{key:"removeStyle",value:function(t,e,n){var r=yo(t);r&&r instanceof vo&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)}},{key:"setProperty",value:function(t,e,n){var r=yo(t);r&&r instanceof vo&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)}},{key:"listen",value:function(t,e,n){if("string"!=typeof t){var r=yo(t);r&&r.listeners.push(new fo(e,n))}return this.delegate.listen(t,e,n)}},{key:"parentNode",value:function(t){return this.delegate.parentNode(t)}},{key:"nextSibling",value:function(t){return this.delegate.nextSibling(t)}},{key:"setValue",value:function(t,e){return this.delegate.setValue(t,e)}}]),t}();var Ws=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this)).moduleType=t,o._bootstrapComponents=r,o._ngModuleDefFactory=i,o}return _createClass(n,[{key:"create",value:function(t){!function(){if(!cs){cs=!0;var t=Kt()?{setCurrentNode:Rs,createRootView:fs,createEmbeddedView:ps,createComponentView:vs,createNgModuleRef:ms,overrideProvider:bs,overrideComponentView:ws,clearOverrides:ks,checkAndUpdateView:Ss,checkNoChangesView:Is,destroyView:As,createDebugContext:function(t,e){return new Bs(t,e)},handleEvent:Ps,updateDirectives:Ls,updateRenderer:Vs}:{setCurrentNode:function(){},createRootView:hs,createEmbeddedView:Go,createComponentView:Wo,createNgModuleRef:Fr,overrideProvider:Vn,overrideComponentView:Vn,clearOverrides:Vn,checkAndUpdateView:Jo,checkNoChangesView:Xo,destroyView:rs,createDebugContext:function(t,e){return new Bs(t,e)},handleEvent:function(t,e,n,r){return t.def.handleEvent(t,e,n,r)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?Es:Ts,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?Es:Ts,t)}};Ln.setCurrentNode=t.setCurrentNode,Ln.createRootView=t.createRootView,Ln.createEmbeddedView=t.createEmbeddedView,Ln.createComponentView=t.createComponentView,Ln.createNgModuleRef=t.createNgModuleRef,Ln.overrideProvider=t.overrideProvider,Ln.overrideComponentView=t.overrideComponentView,Ln.clearOverrides=t.clearOverrides,Ln.checkAndUpdateView=t.checkAndUpdateView,Ln.checkNoChangesView=t.checkNoChangesView,Ln.destroyView=t.destroyView,Ln.resolveDep=oi,Ln.createDebugContext=t.createDebugContext,Ln.handleEvent=t.handleEvent,Ln.updateDirectives=t.updateDirectives,Ln.updateRenderer=t.updateRenderer,Ln.dirtyParentQueries=Oo}}();var e=function(t){var e=Array.from(t.providers),n=Array.from(t.modules),r={};for(var i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(or(this._ngModuleDefFactory));return Ln.createNgModuleRef(this.moduleType,t||Te.NULL,this._bootstrapComponents,e)}}]),n}(function(){return function t(){_classCallCheck(this,t)}}()),Qs=function t(){_classCallCheck(this,t)},Zs=function t(){_classCallCheck(this,t)},Ys=function t(){_classCallCheck(this,t)},Xs=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),Js=function(){var t={Format:0,Standalone:1};return t[t.Format]="Format",t[t.Standalone]="Standalone",t}(),$s=function(){var t={Narrow:0,Abbreviated:1,Wide:2,Short:3};return t[t.Narrow]="Narrow",t[t.Abbreviated]="Abbreviated",t[t.Wide]="Wide",t[t.Short]="Short",t}(),ta=function(){var t={Short:0,Medium:1,Long:2,Full:3};return t[t.Short]="Short",t[t.Medium]="Medium",t[t.Long]="Long",t[t.Full]="Full",t}(),ea=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}();function na(t,e){return aa(mi(t)[di.DateFormat],e)}function ra(t,e){return aa(mi(t)[di.TimeFormat],e)}function ia(t,e){return aa(mi(t)[di.DateTimeFormat],e)}function oa(t,e){var n=mi(t),r=n[di.NumberSymbols][e];if(void 0===r){if(e===ea.CurrencyDecimal)return n[di.NumberSymbols][ea.Decimal];if(e===ea.CurrencyGroup)return n[di.NumberSymbols][ea.Group]}return r}function sa(t){if(!t[di.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(t[di.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function aa(t,e){for(var n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function ua(t){var e=_slicedToArray(t.split(":"),2);return{hours:+e[0],minutes:+e[1]}}var la=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ca={},ha=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,fa=function(){var t={Short:0,ShortGMT:1,Long:2,Extended:3};return t[t.Short]="Short",t[t.ShortGMT]="ShortGMT",t[t.Long]="Long",t[t.Extended]="Extended",t}(),da=function(){var t={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return t[t.FullYear]="FullYear",t[t.Month]="Month",t[t.Date]="Date",t[t.Hours]="Hours",t[t.Minutes]="Minutes",t[t.Seconds]="Seconds",t[t.FractionalSeconds]="FractionalSeconds",t[t.Day]="Day",t}(),pa=function(){var t={DayPeriods:0,Days:1,Months:2,Eras:3};return t[t.DayPeriods]="DayPeriods",t[t.Days]="Days",t[t.Months]="Months",t[t.Eras]="Eras",t}();function va(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function ma(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));for(var s=String(t);s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),o+s}function ya(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(o,s){var a,u=function(t,e){switch(t){case da.FullYear:return e.getFullYear();case da.Month:return e.getMonth();case da.Date:return e.getDate();case da.Hours:return e.getHours();case da.Minutes:return e.getMinutes();case da.Seconds:return e.getSeconds();case da.FractionalSeconds:return e.getMilliseconds();case da.Day:return e.getDay();default:throw new Error('Unknown DateType value "'.concat(t,'".'))}}(t,o);if((n>0||u>-n)&&(u+=n),t===da.Hours)0===u&&-12===n&&(u=12);else if(t===da.FractionalSeconds)return a=e,ma(u,3).substr(0,a);var l=oa(s,ea.MinusSign);return ma(u,e,l,r,i)}}function ga(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Js.Format,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(i,o){return function(t,e,n,r,i,o){switch(n){case pa.Months:return function(t,e,n){var r=mi(t),i=aa([r[di.MonthsFormat],r[di.MonthsStandalone]],e);return aa(i,n)}(e,i,r)[t.getMonth()];case pa.Days:return function(t,e,n){var r=mi(t),i=aa([r[di.DaysFormat],r[di.DaysStandalone]],e);return aa(i,n)}(e,i,r)[t.getDay()];case pa.DayPeriods:var s=t.getHours(),a=t.getMinutes();if(o){var u,l=function(t){var e=mi(t);return sa(e),(e[di.ExtraData][2]||[]).map((function(t){return"string"==typeof t?ua(t):[ua(t[0]),ua(t[1])]}))}(e),c=function(t,e,n){var r=mi(t);sa(r);var i=aa([r[di.ExtraData][0],r[di.ExtraData][1]],e)||[];return aa(i,n)||[]}(e,i,r);if(l.forEach((function(t,e){if(Array.isArray(t)){var n=t[0],r=n.hours,i=n.minutes,o=t[1],l=o.hours,h=o.minutes;s>=r&&a>=i&&(s<l||s===l&&a<h)&&(u=c[e])}else{var f=t.hours,d=t.minutes;f===s&&d===a&&(u=c[e])}})),u)return u}return function(t,e,n){var r=mi(t),i=aa([r[di.DayPeriodsFormat],r[di.DayPeriodsStandalone]],e);return aa(i,n)}(e,i,r)[s<12?0:1];case pa.Eras:return function(t,e){return aa(mi(t)[di.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type ".concat(n))}}(i,o,t,e,n,r)}}function _a(t){return function(e,n,r){var i=-1*r,o=oa(n,ea.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case fa.Short:return(i>=0?"+":"")+ma(s,2,o)+ma(Math.abs(i%60),2,o);case fa.ShortGMT:return"GMT"+(i>=0?"+":"")+ma(s,1,o);case fa.Long:return"GMT"+(i>=0?"+":"")+ma(s,2,o)+":"+ma(Math.abs(i%60),2,o);case fa.Extended:return 0===r?"Z":(i>=0?"+":"")+ma(s,2,o)+":"+ma(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'.concat(t,'"'))}}}function ba(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var i,o,s,a;if(e){var u=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,l=n.getDate();i=1+Math.floor((l+u)/7)}else{var c=(o=n.getFullYear(),s=new Date(o,0,1).getDay(),new Date(o,0,1+(s<=4?4:11)-s)),h=(a=n,new Date(a.getFullYear(),a.getMonth(),a.getDate()+(4-a.getDay()))).getTime()-c.getTime();i=1+Math.round(h/6048e5)}return ma(i,t,oa(r,ea.MinusSign))}}var wa={};function ka(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Ca(t){return t instanceof Date&&!isNaN(t.valueOf())}var Ea=new Et("UseV4Plurals"),Ta=function t(){_classCallCheck(this,t)},Sa=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).locale=t,i.deprecatedPluralFn=r,i}return _createClass(n,[{key:"getPluralCategory",value:function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return mi(t)[di.PluralCase]}(e||this.locale)(t)){case Xs.Zero:return"zero";case Xs.One:return"one";case Xs.Two:return"two";case Xs.Few:return"few";case Xs.Many:return"many";default:return"other"}}}]),n}(Ta),Ia=function(){function t(e,n,r,i){_classCallCheck(this,t),this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}return _createClass(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),Aa=function(){function t(e,n,r){_classCallCheck(this,t),this._viewContainer=e,this._template=n,this._differs=r,this._ngForOfDirty=!0,this._differ=null}return _createClass(t,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation((function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new Ia(null,e._ngForOf,-1,-1),null===i?void 0:i),s=new xa(t,o);n.push(s)}else if(null==i)e._viewContainer.remove(null===r?void 0:r);else if(null!==r){var a=e._viewContainer.get(r);e._viewContainer.move(a,i);var u=new xa(t,a);n.push(u)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var s=this._viewContainer.get(i);s.context.index=i,s.context.count=o,s.context.ngForOf=this._ngForOf}t.forEachIdentityChange((function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item}))}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}},{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(t){Kt()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(t),". ")+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}(),xa=function t(e,n){_classCallCheck(this,t),this.record=e,this.view=n},Na=function(){function t(e,n){_classCallCheck(this,t),this._viewContainer=e,this._context=new Da,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(t,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){Oa("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){Oa("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}}]),t}(),Da=function t(){_classCallCheck(this,t),this.$implicit=null,this.ngIf=null};function Oa(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(vt(e),"'."))}function Ra(t,e){return Error("InvalidPipeArgument: '".concat(e,"' for pipe '").concat(vt(t),"'"))}var Pa=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"createSubscription",value:function(t,e){return t.subscribe({next:e,error:function(t){throw t}})}},{key:"dispose",value:function(t){t.unsubscribe()}},{key:"onDestroy",value:function(t){t.unsubscribe()}}]),t}(),La=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"createSubscription",value:function(t,e){return t.then(e,(function(t){throw t}))}},{key:"dispose",value:function(t){}},{key:"onDestroy",value:function(t){}}]),t}()),Va=new Pa,Ma=function(){function t(e){_classCallCheck(this,t),this._ref=e,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):Le(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,Me.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)}},{key:"_subscribe",value:function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,(function(n){return e._updateLatestValue(t,n)}))}},{key:"_selectStrategy",value:function(e){if(Ue(e))return La;if(Be(e))return Va;throw Ra(t,e)}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}]),t}(),Fa=function(){function t(e){_classCallCheck(this,t),this.locale=e}return _createClass(t,[{key:"transform",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(null==e||""===e||e!=e)return null;try{return function(t,e,n,r){var i=function(t){if(Ca(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();var e,n=parseFloat(t);if(!isNaN(t-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){var r=_slicedToArray(t.split("-").map((function(t){return+t})),3),i=r[0],o=r[1],s=r[2];return new Date(i,o-1,s)}if(e=t.match(la))return function(t){var e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));var s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,u,l),e}(e)}var a=new Date(t);if(!Ca(a))throw new Error('Unable to convert "'.concat(t,'" into a date'));return a}(t);e=function t(e,n){var r=function(t){return mi(t)[di.LocaleId]}(e);if(ca[r]=ca[r]||{},ca[r][n])return ca[r][n];var i="";switch(n){case"shortDate":i=na(e,ta.Short);break;case"mediumDate":i=na(e,ta.Medium);break;case"longDate":i=na(e,ta.Long);break;case"fullDate":i=na(e,ta.Full);break;case"shortTime":i=ra(e,ta.Short);break;case"mediumTime":i=ra(e,ta.Medium);break;case"longTime":i=ra(e,ta.Long);break;case"fullTime":i=ra(e,ta.Full);break;case"short":var o=t(e,"shortTime"),s=t(e,"shortDate");i=va(ia(e,ta.Short),[o,s]);break;case"medium":var a=t(e,"mediumTime"),u=t(e,"mediumDate");i=va(ia(e,ta.Medium),[a,u]);break;case"long":var l=t(e,"longTime"),c=t(e,"longDate");i=va(ia(e,ta.Long),[l,c]);break;case"full":var h=t(e,"fullTime"),f=t(e,"fullDate");i=va(ia(e,ta.Full),[h,f])}return i&&(ca[r][n]=i),i}(n,e)||e;for(var o,s=[];e;){if(!(o=ha.exec(e))){s.push(e);break}var a=(s=s.concat(o.slice(1))).pop();if(!a)break;e=a}var u=i.getTimezoneOffset();r&&(u=ka(r,u),i=function(t,e,n){var r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(ka(e,r)-r))}(i,r));var l="";return s.forEach((function(t){var e=function(t){if(wa[t])return wa[t];var e;switch(t){case"G":case"GG":case"GGG":e=ga(pa.Eras,$s.Abbreviated);break;case"GGGG":e=ga(pa.Eras,$s.Wide);break;case"GGGGG":e=ga(pa.Eras,$s.Narrow);break;case"y":e=ya(da.FullYear,1,0,!1,!0);break;case"yy":e=ya(da.FullYear,2,0,!0,!0);break;case"yyy":e=ya(da.FullYear,3,0,!1,!0);break;case"yyyy":e=ya(da.FullYear,4,0,!1,!0);break;case"M":case"L":e=ya(da.Month,1,1);break;case"MM":case"LL":e=ya(da.Month,2,1);break;case"MMM":e=ga(pa.Months,$s.Abbreviated);break;case"MMMM":e=ga(pa.Months,$s.Wide);break;case"MMMMM":e=ga(pa.Months,$s.Narrow);break;case"LLL":e=ga(pa.Months,$s.Abbreviated,Js.Standalone);break;case"LLLL":e=ga(pa.Months,$s.Wide,Js.Standalone);break;case"LLLLL":e=ga(pa.Months,$s.Narrow,Js.Standalone);break;case"w":e=ba(1);break;case"ww":e=ba(2);break;case"W":e=ba(1,!0);break;case"d":e=ya(da.Date,1);break;case"dd":e=ya(da.Date,2);break;case"E":case"EE":case"EEE":e=ga(pa.Days,$s.Abbreviated);break;case"EEEE":e=ga(pa.Days,$s.Wide);break;case"EEEEE":e=ga(pa.Days,$s.Narrow);break;case"EEEEEE":e=ga(pa.Days,$s.Short);break;case"a":case"aa":case"aaa":e=ga(pa.DayPeriods,$s.Abbreviated);break;case"aaaa":e=ga(pa.DayPeriods,$s.Wide);break;case"aaaaa":e=ga(pa.DayPeriods,$s.Narrow);break;case"b":case"bb":case"bbb":e=ga(pa.DayPeriods,$s.Abbreviated,Js.Standalone,!0);break;case"bbbb":e=ga(pa.DayPeriods,$s.Wide,Js.Standalone,!0);break;case"bbbbb":e=ga(pa.DayPeriods,$s.Narrow,Js.Standalone,!0);break;case"B":case"BB":case"BBB":e=ga(pa.DayPeriods,$s.Abbreviated,Js.Format,!0);break;case"BBBB":e=ga(pa.DayPeriods,$s.Wide,Js.Format,!0);break;case"BBBBB":e=ga(pa.DayPeriods,$s.Narrow,Js.Format,!0);break;case"h":e=ya(da.Hours,1,-12);break;case"hh":e=ya(da.Hours,2,-12);break;case"H":e=ya(da.Hours,1);break;case"HH":e=ya(da.Hours,2);break;case"m":e=ya(da.Minutes,1);break;case"mm":e=ya(da.Minutes,2);break;case"s":e=ya(da.Seconds,1);break;case"ss":e=ya(da.Seconds,2);break;case"S":e=ya(da.FractionalSeconds,1);break;case"SS":e=ya(da.FractionalSeconds,2);break;case"SSS":e=ya(da.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=_a(fa.Short);break;case"ZZZZZ":e=_a(fa.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=_a(fa.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=_a(fa.Long);break;default:return null}return wa[t]=e,e}(t);l+=e?e(i,n,u):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),l}(e,n,i||this.locale,r)}catch(o){throw Ra(t,o.message)}}}]),t}(),ja=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t){return JSON.stringify(t,null,2)}}]),t}(),Ua=function t(){_classCallCheck(this,t)},Ba=new Et("DocumentToken");function qa(t){return"server"===t}var za=null;function Ha(){return za}var Ga,Ka={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Wa={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Qa={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Za=function(){if(Ct.Node)return Ct.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))}}(),Ya=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"parse",value:function(t){throw new Error("parse not implemented")}},{key:"hasProperty",value:function(t,e){return e in t}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"getProperty",value:function(t,e){return t[e]}},{key:"invoke",value:function(t,e,n){t[e].apply(t,_toConsumableArray(n))}},{key:"logError",value:function(t){window.console&&(console.error?console.error(t):console.log(t))}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"contains",value:function(t,e){return Za.call(t,e)}},{key:"querySelector",value:function(t,e){return t.querySelector(e)}},{key:"querySelectorAll",value:function(t,e){return t.querySelectorAll(e)}},{key:"on",value:function(t,e,n){t.addEventListener(e,n,!1)}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"createMouseEvent",value:function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e}},{key:"createEvent",value:function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e}},{key:"preventDefault",value:function(t){t.preventDefault(),t.returnValue=!1}},{key:"isPrevented",value:function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue}},{key:"getInnerHTML",value:function(t){return t.innerHTML}},{key:"getTemplateContent",value:function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null}},{key:"getOuterHTML",value:function(t){return t.outerHTML}},{key:"nodeName",value:function(t){return t.nodeName}},{key:"nodeValue",value:function(t){return t.nodeValue}},{key:"type",value:function(t){return t.type}},{key:"content",value:function(t){return this.hasProperty(t,"content")?t.content:t}},{key:"firstChild",value:function(t){return t.firstChild}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"parentElement",value:function(t){return t.parentNode}},{key:"childNodes",value:function(t){return t.childNodes}},{key:"childNodesAsList",value:function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n}},{key:"clearNodes",value:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"removeChild",value:function(t,e){t.removeChild(e)}},{key:"replaceChild",value:function(t,e,n){t.replaceChild(e,n)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"insertBefore",value:function(t,e,n){t.insertBefore(n,e)}},{key:"insertAllBefore",value:function(t,e,n){n.forEach((function(n){return t.insertBefore(n,e)}))}},{key:"insertAfter",value:function(t,e,n){t.insertBefore(n,e.nextSibling)}},{key:"setInnerHTML",value:function(t,e){t.innerHTML=e}},{key:"getText",value:function(t){return t.textContent}},{key:"setText",value:function(t,e){t.textContent=e}},{key:"getValue",value:function(t){return t.value}},{key:"setValue",value:function(t,e){t.value=e}},{key:"getChecked",value:function(t){return t.checked}},{key:"setChecked",value:function(t,e){t.checked=e}},{key:"createComment",value:function(t){return this.getDefaultDocument().createComment(t)}},{key:"createTemplate",value:function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createElementNS",value:function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)}},{key:"createTextNode",value:function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)}},{key:"createScriptTag",value:function(t,e,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r}},{key:"createStyleElement",value:function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n}},{key:"createShadowRoot",value:function(t){return t.createShadowRoot()}},{key:"getShadowRoot",value:function(t){return t.shadowRoot}},{key:"getHost",value:function(t){return t.host}},{key:"clone",value:function(t){return t.cloneNode(!0)}},{key:"getElementsByClassName",value:function(t,e){return t.getElementsByClassName(e)}},{key:"getElementsByTagName",value:function(t,e){return t.getElementsByTagName(e)}},{key:"classList",value:function(t){return Array.prototype.slice.call(t.classList,0)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"hasClass",value:function(t,e){return t.classList.contains(e)}},{key:"setStyle",value:function(t,e,n){t.style[e]=n}},{key:"removeStyle",value:function(t,e){t.style[e]=""}},{key:"getStyle",value:function(t,e){return t.style[e]}},{key:"hasStyle",value:function(t,e,n){var r=this.getStyle(t,e)||"";return n?r==n:r.length>0}},{key:"tagName",value:function(t){return t.tagName}},{key:"attributeMap",value:function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var i=n.item(r);e.set(i.name,i.value)}return e}},{key:"hasAttribute",value:function(t,e){return t.hasAttribute(e)}},{key:"hasAttributeNS",value:function(t,e,n){return t.hasAttributeNS(e,n)}},{key:"getAttribute",value:function(t,e){return t.getAttribute(e)}},{key:"getAttributeNS",value:function(t,e,n){return t.getAttributeNS(e,n)}},{key:"setAttribute",value:function(t,e,n){t.setAttribute(e,n)}},{key:"setAttributeNS",value:function(t,e,n,r){t.setAttributeNS(e,n,r)}},{key:"removeAttribute",value:function(t,e){t.removeAttribute(e)}},{key:"removeAttributeNS",value:function(t,e,n){t.removeAttributeNS(e,n)}},{key:"templateAwareRoot",value:function(t){return this.isTemplateElement(t)?this.content(t):t}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"getBoundingClientRect",value:function(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}},{key:"getTitle",value:function(t){return t.title}},{key:"setTitle",value:function(t,e){t.title=e||""}},{key:"elementMatches",value:function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))}},{key:"isTemplateElement",value:function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName}},{key:"isTextNode",value:function(t){return t.nodeType===Node.TEXT_NODE}},{key:"isCommentNode",value:function(t){return t.nodeType===Node.COMMENT_NODE}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"hasShadowRoot",value:function(t){return null!=t.shadowRoot&&t instanceof HTMLElement}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"importIntoDoc",value:function(t){return document.importNode(this.templateAwareRoot(t),!0)}},{key:"adoptNode",value:function(t){return document.adoptNode(t)}},{key:"getHref",value:function(t){return t.getAttribute("href")}},{key:"getEventKey",value:function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Qa.hasOwnProperty(e)&&(e=Qa[e]))}return Wa[e]||e}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=Xa||(Xa=document.querySelector("base"))?Xa.getAttribute("href"):null;return null==n?null:(e=n,Ga||(Ga=document.createElement("a")),Ga.setAttribute("href",e),"/"===Ga.pathname.charAt(0)?Ga.pathname:"/"+Ga.pathname)}},{key:"resetBaseElement",value:function(){Xa=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"setData",value:function(t,e,n){this.setAttribute(t,"data-"+e,n)}},{key:"getData",value:function(t,e){return this.getAttribute(t,"data-"+e)}},{key:"getComputedStyle",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return getComputedStyle(t)}))},{key:"supportsWebAnimation",value:function(){return"function"==typeof Element.prototype.animate}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return function(t,e){e=encodeURIComponent(e);var n,r=_createForOfIteratorHelper(t.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),s=_slicedToArray(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),a=s[0],u=s[1];if(a.trim()===e)return decodeURIComponent(u)}}catch(l){r.e(l)}finally{r.f()}return null}(document.cookie,t)}},{key:"setCookie",value:function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)}},{key:"attrToPropMap",get:function(){return Ka}}],[{key:"makeCurrent",value:function(){var t;t=new n,za||(za=t)}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;_classCallCheck(this,n),(t=e.call(this))._animationPrefix=null,t._transitionEnd=null;try{var r=t.createElement("div",document);if(null!=t.getStyle(r,"animationName"))t._animationPrefix="";else for(var i=["Webkit","Moz","O","ms"],o=0;o<i.length;o++)if(null!=t.getStyle(r,i[o]+"AnimationName")){t._animationPrefix="-"+i[o].toLowerCase()+"-";break}var s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(s).forEach((function(e){null!=t.getStyle(r,e)&&(t._transitionEnd=s[e])}))}catch(a){t._animationPrefix=null,t._transitionEnd=null}return t}return _createClass(n,[{key:"getDistributedNodes",value:function(t){return t.getDistributedNodes()}},{key:"resolveAndSetHref",value:function(t,e,n){t.href=null==n?e:e+"/../"+n}},{key:"supportsDOMEvents",value:function(){return!0}},{key:"supportsNativeShadowDOM",value:function(){return"function"==typeof document.body.createShadowRoot}},{key:"getAnimationPrefix",value:function(){return this._animationPrefix?this._animationPrefix:""}},{key:"getTransitionEnd",value:function(){return this._transitionEnd?this._transitionEnd:""}},{key:"supportsAnimation",value:function(){return null!=this._animationPrefix&&null!=this._transitionEnd}}]),n}(function(){function t(){_classCallCheck(this,t),this.resourceLoaderType=null}return _createClass(t,[{key:"attrToPropMap",get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t}}]),t}())),Xa=null;function Ja(){return!!window.history.pushState}var $a=new Et("TRANSITION_ID"),tu=[{provide:bi,useFactory:function(t,e,n){return function(){n.get(wi).donePromise.then((function(){var n=Ha();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter((function(e){return n.getAttribute(e,"ng-transition")===t})).forEach((function(t){return n.remove(t)}))}))}},deps:[$a,Ba,Te],multi:!0}],eu=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){Ct.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Ct.getAllAngularTestabilities=function(){return t.getAllTestabilities()},Ct.getAllAngularRootElements=function(){return t.getAllRootElements()},Ct.frameworkStabilizers||(Ct.frameworkStabilizers=[]),Ct.frameworkStabilizers.push((function(t){var e=Ct.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach((function(t){t.whenStable(i)}))}))}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?Ha().isShadowRoot(e)?this.findTestabilityInTree(t,Ha().getHost(e),!0):this.findTestabilityInTree(t,Ha().parentElement(e),!0):null}}],[{key:"init",value:function(){var e;e=new t,no=e}}]),t}();function nu(t,e){"undefined"!=typeof COMPILED&&COMPILED||((Ct.ng=Ct.ng||{})[t]=e)}var ru={ApplicationRef:co,NgZone:Ki};function iu(t){return yo(t)}var ou=new Et("EventManagerPlugins"),su=function(){function t(e,n){var r=this;_classCallCheck(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach((function(t){return t.manager=r})),this._plugins=e.slice().reverse()}return _createClass(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event ".concat(t))}}]),t}(),au=function(){function t(e){_classCallCheck(this,t),this._doc=e}return _createClass(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=Ha().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),uu=function(){function t(){_classCallCheck(this,t),this._stylesSet=new Set}return _createClass(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach((function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}(),lu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(t.head),r}return _createClass(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach((function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))}))}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach((function(n){return e._addStylesToHost(t,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(t){return Ha().remove(t)}))}}]),n}(uu),cu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},hu=/%COMP%/g;function fu(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?fu(t,i,n):(i=i.replace(hu,t),n.push(i))}return n}function du(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var pu=function(){function t(e,n,r){_classCallCheck(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new vu(e)}return _createClass(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Ft.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new gu(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case Ft.Native:case Ft.ShadowDom:return new _u(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=fu(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}(),vu=function(){function t(e){_classCallCheck(this,t),this.eventManager=e,this.data=Object.create(null)}return _createClass(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(cu[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=cu[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=cu[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,r){r&tn.DashCase?t.style.setProperty(e,n,r&tn.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&tn.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){yu(e,"property"),t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return yu(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,du(n)):this.eventManager.addEventListener(t,e,du(n))}}]),t}(),mu="@".charCodeAt(0);function yu(t,e){if(t.charCodeAt(0)===mu)throw new Error("Found the synthetic ".concat(e," ").concat(t,'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.'))}var gu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var s;_classCallCheck(this,n),(s=e.call(this,t)).component=i;var a,u=fu(o+"-"+i.id,i.styles,[]);return r.addStyles(u),s.contentAttr="_ngcontent-%COMP%".replace(hu,o+"-"+i.id),s.hostAttr=(a=o+"-"+i.id,"_nghost-%COMP%".replace(hu,a)),s}return _createClass(n,[{key:"applyToHost",value:function(t){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,t,e);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(vu),_u=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var s;_classCallCheck(this,n),(s=e.call(this,t)).sharedStylesHost=r,s.hostEl=i,s.component=o,s.shadowRoot=o.encapsulation===Ft.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),s.sharedStylesHost.addHost(s.shadowRoot);for(var a=fu(o.id,o.styles,[]),u=0;u<a.length;u++){var l=document.createElement("style");l.textContent=a[u],s.shadowRoot.appendChild(l)}return s}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(vu),bu="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},wu=bu("addEventListener"),ku=bu("removeEventListener"),Cu={},Eu="__zone_symbol__propagationStopped",Tu=function(){var t="undefined"!=typeof Zone&&Zone[bu("BLACK_LISTED_EVENTS")];if(t){var e={};return t.forEach((function(t){e[t]=t})),e}}(),Su=function(t){return!!Tu&&Tu.hasOwnProperty(t)},Iu=function(t){var e=Cu[t.type];if(e){var n=this[e];if(n){var r=[t];if(1===n.length){var i=n[0];return i.zone!==Zone.current?i.zone.run(i.handler,this,r):i.handler.apply(this,r)}for(var o=n.slice(),s=0;s<o.length&&!0!==t[Eu];s++){var a=o[s];a.zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r)}}}},Au=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).ngZone=r,i&&qa(i)||o.patchEvent(),o}return _createClass(n,[{key:"patchEvent",value:function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Eu]=!0),t&&t.apply(this,arguments)}}}},{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this,i=n;if(!t[wu]||Ki.isInAngularZone()&&!Su(e))t.addEventListener(e,i,!1);else{var o=Cu[e];o||(o=Cu[e]=bu("ANGULAR"+e+"FALSE"));var s=t[o],a=s&&s.length>0;s||(s=t[o]=[]);var u=Su(e)?Zone.root:Zone.current;if(0===s.length)s.push({zone:u,handler:i});else{for(var l=!1,c=0;c<s.length;c++)if(s[c].handler===i){l=!0;break}l||s.push({zone:u,handler:i})}a||t[wu](e,Iu,!1)}return function(){return r.removeEventListener(t,e,i)}}},{key:"removeEventListener",value:function(t,e,n){var r=t[ku];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);var i=Cu[e],o=i&&t[i];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);for(var s=!1,a=0;a<o.length;a++)if(o[a].handler===n){s=!0,o.splice(a,1);break}s?0===o.length&&r.apply(t,[e,Iu,!1]):t.removeEventListener.apply(t,[e,n,!1])}}]),n}(au),xu={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Nu=new Et("HammerGestureConfig"),Du=new Et("HammerLoader"),Ou=function(){function t(){_classCallCheck(this,t),this.events=[],this.overrides={}}return _createClass(t,[{key:"buildHammer",value:function(t){var e=new Hammer(t,this.options);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e}}]),t}(),Ru=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var s;return _classCallCheck(this,n),(s=e.call(this,t))._config=r,s.console=i,s.loader=o,s}return _createClass(n,[{key:"supports",value:function(t){return!(!xu.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn('The "'.concat(t,'" event cannot be bound because Hammer.JS is not ')+"loaded and no custom loader has been specified."),1))}},{key:"addEventListener",value:function(t,e,n){var r=this,i=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){var o=!1,s=function(){o=!0};return this.loader().then((function(){if(!window.Hammer)return r.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(s=function(){});o||(s=r.addEventListener(t,e,n))})).catch((function(){r.console.warn('The "'.concat(e,'" event cannot be bound because the custom ')+"Hammer.JS loader failed."),s=function(){}})),function(){s()}}return i.runOutsideAngular((function(){var o=r._config.buildHammer(t),s=function(t){i.runGuarded((function(){n(t)}))};return o.on(e,s),function(){o.off(e,s),"function"==typeof o.destroy&&o.destroy()}}))}},{key:"isCustomEvent",value:function(t){return this._config.events.indexOf(t)>-1}}]),n}(au),Pu=["alt","control","meta","shift"],Lu={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Vu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return Ha().onAndCancel(t,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(Pu.forEach((function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")})),o+=i,0!=e.length||0===i.length)return null;var s={};return s.domEventName=r,s.fullKey=o,s}},{key:"getEventFullKey",value:function(t){var e="",n=Ha().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Pu.forEach((function(r){r!=n&&(0,Lu[r])(t)&&(e+=r+".")})),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded((function(){return e(i)}))}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(au),Mu=function t(){_classCallCheck(this,t)},Fu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._doc=t,r}return _createClass(n,[{key:"sanitize",value:function(t,e){if(null==e)return null;switch(t){case pe.NONE:return e;case pe.HTML:return e instanceof Uu?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){var n=null;try{$t=$t||new Wt(t);var r=e?String(e):"";n=$t.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=$t.getInertBodyElement(r)}while(r!==o);var s=new le,a=s.sanitizeChildren(de(n)||n);return Kt()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n)for(var u=de(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}(this._doc,String(e)));case pe.STYLE:return e instanceof Bu?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";var e=t.match(ye);return e&&Yt(e[1])===e[1]||t.match(me)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Kt()&&console.warn("WARNING: sanitizing unsafe style value ".concat(t," (see http://g.co/ng/security#xss).")),"unsafe")}(e));case pe.SCRIPT:if(e instanceof qu)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case pe.URL:return e instanceof Hu||e instanceof zu?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Yt(String(e)));case pe.RESOURCE_URL:if(e instanceof Hu)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(t," (see http://g.co/ng/security#xss)"))}}},{key:"checkNotSafeValue",value:function(t,e){if(t instanceof ju)throw new Error("Required a safe ".concat(e,", got a ").concat(t.getTypeName()," ")+"(see http://g.co/ng/security#xss)")}},{key:"bypassSecurityTrustHtml",value:function(t){return new Uu(t)}},{key:"bypassSecurityTrustStyle",value:function(t){return new Bu(t)}},{key:"bypassSecurityTrustScript",value:function(t){return new qu(t)}},{key:"bypassSecurityTrustUrl",value:function(t){return new zu(t)}},{key:"bypassSecurityTrustResourceUrl",value:function(t){return new Hu(t)}}]),n}(Mu),ju=function(){function t(e){_classCallCheck(this,t),this.changingThisBreaksApplicationSecurity=e}return _createClass(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see http://g.co/ng/security#xss)"}}]),t}(),Uu=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(ju),Bu=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(ju),qu=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(ju),zu=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(ju),Hu=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(ju),Gu=oo(_o,"browser",[{provide:Si,useValue:"browser"},{provide:Ti,useValue:function(){Ya.makeCurrent(),eu.init()},multi:!0},{provide:Ys,useClass:function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._doc=t,r._init(),r}return _createClass(n,[{key:"_init",value:function(){this.location=Ha().getLocation(),this._history=Ha().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return Ha().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){Ha().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){Ha().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"pushState",value:function(t,e,n){Ja()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){Ja()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(Ys),deps:[Ba]},{provide:Ba,useFactory:function(){return document},deps:[]}]);function Ku(){return new zt}var Wu=function(){function t(e){if(_classCallCheck(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:ki,useValue:e.appId},{provide:$a,useExisting:ki},tu]}}}]),t}();"undefined"!=typeof window&&window;var Qu,Zu=new rn("8.2.3");function Yu(t){return null!=t&&"false"!=="".concat(t)}function Xu(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function Ju(t){return t instanceof Xe?t.nativeElement:t}try{Qu="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(_m){Qu=!1}var $u,tl,el=((tl=function t(e){_classCallCheck(this,t),this._platformId=e,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Qu)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}).ngInjectableDef=ft({factory:function(){return new tl(Dt(Si,8))},token:tl,providedIn:"root"}),tl),nl=function t(){_classCallCheck(this,t)};function rl(t){return function(){if(null==$u&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return $u=!0}}))}finally{$u=$u||!1}return $u}()?t:!!t.capture}var il,ol=function(){var t={NORMAL:0,NEGATED:1,INVERTED:2};return t[t.NORMAL]="NORMAL",t[t.NEGATED]="NEGATED",t[t.INVERTED]="INVERTED",t}();function sl(){if("object"!=typeof document||!document)return ol.NORMAL;if(!il){var t=document.createElement("div"),e=t.style;t.dir="rtl",e.height="1px",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";var n=document.createElement("div"),r=n.style;r.width="2px",r.height="1px",t.appendChild(n),document.body.appendChild(t),il=ol.NORMAL,0===t.scrollLeft&&(t.scrollLeft=1,il=0===t.scrollLeft?ol.NEGATED:ol.INVERTED),t.parentNode.removeChild(t)}return il}function al(t){var e=new w((function(e){e.next(t),e.complete()}));return e._isScalar=!0,e.value=t,e}var ul=new w((function(t){return t.complete()}));function ll(t){return t?function(t){return new w((function(e){return t.schedule((function(){return e.complete()}))}))}(t):ul}function cl(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];switch(N(r)?e.pop():r=void 0,e.length){case 0:return ll(r);case 1:return r?G(e,r):al(e[0]);default:return G(e,r)}}function hl(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){var n=e[e.length-1];N(n)?e.pop():n=null;var r=e.length;return function(){return Y(1)(cl.apply(void 0,arguments))}(1!==r||n?r>0?G(e,n):ll(n):al(e[0]),t)}}function fl(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.length?n.some((function(e){return t[e]})):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function dl(t,e,n){return function(r){return r.lift(new pl(t,e,n))}}var pl=function(){function t(e,n,r){_classCallCheck(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new vl(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),vl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,s){var a;return _classCallCheck(this,n),(a=e.call(this,t))._tapNext=_,a._tapError=_,a._tapComplete=_,a._tapError=o||_,a._tapComplete=s||_,r(i)?(a._context=_assertThisInitialized(a),a._tapNext=i):i&&(a._context=i,a._tapNext=i.next||_,a._tapError=i.error||_,a._tapComplete=i.complete||_),a}return _createClass(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(m),ml=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i.pending=!1,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){return _classCallCheck(this,n),e.call(this)}return _createClass(n,[{key:"schedule",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(d)),yl=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;_classCallCheck(this,t),this.SchedulerAction=e,this.now=n}return _createClass(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),gl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yl.now;return _classCallCheck(this,n),(r=e.call(this,t,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(r)?n.delegate.now():i()}))).actions=[],r.active=!1,r.scheduled=void 0,r}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,r):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(yl),_l=new gl(ml);function bl(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_l;return function(n){return n.lift(new wl(t,e))}}var wl=function(){function t(e,n){_classCallCheck(this,t),this.dueTime=e,this.scheduler=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new kl(t,this.dueTime,this.scheduler))}}]),t}(),kl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).dueTime=r,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return _createClass(n,[{key:"_next",value:function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Cl,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}},{key:"clearDebounce",value:function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}]),n}(m);function Cl(t){t.debouncedNext()}function El(t,e){return function(n){return n.lift(new Tl(t,e))}}var Tl=function(){function t(e,n){_classCallCheck(this,t),this.predicate=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Sl(t,this.predicate,this.thisArg))}}]),t}(),Sl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).predicate=r,o.thisArg=i,o.count=0,o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(m);function Il(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}Il.prototype=Object.create(Error.prototype);var Al=Il;function xl(t){return function(e){return 0===t?ll():e.lift(new Dl(t))}}var Nl,Dl=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new Al}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ol(t,this.total))}}]),t}(),Ol=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return _createClass(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(m),Rl=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments))._origin="program",t}return _createClass(n,[{key:"setFocusOrigin",value:function(t){return this._origin=t,this}},{key:"setActiveItem",value:function(t){_get(_getPrototypeOf(n.prototype),"setActiveItem",this).call(this,t),this.activeItem&&this.activeItem.focus(this._origin)}}]),n}(function(){function t(e){var n=this;_classCallCheck(this,t),this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new A,this._typeaheadSubscription=d.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._skipPredicateFn=function(t){return t.disabled},this._pressedLetters=[],this.tabOut=new A,this.change=new A,e instanceof _i&&e.changes.subscribe((function(t){if(n._activeItem){var e=t.toArray().indexOf(n._activeItem);e>-1&&e!==n._activeItemIndex&&(n._activeItemIndex=e)}}))}return _createClass(t,[{key:"skipPredicate",value:function(t){return this._skipPredicateFn=t,this}},{key:"withWrap",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._wrap=t,this}},{key:"withVerticalOrientation",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._vertical=t,this}},{key:"withHorizontalOrientation",value:function(t){return this._horizontal=t,this}},{key:"withAllowedModifierKeys",value:function(t){return this._allowedModifierKeys=t,this}},{key:"withTypeAhead",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;if(this._items.length&&this._items.some((function(t){return"function"!=typeof t.getLabel})))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(dl((function(e){return t._pressedLetters.push(e)})),bl(e),El((function(){return t._pressedLetters.length>0})),q((function(){return t._pressedLetters.join("")}))).subscribe((function(e){for(var n=t._getItemsArray(),r=1;r<n.length+1;r++){var i=(t._activeItemIndex+r)%n.length,o=n[i];if(!t._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(e)){t.setActiveItem(i);break}}t._pressedLetters=[]})),this}},{key:"setActiveItem",value:function(t){var e=this._activeItemIndex;this.updateActiveItem(t),this._activeItemIndex!==e&&this.change.next(this._activeItemIndex)}},{key:"onKeydown",value:function(t){var e=this,n=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every((function(n){return!t[n]||e._allowedModifierKeys.indexOf(n)>-1}));switch(n){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;default:return void((r||fl(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(n>=65&&n<=90||n>=48&&n<=57)&&this._letterKeyStream.next(String.fromCharCode(n))))}this._pressedLetters=[],t.preventDefault()}},{key:"setFirstItemActive",value:function(){this._setActiveItemByIndex(0,1)}},{key:"setLastItemActive",value:function(){this._setActiveItemByIndex(this._items.length-1,-1)}},{key:"setNextItemActive",value:function(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}},{key:"setPreviousItemActive",value:function(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}},{key:"updateActiveItem",value:function(t){var e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),r=e[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}},{key:"updateActiveItemIndex",value:function(t){this.updateActiveItem(t)}},{key:"_setActiveItemByDelta",value:function(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}},{key:"_setActiveInWrapMode",value:function(t){for(var e=this._getItemsArray(),n=1;n<=e.length;n++){var r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}},{key:"_setActiveInDefaultMode",value:function(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}},{key:"_setActiveItemByIndex",value:function(t,e){var n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}},{key:"_getItemsArray",value:function(){return this._items instanceof _i?this._items.toArray():this._items}},{key:"activeItemIndex",get:function(){return this._activeItemIndex}},{key:"activeItem",get:function(){return this._activeItem}}]),t}()),Pl=((Nl=function(){function t(e){_classCallCheck(this,t),this._platform=e}return _createClass(t,[{key:"isDisabled",value:function(t){return t.hasAttribute("disabled")}},{key:"isVisible",value:function(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}},{key:"isTabbable",value:function(t){if(!this._platform.isBrowser)return!1;var e,n=function(t){try{return t.frameElement}catch(_m){return null}}((e=t).ownerDocument&&e.ownerDocument.defaultView||window);if(n){var r=n&&n.nodeName.toLowerCase();if(-1===Vl(n))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===r)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(n))return!1}var i=t.nodeName.toLowerCase(),o=Vl(t);if(t.hasAttribute("contenteditable"))return-1!==o;if("iframe"===i)return!1;if("audio"===i){if(!t.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===i){if(!t.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==i||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){var e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&t.tabIndex>=0}},{key:"isFocusable",value:function(t){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){var e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||Ll(t))}(t)&&!this.isDisabled(t)&&this.isVisible(t)}}]),t}()).ngInjectableDef=ft({factory:function(){return new Nl(Dt(el))},token:Nl,providedIn:"root"}),Nl);function Ll(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;var e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Vl(t){if(!Ll(t))return null;var e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}var Ml,Fl,jl=function(){function t(e,n,r,i){var o=this,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_classCallCheck(this,t),this._element=e,this._checker=n,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=function(){return o.focusLastTabbableElement()},this.endAnchorListener=function(){return o.focusFirstTabbableElement()},this._enabled=!0,s||this.attachAnchors()}return _createClass(t,[{key:"destroy",value:function(){var t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null}},{key:"attachAnchors",value:function(){var t=this;return!!this._hasAttached||(this._ngZone.runOutsideAngular((function(){t._startAnchor||(t._startAnchor=t._createAnchor(),t._startAnchor.addEventListener("focus",t.startAnchorListener)),t._endAnchor||(t._endAnchor=t._createAnchor(),t._endAnchor.addEventListener("focus",t.endAnchorListener))})),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}},{key:"focusInitialElementWhenReady",value:function(){var t=this;return new Promise((function(e){t._executeOnStable((function(){return e(t.focusInitialElement())}))}))}},{key:"focusFirstTabbableElementWhenReady",value:function(){var t=this;return new Promise((function(e){t._executeOnStable((function(){return e(t.focusFirstTabbableElement())}))}))}},{key:"focusLastTabbableElementWhenReady",value:function(){var t=this;return new Promise((function(e){t._executeOnStable((function(){return e(t.focusLastTabbableElement())}))}))}},{key:"_getRegionBoundary",value:function(t){for(var e=this._element.querySelectorAll("[cdk-focus-region-".concat(t,"], ")+"[cdkFocusRegion".concat(t,"], ")+"[cdk-focus-".concat(t,"]")),n=0;n<e.length;n++)e[n].hasAttribute("cdk-focus-".concat(t))?console.warn("Found use of deprecated attribute 'cdk-focus-".concat(t,"', ")+"use 'cdkFocusRegion".concat(t,"' instead. The deprecated ")+"attribute will be removed in 8.0.0.",e[n]):e[n].hasAttribute("cdk-focus-region-".concat(t))&&console.warn("Found use of deprecated attribute 'cdk-focus-region-".concat(t,"', ")+"use 'cdkFocusRegion".concat(t,"' instead. The deprecated attribute ")+"will be removed in 8.0.0.",e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}},{key:"focusInitialElement",value:function(){var t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),Kt()&&!this._checker.isFocusable(t)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",t),t.focus(),!0):this.focusFirstTabbableElement()}},{key:"focusFirstTabbableElement",value:function(){var t=this._getRegionBoundary("start");return t&&t.focus(),!!t}},{key:"focusLastTabbableElement",value:function(){var t=this._getRegionBoundary("end");return t&&t.focus(),!!t}},{key:"hasAttached",value:function(){return this._hasAttached}},{key:"_getFirstTabbableElement",value:function(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;for(var e=t.children||t.childNodes,n=0;n<e.length;n++){var r=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(r)return r}return null}},{key:"_getLastTabbableElement",value:function(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;for(var e=t.children||t.childNodes,n=e.length-1;n>=0;n--){var r=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(r)return r}return null}},{key:"_createAnchor",value:function(){var t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}},{key:"_toggleAnchorTabIndex",value:function(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}},{key:"_executeOnStable",value:function(t){this._ngZone.isStable?t():this._ngZone.onStable.asObservable().pipe(xl(1)).subscribe(t)}},{key:"enabled",get:function(){return this._enabled},set:function(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}}]),t}(),Ul=((Ml=function(){function t(e,n,r){_classCallCheck(this,t),this._checker=e,this._ngZone=n,this._document=r}return _createClass(t,[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new jl(t,this._checker,this._ngZone,this._document,e)}}]),t}()).ngInjectableDef=ft({factory:function(){return new Ml(Dt(Pl),Dt(Ki),Dt(Ba))},token:Ml,providedIn:"root"}),Ml),Bl=rl({passive:!0,capture:!0}),ql=((Fl=function(){function t(e,n){var r=this;_classCallCheck(this,t),this._ngZone=e,this._platform=n,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._documentKeydownListener=function(){r._lastTouchTarget=null,r._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=function(){r._lastTouchTarget||r._setOriginForCurrentEventQueue("mouse")},this._documentTouchstartListener=function(t){null!=r._touchTimeoutId&&clearTimeout(r._touchTimeoutId),r._lastTouchTarget=t.composedPath?t.composedPath()[0]:t.target,r._touchTimeoutId=setTimeout((function(){return r._lastTouchTarget=null}),650)},this._windowFocusListener=function(){r._windowFocused=!0,r._windowFocusTimeoutId=setTimeout((function(){return r._windowFocused=!1}))}}return _createClass(t,[{key:"monitor",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._platform.isBrowser)return cl(null);var r=Ju(t);if(this._elementInfo.has(r)){var i=this._elementInfo.get(r);return i.checkChildren=n,i.subject.asObservable()}var o={unlisten:function(){},checkChildren:n,subject:new A};this._elementInfo.set(r,o),this._incrementMonitoredElementCount();var s=function(t){return e._onFocus(t,r)},a=function(t){return e._onBlur(t,r)};return this._ngZone.runOutsideAngular((function(){r.addEventListener("focus",s,!0),r.addEventListener("blur",a,!0)})),o.unlisten=function(){r.removeEventListener("focus",s,!0),r.removeEventListener("blur",a,!0)},o.subject.asObservable()}},{key:"stopMonitoring",value:function(t){var e=Ju(t),n=this._elementInfo.get(e);n&&(n.unlisten(),n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._decrementMonitoredElementCount())}},{key:"focusVia",value:function(t,e,n){var r=Ju(t);this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n)}},{key:"ngOnDestroy",value:function(){var t=this;this._elementInfo.forEach((function(e,n){return t.stopMonitoring(n)}))}},{key:"_toggleClass",value:function(t,e,n){n?t.classList.add(e):t.classList.remove(e)}},{key:"_setClasses",value:function(t,e){this._elementInfo.get(t)&&(this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e))}},{key:"_setOriginForCurrentEventQueue",value:function(t){var e=this;this._ngZone.runOutsideAngular((function(){e._origin=t,e._originTimeoutId=setTimeout((function(){return e._origin=null}),1)}))}},{key:"_wasCausedByTouch",value:function(t){var e=t.target;return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}},{key:"_onFocus",value:function(t,e){var n=this._elementInfo.get(e);if(n&&(n.checkChildren||e===t.target)){var r=this._origin;r||(r=this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"),this._setClasses(e,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}}},{key:"_onBlur",value:function(t,e){var n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}},{key:"_emitOrigin",value:function(t,e){this._ngZone.run((function(){return t.next(e)}))}},{key:"_incrementMonitoredElementCount",value:function(){var t=this;1==++this._monitoredElementCount&&this._platform.isBrowser&&this._ngZone.runOutsideAngular((function(){document.addEventListener("keydown",t._documentKeydownListener,Bl),document.addEventListener("mousedown",t._documentMousedownListener,Bl),document.addEventListener("touchstart",t._documentTouchstartListener,Bl),window.addEventListener("focus",t._windowFocusListener)}))}},{key:"_decrementMonitoredElementCount",value:function(){--this._monitoredElementCount||(document.removeEventListener("keydown",this._documentKeydownListener,Bl),document.removeEventListener("mousedown",this._documentMousedownListener,Bl),document.removeEventListener("touchstart",this._documentTouchstartListener,Bl),window.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId))}}]),t}()).ngInjectableDef=ft({factory:function(){return new Fl(Dt(Ki),Dt(el))},token:Fl,providedIn:"root"}),Fl),zl=new rn("8.2.3"),Hl=new Et("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),Gl=function(){function t(e,n){_classCallCheck(this,t),this._sanityChecksEnabled=e,this._hammerLoader=n,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}return _createClass(t,[{key:"_areChecksEnabled",value:function(){return this._sanityChecksEnabled&&Kt()&&!this._isTestEnv()}},{key:"_isTestEnv",value:function(){var t=this._window;return t&&(t.__karma__||t.jasmine)}},{key:"_checkDoctypeIsDefined",value:function(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}},{key:"_checkThemeIsPresent",value:function(){if(this._document&&this._document.body&&"function"==typeof getComputedStyle){var t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);var e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}}},{key:"_checkCdkVersionMatch",value:function(){zl.full!==Zu.full&&console.warn("The Angular Material version ("+zl.full+") does not match the Angular CDK version ("+Zu.full+").\nPlease ensure the versions of these two packages exactly match.")}},{key:"_checkHammerIsAvailable",value:function(){!this._hasCheckedHammer&&this._window&&(!this._areChecksEnabled()||this._window.Hammer||this._hammerLoader||console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)}}]),t}();function Kl(t,e){return function(t){_inherits(r,t);var n=_createSuper(r);function r(){var t;_classCallCheck(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(t=n.call.apply(n,[this].concat(o))).color=e,t}return _createClass(r,[{key:"color",get:function(){return this._color},set:function(t){var n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-".concat(this._color)),n&&this._elementRef.nativeElement.classList.add("mat-".concat(n)),this._color=n)}}]),r}(t)}function Wl(t){return function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;_classCallCheck(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i)))._disableRipple=!1,t}return _createClass(n,[{key:"disableRipple",get:function(){return this._disableRipple},set:function(t){this._disableRipple=Yu(t)}}]),n}(t)}try{"undefined"!=typeof Intl}catch(_m){!1}var Ql,Zl=((Ql=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"isErrorState",value:function(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}]),t}()).ngInjectableDef=ft({factory:function(){return new Ql},token:Ql,providedIn:"root"}),Ql);function Yl(t,e,n){var r=t.nativeElement.classList;n?r.add(e):r.remove(e)}var Xl,Jl=function t(){_classCallCheck(this,t)},$l=function(){var t={FADING_IN:0,VISIBLE:1,FADING_OUT:2,HIDDEN:3};return t[t.FADING_IN]="FADING_IN",t[t.VISIBLE]="VISIBLE",t[t.FADING_OUT]="FADING_OUT",t[t.HIDDEN]="HIDDEN",t}(),tc=function(){function t(e,n,r){_classCallCheck(this,t),this._renderer=e,this.element=n,this.config=r,this.state=$l.HIDDEN}return _createClass(t,[{key:"fadeOut",value:function(){this._renderer.fadeOutRipple(this)}}]),t}(),ec={enterDuration:450,exitDuration:400},nc=rl({passive:!0}),rc=function(){function t(e,n,r,i){var o=this;_classCallCheck(this,t),this._target=e,this._ngZone=n,this._isPointerDown=!1,this._triggerEvents=new Map,this._activeRipples=new Set,this._onMousedown=function(t){var e=function(t){return 0===t.buttons}(t),n=o._lastTouchStartEvent&&Date.now()<o._lastTouchStartEvent+800;o._target.rippleDisabled||e||n||(o._isPointerDown=!0,o.fadeInRipple(t.clientX,t.clientY,o._target.rippleConfig))},this._onTouchStart=function(t){if(!o._target.rippleDisabled){o._lastTouchStartEvent=Date.now(),o._isPointerDown=!0;for(var e=t.changedTouches,n=0;n<e.length;n++)o.fadeInRipple(e[n].clientX,e[n].clientY,o._target.rippleConfig)}},this._onPointerUp=function(){o._isPointerDown&&(o._isPointerDown=!1,o._activeRipples.forEach((function(t){!t.config.persistent&&(t.state===$l.VISIBLE||t.config.terminateOnPointerUp&&t.state===$l.FADING_IN)&&t.fadeOut()})))},i.isBrowser&&(this._containerElement=Ju(r),this._triggerEvents.set("mousedown",this._onMousedown).set("mouseup",this._onPointerUp).set("mouseleave",this._onPointerUp).set("touchstart",this._onTouchStart).set("touchend",this._onPointerUp).set("touchcancel",this._onPointerUp))}return _createClass(t,[{key:"fadeInRipple",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Object.assign({},ec,r.animation);r.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);var s=r.radius||function(t,e,n){var r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,i),a=t-i.left,u=e-i.top,l=o.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left="".concat(a-s,"px"),c.style.top="".concat(u-s,"px"),c.style.height="".concat(2*s,"px"),c.style.width="".concat(2*s,"px"),c.style.backgroundColor=r.color||null,c.style.transitionDuration="".concat(l,"ms"),this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";var h=new tc(this,c,r);return h.state=$l.FADING_IN,this._activeRipples.add(h),r.persistent||(this._mostRecentTransientRipple=h),this._runTimeoutOutsideZone((function(){var t=h===n._mostRecentTransientRipple;h.state=$l.VISIBLE,r.persistent||t&&n._isPointerDown||h.fadeOut()}),l),h}},{key:"fadeOutRipple",value:function(t){var e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),e){var n=t.element,r=Object.assign({},ec,t.config.animation);n.style.transitionDuration="".concat(r.exitDuration,"ms"),n.style.opacity="0",t.state=$l.FADING_OUT,this._runTimeoutOutsideZone((function(){t.state=$l.HIDDEN,n.parentNode.removeChild(n)}),r.exitDuration)}}},{key:"fadeOutAll",value:function(){this._activeRipples.forEach((function(t){return t.fadeOut()}))}},{key:"setupTriggerEvents",value:function(t){var e=this,n=Ju(t);n&&n!==this._triggerElement&&(this._removeTriggerEvents(),this._ngZone.runOutsideAngular((function(){e._triggerEvents.forEach((function(t,e){n.addEventListener(e,t,nc)}))})),this._triggerElement=n)}},{key:"_runTimeoutOutsideZone",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._ngZone.runOutsideAngular((function(){return setTimeout(t,e)}))}},{key:"_removeTriggerEvents",value:function(){var t=this;this._triggerElement&&this._triggerEvents.forEach((function(e,n){t._triggerElement.removeEventListener(n,e,nc)}))}}]),t}(),ic=new Et("mat-ripple-global-options"),oc=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this._elementRef=e,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=i||{},this._rippleRenderer=new rc(this,n,e,r),"NoopAnimations"===o&&(this._globalOptions.animation={enterDuration:0,exitDuration:0})}return _createClass(t,[{key:"ngOnInit",value:function(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}},{key:"ngOnDestroy",value:function(){this._rippleRenderer._removeTriggerEvents()}},{key:"fadeOutAll",value:function(){this._rippleRenderer.fadeOutAll()}},{key:"_setupTriggerEventsIfEnabled",value:function(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}},{key:"launch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign({},this.rippleConfig,n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign({},this.rippleConfig,t))}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}},{key:"trigger",get:function(){return this._trigger||this._elementRef.nativeElement},set:function(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}},{key:"rippleConfig",get:function(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign({},this._globalOptions.animation,this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}},{key:"rippleDisabled",get:function(){return this.disabled||!!this._globalOptions.disabled}}]),t}(),sc=function t(){_classCallCheck(this,t)},ac=function t(){_classCallCheck(this,t)},uc=Kl((function t(e){_classCallCheck(this,t),this._elementRef=e})),lc=function t(){_classCallCheck(this,t)},cc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t))._platform=r,o._document=i,o}return _createClass(n,[{key:"ngAfterViewInit",value:function(){var t=this;Kt()&&this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe((function(){return t._checkToolbarMixedModes()})))}},{key:"_checkToolbarMixedModes",value:function(){var t=this;this._toolbarRows.length&&Array.from(this._elementRef.nativeElement.childNodes).filter((function(t){return!(t.classList&&t.classList.contains("mat-toolbar-row"))})).filter((function(e){return e.nodeType!==(t._document?t._document.COMMENT_NODE:8)})).some((function(t){return!(!t.textContent||!t.textContent.trim())}))&&function(){throw Error("MatToolbar: Attempting to combine different toolbar modes. Either specify multiple `<mat-toolbar-row>` elements explicitly or just place content inside of a `<mat-toolbar>` for a single row.")}()}}]),n}(uc),hc=function t(){_classCallCheck(this,t)},fc=new Et("cdk-dir-doc",{providedIn:"root",factory:function(){return Ot(Ba)}}),dc=((Xl=function(){function t(e){if(_classCallCheck(this,t),this.value="ltr",this.change=new yi,e){var n=e.documentElement?e.documentElement.dir:null,r=(e.body?e.body.dir:null)||n;this.value="ltr"===r||"rtl"===r?r:"ltr"}}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),t}()).ngInjectableDef=ft({factory:function(){return new Xl(Dt(fc,8))},token:Xl,providedIn:"root"}),Xl),pc=function t(){_classCallCheck(this,t)},vc=Un({encapsulation:2,styles:["@media (-ms-high-contrast:active){.mat-toolbar{outline:solid 1px}}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}.mat-toolbar-multiple-rows{min-height:64px}.mat-toolbar-row,.mat-toolbar-single-row{height:64px}@media (max-width:599px){.mat-toolbar-multiple-rows{min-height:56px}.mat-toolbar-row,.mat-toolbar-single-row{height:56px}}"],data:{}});function mc(t){return qo(2,[Vo(null,0),Vo(null,1)],null,null)}var yc=function t(){_classCallCheck(this,t)};function gc(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:t,options:e}}function _c(t){return{type:6,styles:t,offset:null}}function bc(t){Promise.resolve(null).then(t)}var wc=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+n}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var t=this;bc((function(){return t._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(t){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}(),kc=function(){function t(e){var n=this;_classCallCheck(this,t),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;var r=0,i=0,o=0,s=this.players.length;0==s?bc((function(){return n._onFinish()})):this.players.forEach((function(t){t.onDone((function(){++r==s&&n._onFinish()})),t.onDestroy((function(){++i==s&&n._onDestroy()})),t.onStart((function(){++o==s&&n._onStart()}))})),this.totalTime=this.players.reduce((function(t,e){return Math.max(t,e.totalTime)}),0)}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(t){return t.init()}))}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[])}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(t){return t.play()}))}},{key:"pause",value:function(){this.players.forEach((function(t){return t.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(t){return t.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(t){return t.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(t){return t.destroy()})),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(t){return t.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(t){var e=t*this.totalTime;this.players.forEach((function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)}))}},{key:"getPosition",value:function(){var t=0;return this.players.forEach((function(e){var n=e.getPosition();t=Math.min(n,t)})),t}},{key:"beforeDestroy",value:function(){this.players.forEach((function(t){t.beforeDestroy&&t.beforeDestroy()}))}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}();function Cc(t,e,n,i){return r(n)&&(i=n,n=void 0),i?Cc(t,e,n).pipe(q((function(t){return u(t)?i.apply(void 0,_toConsumableArray(t)):i(t)}))):new w((function(r){!function t(e,n,r,i,o){var s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var a=e;e.addEventListener(n,r,o),s=function(){return a.removeEventListener(n,r,o)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var u=e;e.on(n,r),s=function(){return u.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var l=e;e.addListener(n,r),s=function(){return l.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var c=0,h=e.length;c<h;c++)t(e[c],n,r,i,o)}i.add(s)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)}))}var Ec=1,Tc={},Sc=function(t){var e=Ec++;return Tc[e]=t,Promise.resolve().then((function(){return function(t){var e=Tc[t];e&&e()}(e)})),e},Ic=function(t){delete Tc[t]},Ac=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return _createClass(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=Sc(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(Ic(e),t.scheduled=void 0)}}]),n}(ml),xc=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(gl))(Ac),Nc=function(){function t(e,n){_classCallCheck(this,t),this.compare=e,this.keySelector=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Dc(t,this.compare,this.keySelector))}}]),t}(),Dc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return _createClass(n,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}]),n}(m),Oc=function(){function t(e){_classCallCheck(this,t),this.durationSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Rc(t,this.durationSelector))}}]),t}(),Rc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).durationSelector=r,i.hasValue=!1,i}return _createClass(n,[{key:"_next",value:function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e;try{e=(0,this.durationSelector)(t)}catch(r){return this.destination.error(r)}var n=U(this,e);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}},{key:"notifyNext",value:function(t,e,n,r){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),n}(B);function Pc(t){return!u(t)&&t-parseFloat(t)+1>=0}function Lc(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function Vc(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_l;return e=function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=-1;return Pc(e)?r=Number(e)<1?1:Number(e):N(e)&&(n=e),N(n)||(n=_l),new w((function(e){var i=Pc(t)?t:+t-n.now();return n.schedule(Lc,i,{index:0,period:r,subscriber:e})}))}(t,n)},function(t){return t.lift(new Oc(e))}}function Mc(t){return function(e){return e.lift(new jc(t))}}var Fc,jc=function(){function t(e){_classCallCheck(this,t),this.notifier=e}return _createClass(t,[{key:"call",value:function(t,e){var n=new Uc(t),r=U(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}]),t}(),Uc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t)).seenValue=!1,r}return _createClass(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(B),Bc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,r):t.flush(this)}}]),n}(ml),qc=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(gl))(Bc),zc=((Fc=function(){function t(e,n,r){_classCallCheck(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return _createClass(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return cl(this.value);case"E":return t=this.error,new w((function(e){return e.error(t)}));case"C":return ll()}var t;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}()).completeNotification=new Fc("C"),Fc.undefinedValueNotification=new Fc("N",void 0),Fc);function Hc(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new Gc(t,e))}}var Gc=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Kc(t,this.scheduler,this.delay))}}]),t}(),Kc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(i=e.call(this,t)).scheduler=r,i.delay=o,i}return _createClass(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new Wc(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(zc.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(zc.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(zc.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(m),Wc=function t(e,n){_classCallCheck(this,t),this.notification=e,this.destination=n};function Qc(t){return t&&"function"==typeof t.connect}var Zc,Yc,Xc=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1?arguments[1]:void 0,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];_classCallCheck(this,t),this._multiple=n,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new A,this.onChange=this.changed,r&&r.length&&(n?r.forEach((function(t){return e._markSelected(t)})):this._markSelected(r[0]),this._selectedToEmit.length=0)}return _createClass(t,[{key:"select",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this._verifyValueAssignment(n),n.forEach((function(e){return t._markSelected(e)})),this._emitChangeEvent()}},{key:"deselect",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this._verifyValueAssignment(n),n.forEach((function(e){return t._unmarkSelected(e)})),this._emitChangeEvent()}},{key:"toggle",value:function(t){this.isSelected(t)?this.deselect(t):this.select(t)}},{key:"clear",value:function(){this._unmarkAll(),this._emitChangeEvent()}},{key:"isSelected",value:function(t){return this._selection.has(t)}},{key:"isEmpty",value:function(){return 0===this._selection.size}},{key:"hasValue",value:function(){return!this.isEmpty()}},{key:"sort",value:function(t){this._multiple&&this.selected&&this._selected.sort(t)}},{key:"isMultipleSelection",value:function(){return this._multiple}},{key:"_emitChangeEvent",value:function(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}},{key:"_markSelected",value:function(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}},{key:"_unmarkSelected",value:function(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}},{key:"_unmarkAll",value:function(){var t=this;this.isEmpty()||this._selection.forEach((function(e){return t._unmarkSelected(e)}))}},{key:"_verifyValueAssignment",value:function(t){if(t.length>1&&!this._multiple)throw Error("Cannot pass multiple values into SelectionModel with single-value mode.")}},{key:"selected",get:function(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}}]),t}(),Jc=((Zc=function(){function t(e,n){_classCallCheck(this,t),this._ngZone=e,this._platform=n,this._scrolled=new A,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map}return _createClass(t,[{key:"register",value:function(t){var e=this;this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe((function(){return e._scrolled.next(t)})))}},{key:"deregister",value:function(t){var e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}},{key:"scrolled",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this._platform.isBrowser?new w((function(n){t._globalSubscription||t._addGlobalListener();var r=e>0?t._scrolled.pipe(Vc(e)).subscribe(n):t._scrolled.subscribe(n);return t._scrolledCount++,function(){r.unsubscribe(),t._scrolledCount--,t._scrolledCount||t._removeGlobalListener()}})):cl()}},{key:"ngOnDestroy",value:function(){var t=this;this._removeGlobalListener(),this.scrollContainers.forEach((function(e,n){return t.deregister(n)})),this._scrolled.complete()}},{key:"ancestorScrolled",value:function(t,e){var n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(El((function(t){return!t||n.indexOf(t)>-1})))}},{key:"getAncestorScrollContainers",value:function(t){var e=this,n=[];return this.scrollContainers.forEach((function(r,i){e._scrollableContainsElement(i,t)&&n.push(i)})),n}},{key:"_scrollableContainsElement",value:function(t,e){var n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}},{key:"_addGlobalListener",value:function(){var t=this;this._globalSubscription=this._ngZone.runOutsideAngular((function(){return Cc(window.document,"scroll").subscribe((function(){return t._scrolled.next()}))}))}},{key:"_removeGlobalListener",value:function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}]),t}()).ngInjectableDef=ft({factory:function(){return new Zc(Dt(Ki),Dt(el))},token:Zc,providedIn:"root"}),Zc),$c=function(){function t(e,n,r,i){var o=this;_classCallCheck(this,t),this.elementRef=e,this.scrollDispatcher=n,this.ngZone=r,this.dir=i,this._destroyed=new A,this._elementScrolled=new w((function(t){return o.ngZone.runOutsideAngular((function(){return Cc(o.elementRef.nativeElement,"scroll").pipe(Mc(o._destroyed)).subscribe(t)}))}))}return _createClass(t,[{key:"ngOnInit",value:function(){this.scrollDispatcher.register(this)}},{key:"ngOnDestroy",value:function(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}},{key:"elementScrolled",value:function(){return this._elementScrolled}},{key:"getElementRef",value:function(){return this.elementRef}},{key:"scrollTo",value:function(t){var e=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;t.left=null==t.left?n?t.end:t.start:t.left,t.right=null==t.right?n?t.start:t.end:t.right,null!=t.bottom&&(t.top=e.scrollHeight-e.clientHeight-t.bottom),n&&sl()!=ol.NORMAL?(null!=t.left&&(t.right=e.scrollWidth-e.clientWidth-t.left),sl()==ol.INVERTED?t.left=t.right:sl()==ol.NEGATED&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=e.scrollWidth-e.clientWidth-t.right),this._applyScrollToOptions(t)}},{key:"_applyScrollToOptions",value:function(t){var e=this.elementRef.nativeElement;"object"==typeof document&&"scrollBehavior"in document.documentElement.style?e.scrollTo(t):(null!=t.top&&(e.scrollTop=t.top),null!=t.left&&(e.scrollLeft=t.left))}},{key:"measureScrollOffset",value:function(t){var e=this.elementRef.nativeElement;if("top"==t)return e.scrollTop;if("bottom"==t)return e.scrollHeight-e.clientHeight-e.scrollTop;var n=this.dir&&"rtl"==this.dir.value;return"start"==t?t=n?"right":"left":"end"==t&&(t=n?"left":"right"),n&&sl()==ol.INVERTED?"left"==t?e.scrollWidth-e.clientWidth-e.scrollLeft:e.scrollLeft:n&&sl()==ol.NEGATED?"left"==t?e.scrollLeft+e.scrollWidth-e.clientWidth:-e.scrollLeft:"left"==t?e.scrollLeft:e.scrollWidth-e.clientWidth-e.scrollLeft}}]),t}(),th=function t(){_classCallCheck(this,t)},eh=((Yc=function(){function t(e,n){var r=this;_classCallCheck(this,t),this._platform=e,n.runOutsideAngular((function(){r._change=e.isBrowser?X(Cc(window,"resize"),Cc(window,"orientationchange")):cl(),r._invalidateCache=r.change().subscribe((function(){return r._updateViewportSize()}))}))}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._invalidateCache.unsubscribe()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}},{key:"getViewportRect",value:function(){var t=this.getViewportScrollPosition(),e=this.getViewportSize(),n=e.width,r=e.height;return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+n,height:r,width:n}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var t=document.documentElement,e=t.getBoundingClientRect();return{top:-e.top||document.body.scrollTop||window.scrollY||t.scrollTop||0,left:-e.left||document.body.scrollLeft||window.scrollX||t.scrollLeft||0}}},{key:"change",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return t>0?this._change.pipe(Vc(t)):this._change}},{key:"_updateViewportSize",value:function(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}}}]),t}()).ngInjectableDef=ft({factory:function(){return new Yc(Dt(el),Dt(Ki))},token:Yc,providedIn:"root"}),Yc);function nh(t){throw Error("A drawer was already declared for 'position=\"".concat(t,"\"'"))}var rh=new Et("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),ih=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,s){return _classCallCheck(this,n),e.call(this,t,r,i,o,s)}return n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,s){var a;return _classCallCheck(this,n),(a=e.call(this,i,o,s))._changeDetectorRef=t,a._container=r,a}return _createClass(n,[{key:"ngAfterContentInit",value:function(){var t=this;this._container._contentMarginChanges.subscribe((function(){t._changeDetectorRef.markForCheck()}))}}]),n}($c)),oh=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments))._fixedInViewport=!1,t._fixedTopGap=0,t._fixedBottomGap=0,t}return _createClass(n,[{key:"fixedInViewport",get:function(){return this._fixedInViewport},set:function(t){this._fixedInViewport=Yu(t)}},{key:"fixedTopGap",get:function(){return this._fixedTopGap},set:function(t){this._fixedTopGap=Xu(t)}},{key:"fixedBottomGap",get:function(){return this._fixedBottomGap},set:function(t){this._fixedBottomGap=Xu(t)}}]),n}(function(){function t(e,n,r,i,o,s){var a,u=this;_classCallCheck(this,t),this._elementRef=e,this._focusTrapFactory=n,this._focusMonitor=r,this._platform=i,this._ngZone=o,this._doc=s,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._autoFocus=!0,this._animationStarted=new A,this._animationEnd=new A,this._animationState="void",this.openedChange=new yi(!0),this._destroyed=new A,this.onPositionChanged=new yi,this._modeChanged=new A,this._opened=!1,this.openedChange.subscribe((function(t){t?(u._doc&&(u._elementFocusedBeforeDrawerWasOpened=u._doc.activeElement),u._isFocusTrapEnabled&&u._focusTrap&&u._trapFocus()):u._restoreFocus()})),this._ngZone.runOutsideAngular((function(){Cc(u._elementRef.nativeElement,"keydown").pipe(El((function(t){return 27===t.keyCode&&!u.disableClose&&!fl(t)})),Mc(u._destroyed)).subscribe((function(t){return u._ngZone.run((function(){u.close(),t.stopPropagation(),t.preventDefault()}))}))})),this._animationEnd.pipe((a=function(t,e){return t.fromState===e.fromState&&t.toState===e.toState},function(t){return t.lift(new Nc(a,void 0))})).subscribe((function(t){var e=t.fromState,n=t.toState;(0===n.indexOf("open")&&"void"===e||"void"===n&&0===e.indexOf("open"))&&u.openedChange.emit(u._opened)}))}return _createClass(t,[{key:"_trapFocus",value:function(){var t=this;this.autoFocus&&this._focusTrap.focusInitialElementWhenReady().then((function(e){e||"function"!=typeof t._elementRef.nativeElement.focus||t._elementRef.nativeElement.focus()}))}},{key:"_restoreFocus",value:function(){if(this.autoFocus){var t=this._doc&&this._doc.activeElement;t&&this._elementRef.nativeElement.contains(t)&&(this._elementFocusedBeforeDrawerWasOpened instanceof HTMLElement?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur()),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null}}},{key:"ngAfterContentInit",value:function(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}},{key:"ngAfterContentChecked",value:function(){this._platform.isBrowser&&(this._enableAnimations=!0)}},{key:"ngOnDestroy",value:function(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}},{key:"open",value:function(t){return this.toggle(!0,t)}},{key:"close",value:function(){return this.toggle(!1)}},{key:"toggle",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.opened,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"program";return this._opened=e,e?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=n):(this._animationState="void",this._restoreFocus()),this._updateFocusTrapState(),new Promise((function(e){t.openedChange.pipe(xl(1)).subscribe((function(t){return e(t?"open":"close")}))}))}},{key:"_updateFocusTrapState",value:function(){this._focusTrap&&(this._focusTrap.enabled=this._isFocusTrapEnabled)}},{key:"_animationStartListener",value:function(t){this._animationStarted.next(t)}},{key:"_animationDoneListener",value:function(t){this._animationEnd.next(t)}},{key:"position",get:function(){return this._position},set:function(t){(t="end"===t?"end":"start")!=this._position&&(this._position=t,this.onPositionChanged.emit())}},{key:"mode",get:function(){return this._mode},set:function(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}},{key:"disableClose",get:function(){return this._disableClose},set:function(t){this._disableClose=Yu(t)}},{key:"autoFocus",get:function(){return this._autoFocus},set:function(t){this._autoFocus=Yu(t)}},{key:"_openedStream",get:function(){return this.openedChange.pipe(El((function(t){return t})),q((function(){})))}},{key:"openedStart",get:function(){return this._animationStarted.pipe(El((function(t){return t.fromState!==t.toState&&0===t.toState.indexOf("open")})),q((function(){})))}},{key:"_closedStream",get:function(){return this.openedChange.pipe(El((function(t){return!t})),q((function(){})))}},{key:"closedStart",get:function(){return this._animationStarted.pipe(El((function(t){return t.fromState!==t.toState&&"void"===t.toState})),q((function(){})))}},{key:"_isFocusTrapEnabled",get:function(){return this.opened&&"side"!==this.mode}},{key:"opened",get:function(){return this._opened},set:function(t){this.toggle(Yu(t))}},{key:"_width",get:function(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}}]),t}()),sh=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(function(){function t(e,n,r,i,o){var s=this,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6?arguments[6]:void 0;_classCallCheck(this,t),this._dir=e,this._element=n,this._ngZone=r,this._changeDetectorRef=i,this._animationMode=u,this.backdropClick=new yi,this._destroyed=new A,this._doCheckSubject=new A,this._contentMargins={left:null,right:null},this._contentMarginChanges=new A,e&&e.change.pipe(Mc(this._destroyed)).subscribe((function(){s._validateDrawers(),s.updateContentMargins()})),o.change().pipe(Mc(this._destroyed)).subscribe((function(){return s.updateContentMargins()})),this._autosize=a}return _createClass(t,[{key:"ngAfterContentInit",value:function(){var t=this;this._drawers.changes.pipe(hl(null)).subscribe((function(){t._validateDrawers(),t._drawers.forEach((function(e){t._watchDrawerToggle(e),t._watchDrawerPosition(e),t._watchDrawerMode(e)})),(!t._drawers.length||t._isDrawerOpen(t._start)||t._isDrawerOpen(t._end))&&t.updateContentMargins(),t._changeDetectorRef.markForCheck()})),this._doCheckSubject.pipe(bl(10),Mc(this._destroyed)).subscribe((function(){return t.updateContentMargins()}))}},{key:"ngOnDestroy",value:function(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._destroyed.next(),this._destroyed.complete()}},{key:"open",value:function(){this._drawers.forEach((function(t){return t.open()}))}},{key:"close",value:function(){this._drawers.forEach((function(t){return t.close()}))}},{key:"updateContentMargins",value:function(){var t=this,e=0,n=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._width;else if("push"==this._left.mode){var r=this._left._width;e+=r,n-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)n+=this._right._width;else if("push"==this._right.mode){var i=this._right._width;n+=i,e-=i}n=n||null,(e=e||null)===this._contentMargins.left&&n===this._contentMargins.right||(this._contentMargins={left:e,right:n},this._ngZone.run((function(){return t._contentMarginChanges.next(t._contentMargins)})))}},{key:"ngDoCheck",value:function(){var t=this;this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular((function(){return t._doCheckSubject.next()}))}},{key:"_watchDrawerToggle",value:function(t){var e=this;t._animationStarted.pipe(El((function(t){return t.fromState!==t.toState})),Mc(this._drawers.changes)).subscribe((function(t){"open-instant"!==t.toState&&"NoopAnimations"!==e._animationMode&&e._element.nativeElement.classList.add("mat-drawer-transition"),e.updateContentMargins(),e._changeDetectorRef.markForCheck()})),"side"!==t.mode&&t.openedChange.pipe(Mc(this._drawers.changes)).subscribe((function(){return e._setContainerClass(t.opened)}))}},{key:"_watchDrawerPosition",value:function(t){var e=this;t&&t.onPositionChanged.pipe(Mc(this._drawers.changes)).subscribe((function(){e._ngZone.onMicrotaskEmpty.asObservable().pipe(xl(1)).subscribe((function(){e._validateDrawers()}))}))}},{key:"_watchDrawerMode",value:function(t){var e=this;t&&t._modeChanged.pipe(Mc(X(this._drawers.changes,this._destroyed))).subscribe((function(){e.updateContentMargins(),e._changeDetectorRef.markForCheck()}))}},{key:"_setContainerClass",value:function(t){var e=this._element.nativeElement.classList,n="mat-drawer-container-has-open";t?e.add(n):e.remove(n)}},{key:"_validateDrawers",value:function(){var t=this;this._start=this._end=null,this._drawers.forEach((function(e){"end"==e.position?(null!=t._end&&nh("end"),t._end=e):(null!=t._start&&nh("start"),t._start=e)})),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}},{key:"_isPushed",value:function(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}},{key:"_onBackdropClicked",value:function(){this.backdropClick.emit(),this._closeModalDrawer()}},{key:"_closeModalDrawer",value:function(){var t=this;[this._start,this._end].filter((function(e){return e&&!e.disableClose&&t._canHaveBackdrop(e)})).forEach((function(t){return t.close()}))}},{key:"_isShowingBackdrop",value:function(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}},{key:"_canHaveBackdrop",value:function(t){return"side"!==t.mode||!!this._backdropOverride}},{key:"_isDrawerOpen",value:function(t){return null!=t&&t.opened}},{key:"start",get:function(){return this._start}},{key:"end",get:function(){return this._end}},{key:"autosize",get:function(){return this._autosize},set:function(t){this._autosize=Yu(t)}},{key:"hasBackdrop",get:function(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride},set:function(t){this._backdropOverride=null==t?null:Yu(t)}},{key:"scrollable",get:function(){return this._userContent||this._content}}]),t}()),ah=function t(){_classCallCheck(this,t)};function uh(){return"undefined"!=typeof process}function lh(t){switch(t.length){case 0:return new wc;case 1:return t[0];default:return new kc(t)}}function ch(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=[],a=[],u=-1,l=null;if(r.forEach((function(t){var n=t.offset,r=n==u,c=r&&l||{};Object.keys(t).forEach((function(n){var r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),a){case"!":a=i[n];break;case"*":a=o[n];break;default:a=e.normalizeStyleValue(n,r,a,s)}c[r]=a})),r||a.push(c),l=c,u=n})),s.length){var c="\n - ";throw new Error("Unable to animate due to the following errors:".concat(c).concat(s.join(c)))}return a}function hh(t,e,n,r){switch(e){case"start":t.onStart((function(){return r(n&&fh(n,"start",t))}));break;case"done":t.onDone((function(){return r(n&&fh(n,"done",t))}));break;case"destroy":t.onDestroy((function(){return r(n&&fh(n,"destroy",t))}))}}function fh(t,e,n){var r=n.totalTime,i=dh(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function dh(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6?arguments[6]:void 0;return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function ph(t,e,n){var r;return t instanceof Map?(r=t.get(e))||t.set(e,r=n):(r=t[e])||(r=t[e]=n),r}function vh(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}var mh=function(t,e){return!1},yh=function(t,e){return!1},gh=function(t,e,n){return[]},_h=uh();(_h||"undefined"!=typeof Element)&&(mh=function(t,e){return t.contains(e)},yh=function(){if(_h||Element.prototype.matches)return function(t,e){return t.matches(e)};var t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?function(t,n){return e.apply(t,[n])}:yh}(),gh=function(t,e,n){var r=[];if(n)r.push.apply(r,_toConsumableArray(t.querySelectorAll(e)));else{var i=t.querySelector(e);i&&r.push(i)}return r});var bh=null,wh=!1;function kh(t){bh||(bh=("undefined"!=typeof document?document.body:null)||{},wh=!!bh.style&&"WebkitAppearance"in bh.style);var e=!0;return bh.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(!(e=t in bh.style)&&wh)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in bh.style),e}var Ch=yh,Eh=mh,Th=gh;function Sh(t){var e={};return Object.keys(t).forEach((function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]})),e}var Ih=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return kh(t)}},{key:"matchesElement",value:function(t,e){return Ch(t,e)}},{key:"containsElement",value:function(t,e){return Eh(t,e)}},{key:"query",value:function(t,e,n){return Th(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return n||""}},{key:"animate",value:function(t,e,n,r,i){arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&arguments[6];return new wc(n,r)}}]),t}(),Ah=function(){var t=function t(){_classCallCheck(this,t)};return t.NOOP=new Ih,t}();function xh(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Nh(parseFloat(e[1]),e[2])}function Nh(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Dh(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){var r,i=0,o="";if("string"==typeof t){var s=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===s)return e.push('The provided timing value "'.concat(t,'" is invalid.')),{duration:0,delay:0,easing:""};r=Nh(parseFloat(s[1]),s[2]);var a=s[3];null!=a&&(i=Nh(parseFloat(a),s[4]));var u=s[5];u&&(o=u)}else r=t;if(!n){var l=!1,c=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),l=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),l=!0),l&&e.splice(c,0,'The provided timing value "'.concat(t,'" is invalid.'))}return{duration:r,delay:i,easing:o}}(t,e,n)}function Oh(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach((function(n){e[n]=t[n]})),e}function Rh(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e)for(var r in t)n[r]=t[r];else Oh(t,n);return n}function Ph(t,e,n){return n?e+":"+n+";":""}function Lh(t){for(var e="",n=0;n<t.style.length;n++){var r=t.style.item(n);e+=Ph(0,r,t.style.getPropertyValue(r))}for(var i in t.style)t.style.hasOwnProperty(i)&&!i.startsWith("_")&&(e+=Ph(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[i]));t.setAttribute("style",e)}function Vh(t,e,n){t.style&&(Object.keys(e).forEach((function(r){var i=Hh(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]})),uh()&&Lh(t))}function Mh(t,e){t.style&&(Object.keys(e).forEach((function(e){var n=Hh(e);t.style[n]=""})),uh()&&Lh(t))}function Fh(t){return Array.isArray(t)?1==t.length?t[0]:gc(t):t}var jh=new RegExp("{{\\s*(.+?)\\s*}}","g");function Uh(t){var e=[];if("string"==typeof t){for(var n,r=t.toString();n=jh.exec(r);)e.push(n[1]);jh.lastIndex=0}return e}function Bh(t,e,n){var r=t.toString(),i=r.replace(jh,(function(t,r){var i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param ".concat(r)),i=""),i.toString()}));return i==r?t:i}function qh(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}var zh=/-+([a-z0-9])/g;function Hh(t){return t.replace(zh,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e[1].toUpperCase()}))}function Gh(t,e){return 0===t||0===e}function Kh(t,e,n){var r=Object.keys(n);if(r.length&&e.length){var i=e[0],o=[];if(r.forEach((function(t){i.hasOwnProperty(t)||o.push(t),i[t]=n[t]})),o.length)for(var s=function(){var n=e[a];o.forEach((function(e){n[e]=Qh(t,e)}))},a=1;a<e.length;a++)s()}return e}function Wh(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #".concat(e.type))}}function Qh(t,e){return window.getComputedStyle(t)[e]}var Zh=new Set(["true","1"]),Yh=new Set(["false","0"]);function Xh(t,e){var n=Zh.has(t)||Yh.has(t),r=Zh.has(e)||Yh.has(e);return function(i,o){var s="*"==t||t==i,a="*"==e||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?Zh.has(t):Yh.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?Zh.has(e):Yh.has(e)),s&&a}}var Jh=new RegExp("s*:selfs*,?","g");function $h(t,e,n){return new tf(t).build(e,n)}var tf=function(){function t(e){_classCallCheck(this,t),this._driver=e}return _createClass(t,[{key:"build",value:function(t,e){var n=new ef(e);return this._resetContextStyleTimingState(n),Wh(this,Fh(t),n)}},{key:"_resetContextStyleTimingState",value:function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}},{key:"visitTrigger",value:function(t,e){var n=this,r=e.queryCount=0,i=e.depCount=0,o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach((function(t){if(n._resetContextStyleTimingState(e),0==t.type){var a=t,u=a.name;u.toString().split(/\s*,\s*/).forEach((function(t){a.name=t,o.push(n.visitState(a,e))})),a.name=u}else if(1==t.type){var l=n.visitTransition(t,e);r+=l.queryCount,i+=l.depCount,s.push(l)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:t.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(t,e){var n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach((function(t){if(nf(t)){var e=t;Object.keys(e).forEach((function(t){Uh(e[t]).forEach((function(t){o.hasOwnProperty(t)||i.add(t)}))}))}})),i.size){var s=qh(i.values());e.errors.push('state("'.concat(t.name,'", ...) must define default values for all the following style substitutions: ').concat(s.join(", ")))}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(t,e){e.queryCount=0,e.depCount=0;var n,r,i,o=Wh(this,Fh(t.animation),e);return{type:1,matchers:(n=t.expr,r=e.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach((function(t){return function(t,e,n){if(":"==t[0]){var r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'.concat(t,'" is not supported')),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}var i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(t,'" is not supported')),e;var o=i[1],s=i[2],a=i[3];e.push(Xh(o,a)),"<"!=s[0]||"*"==o&&"*"==a||e.push(Xh(a,o))}(t,i,r)})):i.push(n),i),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:rf(t.options)}}},{key:"visitSequence",value:function(t,e){var n=this;return{type:2,steps:t.steps.map((function(t){return Wh(n,t,e)})),options:rf(t.options)}}},{key:"visitGroup",value:function(t,e){var n=this,r=e.currentTime,i=0,o=t.steps.map((function(t){e.currentTime=r;var o=Wh(n,t,e);return i=Math.max(i,e.currentTime),o}));return e.currentTime=i,{type:3,steps:o,options:rf(t.options)}}},{key:"visitAnimate",value:function(t,e){var n,r=function(t,e){var n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return of(Dh(t,e).duration,0,"");var r=t;if(r.split(/\s+/).some((function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)}))){var i=of(0,0,"");return i.dynamic=!0,i.strValue=r,i}return of((n=n||Dh(r,e)).duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;var i=t.styles?t.styles:_c({});if(5==i.type)n=this.visitKeyframes(i,e);else{var o=t.styles,s=!1;if(!o){s=!0;var a={};r.easing&&(a.easing=r.easing),o=_c(a)}e.currentTime+=r.duration+r.delay;var u=this.visitStyle(o,e);u.isEmptyStep=s,n=u}return e.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}},{key:"visitStyle",value:function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}},{key:"_makeStyleAst",value:function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach((function(t){"string"==typeof t?"*"==t?n.push(t):e.errors.push("The provided style string value ".concat(t," is not allowed.")):n.push(t)})):n.push(t.styles);var r=!1,i=null;return n.forEach((function(t){if(nf(t)){var e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(var o in e)if(e[o].toString().indexOf("{{")>=0){r=!0;break}}})),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(t,e){var n=this,r=e.currentAnimateTimings,i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach((function(t){"string"!=typeof t&&Object.keys(t).forEach((function(r){if(n._driver.validateStyleProperty(r)){var s,a,u,l,c,h=e.collectedStyles[e.currentQuerySelector],f=h[r],d=!0;f&&(o!=i&&o>=f.startTime&&i<=f.endTime&&(e.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(f.startTime,'ms" and "').concat(f.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(i,'ms"')),d=!1),o=f.startTime),d&&(h[r]={startTime:o,endTime:i}),e.options&&(s=t[r],a=e.options,u=e.errors,l=a.params||{},(c=Uh(s)).length&&c.forEach((function(t){l.hasOwnProperty(t)||u.push("Unable to resolve the local animation param ".concat(t," in the given list of values"))})))}else e.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(t,e){var n=this,r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],s=!1,a=!1,u=0,l=t.steps.map((function(t){var r=n._makeStyleAst(t,e),l=null!=r.offset?r.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach((function(t){if(nf(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}}));else if(nf(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(r.styles),c=0;return null!=l&&(i++,c=r.offset=l),a=a||c<0||c>1,s=s||c<u,u=c,o.push(c),r}));a&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");var c=t.steps.length,h=0;i>0&&i<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(c-1));var f=c-1,d=e.currentTime,p=e.currentAnimateTimings,v=p.duration;return l.forEach((function(t,i){var s=h>0?i==f?1:h*i:o[i],a=s*v;e.currentTime=d+p.delay+a,p.duration=a,n._validateStyleAst(t,e),t.offset=s,r.styles.push(t)})),r}},{key:"visitReference",value:function(t,e){return{type:8,animation:Wh(this,Fh(t.animation),e),options:rf(t.options)}}},{key:"visitAnimateChild",value:function(t,e){return e.depCount++,{type:9,options:rf(t.options)}}},{key:"visitAnimateRef",value:function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:rf(t.options)}}},{key:"visitQuery",value:function(t,e){var n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;var i=_slicedToArray(function(t){var e=!!t.split(/\s*,\s*/).find((function(t){return":self"==t}));return e&&(t=t.replace(Jh,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(t){return".ng-trigger-"+t.substr(1)})).replace(/:animating/g,".ng-animating"),e]}(t.selector),2),o=i[0],s=i[1];e.currentQuerySelector=n.length?n+" "+o:o,ph(e.collectedStyles,e.currentQuerySelector,{});var a=Wh(this,Fh(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:rf(t.options)}}},{key:"visitStagger",value:function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Dh(t.timings,e.errors,!0);return{type:12,animation:Wh(this,Fh(t.animation),e),timings:n,options:null}}}]),t}(),ef=function t(e){_classCallCheck(this,t),this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function nf(t){return!Array.isArray(t)&&"object"==typeof t}function rf(t){var e;return t?(t=Oh(t)).params&&(t.params=(e=t.params)?Oh(e):null):t={},t}function of(t,e,n){return{duration:t,delay:e,easing:n}}function sf(t,e,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var af=function(){function t(){_classCallCheck(this,t),this._map=new Map}return _createClass(t,[{key:"consume",value:function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e}},{key:"append",value:function(t,e){var n,r=this._map.get(t);r||this._map.set(t,r=[]),(n=r).push.apply(n,_toConsumableArray(e))}},{key:"has",value:function(t){return this._map.has(t)}},{key:"clear",value:function(){this._map.clear()}}]),t}(),uf=new RegExp(":enter","g"),lf=new RegExp(":leave","g");function cf(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},a=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new hf).buildKeyframes(t,e,n,r,i,o,s,a,u,l)}var hf=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"buildKeyframes",value:function(t,e,n,r,i,o,s,a,u){var l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new af;var c=new df(t,e,u,r,i,l,[]);c.options=a,c.currentTimeline.setStyles([o],null,c.errors,a),Wh(this,n,c);var h=c.timelines.filter((function(t){return t.containsAnimation()}));if(h.length&&Object.keys(s).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([s],null,c.errors,a)}return h.length?h.map((function(t){return t.buildKeyframes()})):[sf(e,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(t,e){}},{key:"visitState",value:function(t,e){}},{key:"visitTransition",value:function(t,e){}},{key:"visitAnimateChild",value:function(t,e){var n=e.subInstructions.consume(e.element);if(n){var r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}},{key:"visitAnimateRef",value:function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}},{key:"_visitSubInstructions",value:function(t,e,n){var r=e.currentTimeline.currentTime,i=null!=n.duration?xh(n.duration):null,o=null!=n.delay?xh(n.delay):null;return 0!==i&&t.forEach((function(t){var n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)})),r}},{key:"visitReference",value:function(t,e){e.updateOptions(t.options,!0),Wh(this,t.animation,e),e.previousNode=t}},{key:"visitSequence",value:function(t,e){var n=this,r=e.subContextCount,i=e,o=t.options;if(o&&(o.params||o.delay)&&((i=e.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=ff);var s=xh(o.delay);i.delayNextStep(s)}t.steps.length&&(t.steps.forEach((function(t){return Wh(n,t,i)})),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}},{key:"visitGroup",value:function(t,e){var n=this,r=[],i=e.currentTimeline.currentTime,o=t.options&&t.options.delay?xh(t.options.delay):0;t.steps.forEach((function(s){var a=e.createSubContext(t.options);o&&a.delayNextStep(o),Wh(n,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)})),r.forEach((function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)})),e.transformIntoNewTimeline(i),e.previousNode=t}},{key:"_visitTiming",value:function(t,e){if(t.dynamic){var n=t.strValue;return Dh(e.params?Bh(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}},{key:"visitAnimate",value:function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());var i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}},{key:"visitStyle",value:function(t,e){var n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}},{key:"visitKeyframes",value:function(t,e){var n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach((function(t){o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()})),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}},{key:"visitQuery",value:function(t,e){var n=this,r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?xh(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ff);var s=r,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=a.length;var u=null;a.forEach((function(r,i){e.currentQueryIndex=i;var a=e.createSubContext(t.options,r);o&&a.delayNextStep(o),r===e.element&&(u=a.currentTimeline),Wh(n,t.animation,a),a.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,a.currentTimeline.currentTime)})),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}},{key:"visitStagger",value:function(t,e){var n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),s=o*(e.currentQueryTotal-1),a=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}var u=e.currentTimeline;a&&u.delayNextStep(a);var l=u.currentTime;Wh(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-l+(r.startTime-n.currentTimeline.startTime)}}]),t}(),ff={},df=function(){function t(e,n,r,i,o,s,a,u){_classCallCheck(this,t),this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ff,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new pf(this._driver,n,0),a.push(this.currentTimeline)}return _createClass(t,[{key:"updateOptions",value:function(t,e){var n=this;if(t){var r=t,i=this.options;null!=r.duration&&(i.duration=xh(r.duration)),null!=r.delay&&(i.delay=xh(r.delay));var o=r.params;if(o){var s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach((function(t){e&&s.hasOwnProperty(t)||(s[t]=Bh(o[t],s,n.errors))}))}}}},{key:"_copyOptions",value:function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach((function(t){n[t]=e[t]}))}}return t}},{key:"createSubContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(t){return this.previousNode=ff,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(t,e,n){var r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new vf(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}},{key:"delayNextStep",value:function(t){t>0&&this.currentTimeline.delayNextStep(t)}},{key:"invokeQuery",value:function(t,e,n,r,i,o){var s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(uf,"."+this._enterClassName)).replace(lf,"."+this._leaveClassName);var a=this._driver.query(this.element,t,1!=n);0!==n&&(a=n<0?a.slice(a.length+n,a.length):a.slice(0,n)),s.push.apply(s,_toConsumableArray(a))}return i||0!=s.length||o.push('`query("'.concat(e,'")` returned zero elements. (Use `query("').concat(e,'", { optional: true })` if you wish to allow this.)')),s}},{key:"params",get:function(){return this.options.params}}]),t}(),pf=function(){function t(e,n,r,i){_classCallCheck(this,t),this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass(t,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}},{key:"fork",value:function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}},{key:"_updateStyle",value:function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach((function(t){e._backFill[t]=e._globalTimelineStyles[t]||"*",e._currentKeyframe[t]="*"})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(t,e,n,r){var i=this;e&&(this._previousKeyframe.easing=e);var o=r&&r.params||{},s=function(t,e){var n,r={};return t.forEach((function(t){"*"===t?(n=n||Object.keys(e)).forEach((function(t){r[t]="*"})):Rh(t,!1,r)})),r}(t,this._globalTimelineStyles);Object.keys(s).forEach((function(t){var e=Bh(s[t],o,n);i._pendingStyles[t]=e,i._localTimelineStyles.hasOwnProperty(t)||(i._backFill[t]=i._globalTimelineStyles.hasOwnProperty(t)?i._globalTimelineStyles[t]:"*"),i._updateStyle(t,e)}))}},{key:"applyStylesToKeyframe",value:function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){t._currentKeyframe[n]=e[n]})),Object.keys(this._localTimelineStyles).forEach((function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])})))}},{key:"snapshotCurrentStyles",value:function(){var t=this;Object.keys(this._localTimelineStyles).forEach((function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(t){var e=this;Object.keys(t._styleSummary).forEach((function(n){var r=e._styleSummary[n],i=t._styleSummary[n];(!r||i.time>r.time)&&e._updateStyle(n,i.value)}))}},{key:"buildKeyframes",value:function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach((function(o,s){var a=Rh(o,!0);Object.keys(a).forEach((function(t){var r=a[t];"!"==r?e.add(t):"*"==r&&n.add(t)})),r||(a.offset=s/t.duration),i.push(a)}));var o=e.size?qh(e.values()):[],s=n.size?qh(n.values()):[];if(r){var a=i[0],u=Oh(a);a.offset=0,u.offset=1,i=[a,u]}return sf(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t}}]),t}(),vf=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,s,a){var u,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck(this,n),(u=e.call(this,t,r,a.delay)).element=r,u.keyframes=i,u.preStyleProps=o,u.postStyleProps=s,u._stretchStartingKeyframe=l,u.timings={duration:a.duration,delay:a.delay,easing:a.easing},u}return _createClass(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var t=this.keyframes,e=this.timings,n=e.delay,r=e.duration,i=e.easing;if(this._stretchStartingKeyframe&&n){var o=[],s=r+n,a=n/s,u=Rh(t[0],!1);u.offset=0,o.push(u);var l=Rh(t[0],!1);l.offset=mf(a),o.push(l);for(var c=t.length-1,h=1;h<=c;h++){var f=Rh(t[h],!1);f.offset=mf((n+f.offset*r)/s),o.push(f)}r=s,n=0,i="",t=o}return sf(this.element,t,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),n}(pf);function mf(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,e-1);return Math.round(t*n)/n}var yf=function t(){_classCallCheck(this,t)},gf=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"normalizePropertyName",value:function(t,e){return Hh(t)}},{key:"normalizeStyleValue",value:function(t,e,n,r){var i="",o=n.toString().trim();if(_f[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var s=n.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&r.push("Please provide a CSS unit value for ".concat(t,":").concat(n))}return o+i}}]),n}(yf),_f=function(t){var e={};return t.forEach((function(t){return e[t]=!0})),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function bf(t,e,n,r,i,o,s,a,u,l,c,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:h,errors:f}}var wf={},kf=function(){function t(e,n,r){_classCallCheck(this,t),this._triggerName=e,this.ast=n,this._stateStyles=r}return _createClass(t,[{key:"match",value:function(t,e,n,r){return function(t,e,n,r,i){return t.some((function(t){return t(e,n,r,i)}))}(this.ast.matchers,t,e,n,r)}},{key:"buildStyles",value:function(t,e,n){var r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}},{key:"build",value:function(t,e,n,r,i,o,s,a,u,l){var c=[],h=this.ast.options&&this.ast.options.params||wf,f=this.buildStyles(n,s&&s.params||wf,c),d=a&&a.params||wf,p=this.buildStyles(r,d,c),v=new Set,m=new Map,y=new Map,g="void"===r,_={params:Object.assign({},h,d)},b=l?[]:cf(t,e,this.ast.animation,i,o,f,p,_,u,c),w=0;if(b.forEach((function(t){w=Math.max(t.duration+t.delay,w)})),c.length)return bf(e,this._triggerName,n,r,g,f,p,[],[],m,y,w,c);b.forEach((function(t){var n=t.element,r=ph(m,n,{});t.preStyleProps.forEach((function(t){return r[t]=!0}));var i=ph(y,n,{});t.postStyleProps.forEach((function(t){return i[t]=!0})),n!==e&&v.add(n)}));var k=qh(v.values());return bf(e,this._triggerName,n,r,g,f,p,b,k,m,y,w)}}]),t}(),Cf=function(){function t(e,n){_classCallCheck(this,t),this.styles=e,this.defaultParams=n}return _createClass(t,[{key:"buildStyles",value:function(t,e){var n={},r=Oh(this.defaultParams);return Object.keys(t).forEach((function(e){var n=t[e];null!=n&&(r[e]=n)})),this.styles.styles.forEach((function(t){if("string"!=typeof t){var i=t;Object.keys(i).forEach((function(t){var o=i[t];o.length>1&&(o=Bh(o,r,e)),n[t]=o}))}})),n}}]),t}(),Ef=function(){function t(e,n){var r=this;_classCallCheck(this,t),this.name=e,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(t){r.states[t.name]=new Cf(t.style,t.options&&t.options.params||{})})),Tf(this.states,"true","1"),Tf(this.states,"false","0"),n.transitions.forEach((function(t){r.transitionFactories.push(new kf(e,t,r.states))})),this.fallbackTransition=new kf(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},this.states)}return _createClass(t,[{key:"matchTransition",value:function(t,e,n,r){return this.transitionFactories.find((function(i){return i.match(t,e,n,r)}))||null}},{key:"matchStyles",value:function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}},{key:"containsQueries",get:function(){return this.ast.queryCount>0}}]),t}();function Tf(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}var Sf=new af,If=function(){function t(e,n,r){_classCallCheck(this,t),this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return _createClass(t,[{key:"register",value:function(t,e){var n=[],r=$h(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: ".concat(n.join("\n")));this._animations[t]=r}},{key:"_buildPlayer",value:function(t,e,n){var r=t.element,i=ch(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}},{key:"create",value:function(t,e){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],s=this._animations[t],a=new Map;if(s?(n=cf(this._driver,e,s,"ng-enter","ng-leave",{},{},i,Sf,o)).forEach((function(t){var e=ph(a,t.element,{});t.postStyleProps.forEach((function(t){return e[t]=null}))})):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: ".concat(o.join("\n")));a.forEach((function(t,e){Object.keys(t).forEach((function(n){t[n]=r._driver.computeStyle(e,n,"*")}))}));var u=lh(n.map((function(t){var e=a.get(t.element);return r._buildPlayer(t,{},e)})));return this._playersById[t]=u,u.onDestroy((function(){return r.destroy(t)})),this.players.push(u),u}},{key:"destroy",value:function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by ".concat(t));return e}},{key:"listen",value:function(t,e,n,r){var i=dh(e,"","","");return hh(this._getPlayer(t),n,i,r),function(){}}},{key:"command",value:function(t,e,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,r[0]||{});else this.register(t,r[0])}}]),t}(),Af=[],xf={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Nf={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Df=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck(this,t),this.namespaceId=n;var r,i=e&&e.hasOwnProperty("value");if(this.value=null!=(r=i?e.value:e)?r:null,i){var o=Oh(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return _createClass(t,[{key:"absorbOptions",value:function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach((function(t){null==n[t]&&(n[t]=e[t])}))}}},{key:"params",get:function(){return this.options.params}}]),t}(),Of=new Df("void"),Rf=function(){function t(e,n,r){_classCallCheck(this,t),this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Uf(n,this._hostClassName)}return _createClass(t,[{key:"listen",value:function(t,e,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(e,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(e,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(e,'" is not supported!'));var s=ph(this._elementListeners,t,[]),a={name:e,phase:n,callback:r};s.push(a);var u=ph(this._engine.statesByElement,t,{});return u.hasOwnProperty(e)||(Uf(t,"ng-trigger"),Uf(t,"ng-trigger-"+e),u[e]=Of),function(){o._engine.afterFlush((function(){var t=s.indexOf(a);t>=0&&s.splice(t,1),o._triggers[e]||delete u[e]}))}}},{key:"register",value:function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}},{key:"_getTrigger",value:function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'.concat(t,'" has not been registered!'));return e}},{key:"trigger",value:function(t,e,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(e),s=new Lf(this.id,e,t),a=this._engine.statesByElement.get(t);a||(Uf(t,"ng-trigger"),Uf(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,a={}));var u=a[e],l=new Df(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&l.absorbOptions(u.options),a[e]=l,u||(u=Of),"void"===l.value||u.value!==l.value){var c=ph(this._engine.playersByElement,t,[]);c.forEach((function(t){t.namespaceId==r.id&&t.triggerName==e&&t.queued&&t.destroy()}));var h=o.matchTransition(u.value,l.value,t,l.params),f=!1;if(!h){if(!i)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:u,toState:l,player:s,isFallbackTransition:f}),f||(Uf(t,"ng-animate-queued"),s.onStart((function(){Bf(t,"ng-animate-queued")}))),s.onDone((function(){var e=r.players.indexOf(s);e>=0&&r.players.splice(e,1);var n=r._engine.playersByElement.get(t);if(n){var i=n.indexOf(s);i>=0&&n.splice(i,1)}})),this.players.push(s),c.push(s),s}if(!function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(u.params,l.params)){var d=[],p=o.matchStyles(u.value,u.params,d),v=o.matchStyles(l.value,l.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush((function(){Mh(t,p),Vh(t,v)}))}}},{key:"deregister",value:function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach((function(e,n){delete e[t]})),this._elementListeners.forEach((function(n,r){e._elementListeners.set(r,n.filter((function(e){return e.name!=t})))}))}},{key:"clearElementCache",value:function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach((function(t){return t.destroy()})),this._engine.playersByElement.delete(t))}},{key:"_signalRemovalForInnerTriggers",value:function(t,e){var n=this;arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._engine.driver.query(t,".ng-trigger",!0).forEach((function(t){if(!t.__ng_removed){var r=n._engine.fetchNamespacesByElement(t);r.size?r.forEach((function(n){return n.triggerLeaveAnimation(t,e,!1,!0)})):n.clearElementCache(t)}}))}},{key:"triggerLeaveAnimation",value:function(t,e,n,r){var i=this,o=this._engine.statesByElement.get(t);if(o){var s=[];if(Object.keys(o).forEach((function(e){if(i._triggers[e]){var n=i.trigger(t,e,"void",r);n&&s.push(n)}})),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&lh(s).onDone((function(){return i._engine.processLeaveNode(t)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(t){var e=this,n=this._elementListeners.get(t);if(n){var r=new Set;n.forEach((function(n){var i=n.name;if(!r.has(i)){r.add(i);var o=e._triggers[i].fallbackTransition,s=e._engine.statesByElement.get(t)[i]||Of,a=new Df("void"),u=new Lf(e.id,i,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:i,transition:o,fromState:s,toState:a,player:u,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(t,e){var n=this,r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e,!0),!this.triggerLeaveAnimation(t,e,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else for(var s=t;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}this.prepareLeaveAnimationListeners(t),i?r.markElementAsRemoved(this.id,t,!1,e):(r.afterFlush((function(){return n.clearElementCache(t)})),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}},{key:"insertNode",value:function(t,e){Uf(t,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(t){var e=this,n=[];return this._queue.forEach((function(r){var i=r.player;if(!i.destroyed){var o=r.element,s=e._elementListeners.get(o);s&&s.forEach((function(e){if(e.name==r.triggerName){var n=dh(o,r.triggerName,r.fromState.value,r.toState.value);n._data=t,hh(r.player,e.phase,n,e.callback)}})),i.markedForDestroy?e._engine.afterFlush((function(){i.destroy()})):n.push(r)}})),this._queue=[],n.sort((function(t,n){var r=t.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:e._engine.driver.containsElement(t.element,n.element)?1:-1}))}},{key:"destroy",value:function(t){this.players.forEach((function(t){return t.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,t)}},{key:"elementContainsData",value:function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find((function(e){return e.element===t}))||e}}]),t}(),Pf=function(){function t(e,n,r){_classCallCheck(this,t),this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return _createClass(t,[{key:"_onRemovalComplete",value:function(t,e){this.onRemovalComplete(t,e)}},{key:"createNamespace",value:function(t,e){var n=new Rf(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}},{key:"_balanceNamespaceList",value:function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}},{key:"register",value:function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}},{key:"registerTrigger",value:function(t,e,n){var r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}},{key:"destroy",value:function(t,e){var n=this;if(t){var r=this._fetchNamespace(t);this.afterFlush((function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(r);e>=0&&n._namespaceList.splice(e,1)})),this.afterFlushAnimationsDone((function(){return r.destroy(e)}))}}},{key:"_fetchNamespace",value:function(t){return this._namespaceLookup[t]}},{key:"fetchNamespacesByElement",value:function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var s=this._fetchNamespace(o);s&&e.add(s)}}return e}},{key:"trigger",value:function(t,e,n,r){if(Vf(e)){var i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}},{key:"insertNode",value:function(t,e,n,r){if(Vf(e)){var i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){var s=this._fetchNamespace(t);s&&s.insertNode(e,n)}r&&this.collectEnterElement(e)}}},{key:"collectEnterElement",value:function(t){this.collectedEnterElements.push(t)}},{key:"markElementAsDisabled",value:function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Uf(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Bf(t,"ng-animate-disabled"))}},{key:"removeNode",value:function(t,e,n,r){if(Vf(e)){var i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){var o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,r)}}else this._onRemovalComplete(e,r)}},{key:"markElementAsRemoved",value:function(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(t,e,n,r,i){return Vf(e)?this._fetchNamespace(t).listen(e,n,r,i):function(){}}},{key:"_buildInstruction",value:function(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}},{key:"destroyInnerAnimations",value:function(t){var e=this,n=this.driver.query(t,".ng-trigger",!0);n.forEach((function(t){return e.destroyActiveAnimationsForElement(t)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,".ng-animating",!0)).forEach((function(t){return e.finishActiveQueriedAnimationOnElement(t)}))}},{key:"destroyActiveAnimationsForElement",value:function(t){var e=this.playersByElement.get(t);e&&e.forEach((function(t){t.queued?t.markedForDestroy=!0:t.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach((function(t){return t.finish()}))}},{key:"whenRenderingDone",value:function(){var t=this;return new Promise((function(e){if(t.players.length)return lh(t.players).onDone((function(){return e()}));e()}))}},{key:"processLeaveNode",value:function(t){var e=this,n=t.__ng_removed;if(n&&n.setForRemoval){if(t.__ng_removed=xf,n.namespaceId){this.destroyInnerAnimations(t);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach((function(t){e.markElementAsDisabled(t,!1)}))}},{key:"flush",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(e,n){return t._balanceNamespaceList(e,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)Uf(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,e)}finally{for(var o=0;o<i.length;o++)i[o]()}}else for(var s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(t){return t()})),this._flushFns=[],this._whenQuietFns.length){var a=this._whenQuietFns;this._whenQuietFns=[],n.length?lh(n).onDone((function(){a.forEach((function(t){return t()}))})):a.forEach((function(t){return t()}))}}},{key:"reportError",value:function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(t.join("\n")))}},{key:"_flushAnimations",value:function(t,e){var n=this,r=new af,i=[],o=new Map,s=[],a=new Map,u=new Map,l=new Map,c=new Set;this.disabledNodes.forEach((function(t){c.add(t);for(var e=n.driver.query(t,".ng-animate-queued",!0),r=0;r<e.length;r++)c.add(e[r])}));var h=this.bodyNode,f=Array.from(this.statesByElement.keys()),d=jf(f,this.collectedEnterElements),p=new Map,v=0;d.forEach((function(t,e){var n="ng-enter"+v++;p.set(e,n),t.forEach((function(t){return Uf(t,n)}))}));for(var m=[],y=new Set,g=new Set,_=0;_<this.collectedLeaveElements.length;_++){var b=this.collectedLeaveElements[_],w=b.__ng_removed;w&&w.setForRemoval&&(m.push(b),y.add(b),w.hasAnimation?this.driver.query(b,".ng-star-inserted",!0).forEach((function(t){return y.add(t)})):g.add(b))}var k=new Map,C=jf(f,Array.from(y));C.forEach((function(t,e){var n="ng-leave"+v++;k.set(e,n),t.forEach((function(t){return Uf(t,n)}))})),t.push((function(){d.forEach((function(t,e){var n=p.get(e);t.forEach((function(t){return Bf(t,n)}))})),C.forEach((function(t,e){var n=k.get(e);t.forEach((function(t){return Bf(t,n)}))})),m.forEach((function(t){n.processLeaveNode(t)}))}));for(var E=[],T=[],S=this._namespaceList.length-1;S>=0;S--)this._namespaceList[S].drainQueuedTransitions(e).forEach((function(t){var e=t.player,o=t.element;if(E.push(e),n.collectedEnterElements.length){var c=o.__ng_removed;if(c&&c.setForMove)return void e.destroy()}var f=!h||!n.driver.containsElement(h,o),d=k.get(o),v=p.get(o),m=n._buildInstruction(t,r,v,d,f);if(!m.errors||!m.errors.length)return f?(e.onStart((function(){return Mh(o,m.fromStyles)})),e.onDestroy((function(){return Vh(o,m.toStyles)})),void i.push(e)):t.isFallbackTransition?(e.onStart((function(){return Mh(o,m.fromStyles)})),e.onDestroy((function(){return Vh(o,m.toStyles)})),void i.push(e)):(m.timelines.forEach((function(t){return t.stretchStartingKeyframe=!0})),r.append(o,m.timelines),s.push({instruction:m,player:e,element:o}),m.queriedElements.forEach((function(t){return ph(a,t,[]).push(e)})),m.preStyleProps.forEach((function(t,e){var n=Object.keys(t);if(n.length){var r=u.get(e);r||u.set(e,r=new Set),n.forEach((function(t){return r.add(t)}))}})),void m.postStyleProps.forEach((function(t,e){var n=Object.keys(t),r=l.get(e);r||l.set(e,r=new Set),n.forEach((function(t){return r.add(t)}))})));T.push(m)}));if(T.length){var I=[];T.forEach((function(t){I.push("@".concat(t.triggerName," has failed due to:\n")),t.errors.forEach((function(t){return I.push("- ".concat(t,"\n"))}))})),E.forEach((function(t){return t.destroy()})),this.reportError(I)}var A=new Map,x=new Map;s.forEach((function(t){var e=t.element;r.has(e)&&(x.set(e,e),n._beforeAnimationBuild(t.player.namespaceId,t.instruction,A))})),i.forEach((function(t){var e=t.element;n._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach((function(t){ph(A,e,[]).push(t),t.destroy()}))}));var N=m.filter((function(t){return zf(t,u,l)})),D=new Map;Ff(D,this.driver,g,l,"*").forEach((function(t){zf(t,u,l)&&N.push(t)}));var O=new Map;d.forEach((function(t,e){Ff(O,n.driver,new Set(t),u,"!")})),N.forEach((function(t){var e=D.get(t),n=O.get(t);D.set(t,Object.assign({},e,n))}));var R=[],P=[],L={};s.forEach((function(t){var e=t.element,s=t.player,a=t.instruction;if(r.has(e)){if(c.has(e))return s.onDestroy((function(){return Vh(e,a.toStyles)})),s.disabled=!0,s.overrideTotalTime(a.totalTime),void i.push(s);var u=L;if(x.size>1){for(var l=e,h=[];l=l.parentNode;){var f=x.get(l);if(f){u=f;break}h.push(l)}h.forEach((function(t){return x.set(t,u)}))}var d=n._buildAnimation(s.namespaceId,a,A,o,O,D);if(s.setRealPlayer(d),u===L)R.push(s);else{var p=n.playersByElement.get(u);p&&p.length&&(s.parentPlayer=lh(p)),i.push(s)}}else Mh(e,a.fromStyles),s.onDestroy((function(){return Vh(e,a.toStyles)})),P.push(s),c.has(e)&&i.push(s)})),P.forEach((function(t){var e=o.get(t.element);if(e&&e.length){var n=lh(e);t.setRealPlayer(n)}})),i.forEach((function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()}));for(var V=0;V<m.length;V++){var M=m[V],F=M.__ng_removed;if(Bf(M,"ng-leave"),!F||!F.hasAnimation){var j=[];if(a.size){var U=a.get(M);U&&U.length&&j.push.apply(j,_toConsumableArray(U));for(var B=this.driver.query(M,".ng-animating",!0),q=0;q<B.length;q++){var z=a.get(B[q]);z&&z.length&&j.push.apply(j,_toConsumableArray(z))}}var H=j.filter((function(t){return!t.destroyed}));H.length?qf(this,M,H):this.processLeaveNode(M)}}return m.length=0,R.forEach((function(t){n.players.push(t),t.onDone((function(){t.destroy();var e=n.players.indexOf(t);n.players.splice(e,1)})),t.play()})),R}},{key:"elementContainsData",value:function(t,e){var n=!1,r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}},{key:"afterFlush",value:function(t){this._flushFns.push(t)}},{key:"afterFlushAnimationsDone",value:function(t){this._whenQuietFns.push(t)}},{key:"_getPreviousPlayers",value:function(t,e,n,r,i){var o=[];if(e){var s=this.playersByQueriedElement.get(t);s&&(o=s)}else{var a=this.playersByElement.get(t);if(a){var u=!i||"void"==i;a.forEach((function(t){t.queued||(u||t.triggerName==r)&&o.push(t)}))}}return(n||r)&&(o=o.filter((function(t){return!(n&&n!=t.namespaceId||r&&r!=t.triggerName)}))),o}},{key:"_beforeAnimationBuild",value:function(t,e,n){var r,i=this,o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName,u=_createForOfIteratorHelper(e.timelines);try{var l=function(){var t=r.value.element,u=t!==o,l=ph(n,t,[]);i._getPreviousPlayers(t,u,s,a,e.toState).forEach((function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)}))};for(u.s();!(r=u.n()).done;)l()}catch(c){u.e(c)}finally{u.f()}Mh(o,e.fromStyles)}},{key:"_buildAnimation",value:function(t,e,n,r,i,o){var s=this,a=e.triggerName,u=e.element,l=[],c=new Set,h=new Set,f=e.timelines.map((function(e){var f=e.element;c.add(f);var d=f.__ng_removed;if(d&&d.removedBeforeQueried)return new wc(e.duration,e.delay);var p,v,m=f!==u,y=(p=(n.get(f)||Af).map((function(t){return t.getRealPlayer()})),v=[],function t(e,n){for(var r=0;r<e.length;r++){var i=e[r];i instanceof kc?t(i.players,n):n.push(i)}}(p,v),v).filter((function(t){return!!t.element&&t.element===f})),g=i.get(f),_=o.get(f),b=ch(0,s._normalizer,0,e.keyframes,g,_),w=s._buildPlayer(e,b,y);if(e.subTimeline&&r&&h.add(f),m){var k=new Lf(t,a,f);k.setRealPlayer(w),l.push(k)}return w}));l.forEach((function(t){ph(s.playersByQueriedElement,t.element,[]).push(t),t.onDone((function(){return function(t,e,n){var r;if(t instanceof Map){if(r=t.get(e)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}}else if(r=t[e]){if(r.length){var o=r.indexOf(n);r.splice(o,1)}0==r.length&&delete t[e]}return r}(s.playersByQueriedElement,t.element,t)}))})),c.forEach((function(t){return Uf(t,"ng-animating")}));var d=lh(f);return d.onDestroy((function(){c.forEach((function(t){return Bf(t,"ng-animating")})),Vh(u,e.toStyles)})),h.forEach((function(t){ph(r,t,[]).push(d)})),d}},{key:"_buildPlayer",value:function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new wc(t.duration,t.delay)}},{key:"queuedPlayers",get:function(){var t=[];return this._namespaceList.forEach((function(e){e.players.forEach((function(e){e.queued&&t.push(e)}))})),t}}]),t}(),Lf=function(){function t(e,n,r){_classCallCheck(this,t),this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new wc,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass(t,[{key:"setRealPlayer",value:function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach((function(n){e._queuedCallbacks[n].forEach((function(e){return hh(t,n,void 0,e)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(t){this.totalTime=t}},{key:"syncPlayerEvents",value:function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart((function(){return n.triggerCallback("start")})),t.onDone((function(){return e.finish()})),t.onDestroy((function(){return e.destroy()}))}},{key:"_queueEvent",value:function(t,e){ph(this._queuedCallbacks,t,[]).push(e)}},{key:"onDone",value:function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}},{key:"onStart",value:function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}},{key:"onDestroy",value:function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(t){this.queued||this._player.setPosition(t)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)}}]),t}();function Vf(t){return t&&1===t.nodeType}function Mf(t,e){var n=t.style.display;return t.style.display=null!=e?e:"none",n}function Ff(t,e,n,r,i){var o=[];n.forEach((function(t){return o.push(Mf(t))}));var s=[];r.forEach((function(n,r){var o={};n.forEach((function(t){var n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Nf,s.push(r))})),t.set(r,o)}));var a=0;return n.forEach((function(t){return Mf(t,o[a++])})),s}function jf(t,e){var n=new Map;if(t.forEach((function(t){return n.set(t,[])})),0==e.length)return n;var r=new Set(e),i=new Map;return e.forEach((function(t){var e=function t(e){if(!e)return 1;var o=i.get(e);if(o)return o;var s=e.parentNode;return o=n.has(s)?s:r.has(s)?1:t(s),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)})),n}function Uf(t,e){if(t.classList)t.classList.add(e);else{var n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Bf(t,e){if(t.classList)t.classList.remove(e);else{var n=t.$$classes;n&&delete n[e]}}function qf(t,e,n){lh(n).onDone((function(){return t.processLeaveNode(e)}))}function zf(t,e,n){var r=n.get(t);if(!r)return!1;var i=e.get(t);return i?r.forEach((function(t){return i.add(t)})):e.set(t,r),n.delete(t),!0}var Hf=function(){function t(e,n,r){var i=this;_classCallCheck(this,t),this.bodyNode=e,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new Pf(e,n,r),this._timelineEngine=new If(e,n,r),this._transitionEngine.onRemovalComplete=function(t,e){return i.onRemovalComplete(t,e)}}return _createClass(t,[{key:"registerTrigger",value:function(t,e,n,r,i){var o=t+"-"+r,s=this._triggerCache[o];if(!s){var a=[],u=$h(this._driver,i,a);if(a.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(a.join("\n - ")));s=function(t,e){return new Ef(t,e)}(r,u),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,r,s)}},{key:"register",value:function(t,e){this._transitionEngine.register(t,e)}},{key:"destroy",value:function(t,e){this._transitionEngine.destroy(t,e)}},{key:"onInsert",value:function(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}},{key:"onRemove",value:function(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}},{key:"disableAnimations",value:function(t,e){this._transitionEngine.markElementAsDisabled(t,e)}},{key:"process",value:function(t,e,n,r){if("@"==n.charAt(0)){var i=_slicedToArray(vh(n),2),o=i[0],s=i[1];this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(t,e,n,r)}},{key:"listen",value:function(t,e,n,r,i){if("@"==n.charAt(0)){var o=_slicedToArray(vh(n),2),s=o[0],a=o[1];return this._timelineEngine.listen(s,e,a,i)}return this._transitionEngine.listen(t,e,n,r,i)}},{key:"flush",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(t)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]),t}();function Gf(t,e){var n=null,r=null;return Array.isArray(e)&&e.length?(n=Wf(e[0]),e.length>1&&(r=Wf(e[e.length-1]))):e&&(n=Wf(e)),n||r?new Kf(t,n,r):null}var Kf=function(){var t=function(){function t(e,n,r){_classCallCheck(this,t),this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;var i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}return _createClass(t,[{key:"start",value:function(){this._state<1&&(this._startStyles&&Vh(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(Vh(this._element,this._initialStyles),this._endStyles&&(Vh(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Mh(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Mh(this._element,this._endStyles),this._endStyles=null),Vh(this._element,this._initialStyles),this._state=3)}}]),t}();return t.initialStylesByElement=new WeakMap,t}();function Wf(t){for(var e=null,n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];Qf(i)&&((e=e||{})[i]=t[i])}return e}function Qf(t){return"display"===t||"position"===t}var Zf=function(){function t(e,n,r,i,o,s,a){var u=this;_classCallCheck(this,t),this._element=e,this._name=n,this._duration=r,this._delay=i,this._easing=o,this._fillMode=s,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(t){return u._handleCallback(t)}}return _createClass(t,[{key:"apply",value:function(){var t,e,n;t=this._element,e="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=ed(t,"").trim()).length&&(function(t,e){for(var n=0;n<t.length;n++)t.charAt(n)}(n),e="".concat(n,", ").concat(e)),td(t,"",e),$f(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){Yf(this._element,this._name,"paused")}},{key:"resume",value:function(){Yf(this._element,this._name,"running")}},{key:"setPosition",value:function(t){var e=Xf(this._element,this._name);this._position=t*this._duration,td(this._element,"Delay","-".concat(this._position,"ms"),e)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(t){var e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),$f(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){var n=ed(t,"").split(","),r=Jf(n,e);r>=0&&(n.splice(r,1),td(t,"",n.join(",")))}(this._element,this._name))}}]),t}();function Yf(t,e,n){td(t,"PlayState",n,Xf(t,e))}function Xf(t,e){var n=ed(t,"");return n.indexOf(",")>0?Jf(n.split(","),e):Jf([n],e)}function Jf(t,e){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function $f(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function td(t,e,n,r){var i="animation"+e;if(null!=r){var o=t.style[i];if(o.length){var s=o.split(",");s[r]=n,n=s.join(",")}}t.style[i]=n}function ed(t,e){return t.style["animation"+e]}var nd=function(){function t(e,n,r,i,o,s,a,u){_classCallCheck(this,t),this.element=e,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=o,this._finalStyles=a,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=i+o,this._buildStyler()}return _createClass(t,[{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(t){this._styler.setPosition(t)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var t=this;this._styler=new Zf(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return t.finish()}))}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}},{key:"beforeDestroy",value:function(){var t=this;this.init();var e={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(r){"offset"!=r&&(e[r]=n?t._finalStyles[r]:Qh(t.element,r))}))}this.currentSnapshot=e}}]),t}(),rd=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).element=t,i._startingStyles={},i.__initialized=!1,i._styles=Sh(r),i}return _createClass(n,[{key:"init",value:function(){var t=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(e){t._startingStyles[e]=t.element.style[e]})),_get(_getPrototypeOf(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var t=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(e){return t.element.style.setProperty(e,t._styles[e])})),_get(_getPrototypeOf(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var t=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(e){var n=t._startingStyles[e];n?t.element.style.setProperty(e,n):t.element.style.removeProperty(e)})),this._startingStyles=null,_get(_getPrototypeOf(n.prototype),"destroy",this).call(this))}}]),n}(wc),id=function(){function t(){_classCallCheck(this,t),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return kh(t)}},{key:"matchesElement",value:function(t,e){return Ch(t,e)}},{key:"containsElement",value:function(t,e){return Eh(t,e)}},{key:"query",value:function(t,e,n){return Th(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"buildKeyframeElement",value:function(t,e,n){n=n.map((function(t){return Sh(t)}));var r="@keyframes ".concat(e," {\n"),i="";n.forEach((function(t){i=" ";var e=parseFloat(t.offset);r+="".concat(i).concat(100*e,"% {\n"),i+=" ",Object.keys(t).forEach((function(e){var n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(e,": ").concat(n,";\n"))}})),r+="".concat(i,"}\n")})),r+="}\n";var o=document.createElement("style");return o.innerHTML=r,o}},{key:"animate",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6?arguments[6]:void 0;s&&this._notifyFaultyScrubber();var a=o.filter((function(t){return t instanceof nd})),u={};Gh(n,r)&&a.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return u[t]=e[t]}))}));var l=function(t){var e={};return t&&(Array.isArray(t)?t:[t]).forEach((function(t){Object.keys(t).forEach((function(n){"offset"!=n&&"easing"!=n&&(e[n]=t[n])}))})),e}(e=Kh(t,e,u));if(0==n)return new rd(t,l);var c="gen_css_kf_".concat(this._count++),h=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(h);var f=Gf(t,e),d=new nd(t,e,c,n,r,i,l,f);return d.onDestroy((function(){var t;(t=h).parentNode.removeChild(t)})),d}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),t}(),od=function(){function t(e,n,r,i){_classCallCheck(this,t),this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return t._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(t,e,n){return t.animate(e,n)}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(t){this.domPlayer.currentTime=t*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:Qh(t.element,n))})),this.currentSnapshot=e}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),t}(),sd=function(){function t(){_classCallCheck(this,t),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(ad().toString()),this._cssKeyframesDriver=new id}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return kh(t)}},{key:"matchesElement",value:function(t,e){return Ch(t,e)}},{key:"containsElement",value:function(t,e){return Eh(t,e)}},{key:"query",value:function(t,e,n){return Th(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"overrideWebAnimationsSupport",value:function(t){this._isNativeImpl=t}},{key:"animate",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6?arguments[6]:void 0;if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);var a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);var u={},l=o.filter((function(t){return t instanceof od}));Gh(n,r)&&l.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return u[t]=e[t]}))}));var c=Gf(t,e=Kh(t,e=e.map((function(t){return Rh(t,!1)})),u));return new od(t,e,a,c)}}]),t}();function ad(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var ud=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this))._nextAnimationId=0,i._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Ft.None,styles:[],data:{animation:[]}}),i}return _createClass(n,[{key:"build",value:function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?gc(t):t;return hd(this._renderer,null,e,"register",[n]),new ld(e,this._renderer)}}]),n}(yc),ld=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this))._id=t,i._renderer=r,i}return _createClass(n,[{key:"create",value:function(t,e){return new cd(this._id,t,e||{},this._renderer)}}]),n}(function(){return function t(){_classCallCheck(this,t)}}()),cd=function(){function t(e,n,r,i){_classCallCheck(this,t),this.id=e,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return _createClass(t,[{key:"_listen",value:function(t,e){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(t),e)}},{key:"_command",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return hd(this._renderer,this.element,this.id,t,n)}},{key:"onDone",value:function(t){this._listen("done",t)}},{key:"onStart",value:function(t){this._listen("start",t)}},{key:"onDestroy",value:function(t){this._listen("destroy",t)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(t){this._command("setPosition",t)}},{key:"getPosition",value:function(){return 0}}]),t}();function hd(t,e,n,r,i){return t.setProperty(e,"@@".concat(n,":").concat(r),i)}var fd=function(){function t(e,n,r){_classCallCheck(this,t),this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return _createClass(t,[{key:"createRenderer",value:function(t,e){var n=this,r=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var i=this._rendererCache.get(r);return i||(i=new dd("",r,this.engine),this._rendererCache.set(r,i)),i}var o=e.id,s=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(s,t),e.data.animation.forEach((function(e){return n.engine.registerTrigger(o,s,t,e.name,e)})),new pd(this,s,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var t=this;this.promise.then((function(){t._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(t,e,n){var r=this;t>=0&&t<this._microtaskId?this._zone.run((function(){return e(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){r._zone.run((function(){r._animationCallbacksBuffer.forEach((function(t){var e=_slicedToArray(t,2);(0,e[0])(e[1])})),r._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([e,n]))}},{key:"end",value:function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),t}(),dd=function(){function t(e,n,r){_classCallCheck(this,t),this.namespaceId=e,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(t){return n.destroyNode(t)}:null}return _createClass(t,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(t,e){return this.delegate.createElement(t,e)}},{key:"createComment",value:function(t){return this.delegate.createComment(t)}},{key:"createText",value:function(t){return this.delegate.createText(t)}},{key:"appendChild",value:function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}},{key:"insertBefore",value:function(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}},{key:"removeChild",value:function(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}},{key:"selectRootElement",value:function(t,e){return this.delegate.selectRootElement(t,e)}},{key:"parentNode",value:function(t){return this.delegate.parentNode(t)}},{key:"nextSibling",value:function(t){return this.delegate.nextSibling(t)}},{key:"setAttribute",value:function(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}},{key:"removeAttribute",value:function(t,e,n){this.delegate.removeAttribute(t,e,n)}},{key:"addClass",value:function(t,e){this.delegate.addClass(t,e)}},{key:"removeClass",value:function(t,e){this.delegate.removeClass(t,e)}},{key:"setStyle",value:function(t,e,n,r){this.delegate.setStyle(t,e,n,r)}},{key:"removeStyle",value:function(t,e,n){this.delegate.removeStyle(t,e,n)}},{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}},{key:"setValue",value:function(t,e){this.delegate.setValue(t,e)}},{key:"listen",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"disableAnimations",value:function(t,e){this.engine.disableAnimations(t,e)}},{key:"data",get:function(){return this.delegate.data}}]),t}(),pd=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var s;return _classCallCheck(this,n),(s=e.call(this,r,i,o)).factory=t,s.namespaceId=r,s}return _createClass(n,[{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}},{key:"listen",value:function(t,e,n){var r,i,o=this;if("@"==e.charAt(0)){var s,a=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t),u=e.substr(1),l="";return"@"!=u.charAt(0)&&(i=(r=u).indexOf("."),u=(s=_slicedToArray([r.substring(0,i),r.substr(i+1)],2))[0],l=s[1]),this.engine.listen(this.namespaceId,a,u,l,(function(t){o.factory.scheduleListenerCallback(t._data||-1,n,t)}))}return this.delegate.listen(t,e,n)}}]),n}(dd),vd=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){return _classCallCheck(this,n),e.call(this,t.body,r,i)}return n}(Hf);function md(){return"function"==typeof ad()?new sd:new id}function yd(){return new gf}function gd(t,e,n){return new fd(t,e,n)}var _d=new Et("AnimationModuleType"),bd=function t(){_classCallCheck(this,t)},wd=Un({encapsulation:2,styles:[],data:{}});function kd(t){return qo(2,[Vo(null,0)],null,null)}var Cd=Un({encapsulation:2,styles:[],data:{animation:[{type:7,name:"transform",definitions:[{type:0,name:"open, open-instant",styles:{type:6,styles:{transform:"none",visibility:"visible"},offset:null},options:void 0},{type:0,name:"void",styles:{type:6,styles:{"box-shadow":"none",visibility:"hidden"},offset:null},options:void 0},{type:1,expr:"void => open-instant",animation:{type:4,styles:null,timings:"0ms"},options:null},{type:1,expr:"void <=> open, open-instant => void",animation:{type:4,styles:null,timings:"400ms cubic-bezier(0.25, 0.8, 0.25, 1)"},options:null}],options:{}}]}});function Ed(t){return qo(2,[(t()(),So(0,0,null,null,1,"div",[["class","mat-drawer-inner-container"]],null,null,null,null,null)),Vo(null,0)],null,null)}var Td=Un({encapsulation:2,styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:background-color,visibility}@media (-ms-high-contrast:active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%,0,0)}@media (-ms-high-contrast:active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media (-ms-high-contrast:active){.mat-drawer.mat-drawer-end,[dir=rtl] .mat-drawer{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer{transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%,0,0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}"],data:{}});function Sd(t){return qo(0,[(t()(),So(0,0,null,null,0,"div",[["class","mat-drawer-backdrop"]],[[2,"mat-drawer-shown",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component._onBackdropClicked()&&r),r}),null,null))],null,(function(t,e){t(e,0,0,e.component._isShowingBackdrop())}))}function Id(t){return qo(0,[(t()(),So(0,0,null,null,3,"mat-sidenav-content",[["cdkScrollable",""],["class","mat-drawer-content mat-sidenav-content"]],[[4,"margin-left","px"],[4,"margin-right","px"]],null,null,kd,wd)),Qr(1,212992,null,0,$c,[Xe,Jc,Ki,[2,dc]],null,null),Qr(2,1294336,null,0,ih,[we,sh,Xe,Jc,Ki],null,null),Vo(0,2)],(function(t,e){t(e,1,0),t(e,2,0)}),(function(t,e){t(e,0,0,Lr(e,2)._container._contentMargins.left,Lr(e,2)._container._contentMargins.right)}))}function Ad(t){return qo(2,[Do(671088640,1,{_userContent:0}),(t()(),To(16777216,null,null,1,null,Sd)),Qr(2,16384,null,0,Na,[Cn,wn],{ngIf:[0,"ngIf"]},null),Vo(null,0),Vo(null,1),(t()(),To(16777216,null,null,1,null,Id)),Qr(6,16384,null,0,Na,[Cn,wn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.hasBackdrop),t(e,6,0,!n._content)}),null)}var xd=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;_classCallCheck(this,n),(i=e.call(this,t)).sources=r,i.completed=0,i.haveValues=0;var o=r.length;i.values=new Array(o);for(var s=0;s<o;s++){var a=U(_assertThisInitialized(i),r[s],null,s);a&&i.add(a)}return i}return _createClass(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.values[n]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)}},{key:"notifyComplete",value:function(t){var e=this.destination,n=this.haveValues,r=this.values,i=r.length;t._hasValue?(this.completed++,this.completed===i&&(n===i&&e.next(r),e.complete())):e.complete()}}]),n}(B),Nd=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),t}());function Dd(t){return null==t||0===t.length}var Od=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Rd=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"min",value:function(t){return function(e){if(Dd(e.value)||Dd(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}},{key:"max",value:function(t){return function(e){if(Dd(e.value)||Dd(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}},{key:"required",value:function(t){return Dd(t.value)?{required:!0}:null}},{key:"requiredTrue",value:function(t){return!0===t.value?null:{required:!0}}},{key:"email",value:function(t){return Dd(t.value)?null:Od.test(t.value)?null:{email:!0}}},{key:"minLength",value:function(t){return function(e){if(Dd(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}},{key:"maxLength",value:function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}},{key:"pattern",value:function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(Dd(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){if(!t)return null;var e=t.filter(Pd);return 0==e.length?null:function(t){return Vd(function(t,e){return e.map((function(e){return e(t)}))}(t,e))}}},{key:"composeAsync",value:function(t){if(!t)return null;var e=t.filter(Pd);return 0==e.length?null:function(t){return function t(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i;return"function"==typeof n[n.length-1]&&(i=n.pop()),1===n.length&&u(n[0])&&(n=n[0]),0===n.length?ul:i?t(n).pipe(q((function(t){return i.apply(void 0,_toConsumableArray(t))}))):new w((function(t){return new xd(t,n)}))}(function(t,e){return e.map((function(e){return e(t)}))}(t,e).map(Ld)).pipe(q(Vd))}}}]),t}();function Pd(t){return null!=t}function Ld(t){var e=Ue(t)?K(t):t;if(!Be(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Vd(t){var e=t.reduce((function(t,e){return null!=e?Object.assign({},t,e):t}),{});return 0===Object.keys(e).length?null:e}function Md(t){return t.validate?function(e){return t.validate(e)}:t}function Fd(t){return t.validate?function(e){return t.validate(e)}:t}function jd(t,e){t||zd(e,"Cannot find control with"),e.valueAccessor||zd(e,"No value accessor for form control with"),t.validator=Rd.compose([t.validator,e.validator]),t.asyncValidator=Rd.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange((function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Ud(t,e)}))}(t,e),function(t,e){t.registerOnChange((function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}))}(t,e),function(t,e){e.valueAccessor.registerOnTouched((function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Ud(t,e),"submit"!==t.updateOn&&t.markAsTouched()}))}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange((function(t){e.valueAccessor.setDisabledState(t)})),e._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))})),e._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))}))}function Ud(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Bd(t,e){null==t&&zd(e,"Cannot find control with"),t.validator=Rd.compose([t.validator,e.validator]),t.asyncValidator=Rd.composeAsync([t.asyncValidator,e.asyncValidator])}function qd(t){return zd(t,"There is no FormControl instance attached to form control element with")}function zd(t,e){var n;throw n=t.path.length>1?"path: '".concat(t.path.join(" -> "),"'"):t.path[0]?"name: '".concat(t.path,"'"):"unspecified name attribute",new Error("".concat(e," ").concat(n))}function Hd(t){return null!=t?Rd.compose(t.map(Md)):null}function Gd(t){return null!=t?Rd.composeAsync(t.map(Fd)):null}function Kd(t,e){t._syncPendingControls(),e.forEach((function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}))}function Wd(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function Qd(t){var e=Yd(t)?t.validators:t;return Array.isArray(e)?Hd(e):e||null}function Zd(t,e){var n=Yd(e)?e.asyncValidators:t;return Array.isArray(n)?Gd(n):n||null}function Yd(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var Xd=function(){function t(e,n){_classCallCheck(this,t),this.validator=e,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(t,[{key:"setValidators",value:function(t){this.validator=Qd(t)}},{key:"setAsyncValidators",value:function(t){this.asyncValidator=Zd(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(t){return t.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(t){t.markAsUntouched({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(t){t.markAsPristine({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(e){e.disable(Object.assign({},t,{onlySelf:!0}))})),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!0)}))}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild((function(e){e.enable(Object.assign({},t,{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!1)}))}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(e){return e._updateTreeValidity(t)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=Ld(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return e.setErrors(n,{emitEvent:t})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce((function(t,e){return t instanceof $d?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof tp&&t.at(e)||null}),t))}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new yi,this.statusChanges=new yi}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls((function(e){return e.status===t}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(t){return t.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(t){return t.touched}))}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){Yd(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}}]),t}(),Jd=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(t=e.call(this,Qd(i),Zd(o,i)))._onChange=[],t._applyFormState(r),t._setUpdateStrategy(i),t.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),t._initObservables(),t}return _createClass(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(t){return t(e.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}(Xd),$d=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,Qd(r),Zd(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach((function(r){e._throwIfControlMissing(r),e.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(r){e.controls[r]&&e.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(t,e,n){return t[n]=e instanceof Jd?e.value:e.getRawValue(),t}))}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,(function(t,e){return!!e._syncPendingControls()||t}));return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach((function(n){return t(e.controls[n],n)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){var e=this,n=!1;return this._forEachChild((function(r,i){n=n||e.contains(i)&&t(r)})),n}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},(function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e}))}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild((function(t,r){n=e(n,t,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(Xd),tp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,Qd(r),Zd(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach((function(t,r){e._throwIfControlMissing(r),e.at(r).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach((function(t,r){e.at(r)&&e.at(r).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map((function(t){return t instanceof Jd?t.value:t.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(t){return t._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce((function(t,e){return!!e._syncPendingControls()||t}),!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index ".concat(t))}},{key:"_forEachChild",value:function(t){this.controls.forEach((function(e,n){t(e,n)}))}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter((function(e){return e.enabled||t.disabled})).map((function(t){return t.value}))}},{key:"_anyControls",value:function(t){return this.controls.some((function(e){return e.enabled&&t(e)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){return t._registerControl(e)}))}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var t,e=_createForOfIteratorHelper(this.controls);try{for(e.s();!(t=e.n()).done;){if(t.value.enabled)return!1}}catch(n){e.e(n)}finally{e.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),n}(Xd),ep=Promise.resolve(null),np=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).submitted=!1,i._directives=[],i.ngSubmit=new yi,i.form=new $d({},Hd(t),Gd(r)),i}return _createClass(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(t){var e=this;ep.then((function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),jd(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)}))}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e=this;ep.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),Wd(e._directives,t)}))}},{key:"addFormGroup",value:function(t){var e=this;ep.then((function(){var n=e._findContainer(t.path),r=new $d({});Bd(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(t){var e=this;ep.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)}))}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){var n=this;ep.then((function(){n.form.get(t.path).setValue(e)}))}},{key:"setValue",value:function(t){this.control.setValue(t)}},{key:"onSubmit",value:function(t){return this.submitted=!0,Kd(this.form,this._directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(t){return t.pop(),t.length?this.form.get(t):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),n}(Nd),rp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this))._validators=t,i._asyncValidators=r,i.submitted=!1,i.directives=[],i.form=null,i.ngSubmit=new yi,i}return _createClass(n,[{key:"ngOnChanges",value:function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"addControl",value:function(t){var e=this.form.get(t.path);return jd(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){Wd(this.directives,t)}},{key:"addFormGroup",value:function(t){var e=this.form.get(t.path);Bd(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(t){}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"addFormArray",value:function(t){var e=this.form.get(t.path);Bd(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(t){}},{key:"getFormArray",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){this.form.get(t.path).setValue(e)}},{key:"onSubmit",value:function(t){return this.submitted=!0,Kd(this.form,this.directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_updateDomValue",value:function(){var t=this;this.directives.forEach((function(e){var n=t.form.get(e.path);e.control!==n&&(function(t,e){e.valueAccessor.registerOnChange((function(){return qd(e)})),e.valueAccessor.registerOnTouched((function(){return qd(e)})),e._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),e._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),t&&t._clearChangeFns()}(e.control,e),n&&jd(n,e),e.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var t=this;this.form._registerOnCollectionChange((function(){return t._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var t=Hd(this._validators);this.form.validator=Rd.compose([this.form.validator,t]);var e=Gd(this._asyncValidators);this.form.asyncValidator=Rd.composeAsync([this.form.asyncValidator,e])}},{key:"_checkFormPresent",value:function(){this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}}]),n}(Nd),ip=Wl((function t(){_classCallCheck(this,t)})),op=Wl((function t(){_classCallCheck(this,t)})),sp=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments))._stateChanges=new A,t}return _createClass(n,[{key:"ngOnChanges",value:function(){this._stateChanges.next()}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}}]),n}(ip),ap=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._elementRef=t,r._stateChanges=new A,"action-list"===r._getListType()&&t.nativeElement.classList.add("mat-action-list"),r}return _createClass(n,[{key:"_getListType",value:function(){var t=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===t?"list":"mat-action-list"===t?"action-list":null}},{key:"ngOnChanges",value:function(){this._stateChanges.next()}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}}]),n}(ip),up=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var s;_classCallCheck(this,n),(s=e.call(this))._element=t,s._isInteractiveList=!1,s._destroyed=new A,s._isInteractiveList=!!(i||o&&"action-list"===o._getListType()),s._list=i||o;var a=s._getHostElement();return"button"!==a.nodeName.toLowerCase()||a.hasAttribute("type")||a.setAttribute("type","button"),s._list&&s._list._stateChanges.pipe(Mc(s._destroyed)).subscribe((function(){r.markForCheck()})),s}return _createClass(n,[{key:"ngAfterContentInit",value:function(){var t,e;e=this._element,(t=this._lines).changes.pipe(hl(t)).subscribe((function(t){var n=t.length;Yl(e,"mat-2-line",!1),Yl(e,"mat-3-line",!1),Yl(e,"mat-multi-line",!1),2===n||3===n?Yl(e,"mat-".concat(n,"-line"),!0):n>3&&Yl(e,"mat-multi-line",!0)}))}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete()}},{key:"_isRippleDisabled",value:function(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}},{key:"_getHostElement",value:function(){return this._element.nativeElement}}]),n}(op),lp=function t(){_classCallCheck(this,t)},cp=function t(){_classCallCheck(this,t)},hp=Un({encapsulation:2,styles:[".mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:0}mat-action-list button{background:0 0;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:0}@media (-ms-high-contrast:active){.mat-selection-list:focus{outline-style:dotted}.mat-list-option:focus,.mat-list-option:hover,.mat-nav-list .mat-list-item:focus,.mat-nav-list .mat-list-item:hover,mat-action-list .mat-list-item:focus,mat-action-list .mat-list-item:hover{outline:dotted 1px}}@media (hover:none){.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-list-option:not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover{background:0 0}}"],data:{}});function fp(t){return qo(2,[Vo(null,0)],null,null)}var dp=Un({encapsulation:2,styles:[],data:{}});function pp(t){return qo(2,[(t()(),So(0,0,null,null,6,"div",[["class","mat-list-item-content"]],null,null,null,null,null)),(t()(),So(1,0,null,null,1,"div",[["class","mat-list-item-ripple mat-ripple"],["mat-ripple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),Qr(2,212992,null,0,oc,[Xe,Ki,el,[2,ic],[2,_d]],{disabled:[0,"disabled"],trigger:[1,"trigger"]},null),Vo(null,0),(t()(),So(4,0,null,null,1,"div",[["class","mat-list-text"]],null,null,null,null,null)),Vo(null,1),Vo(null,2)],(function(t,e){var n=e.component;t(e,2,0,n._isRippleDisabled(),n._getHostElement())}),(function(t,e){t(e,1,0,Lr(e,2).unbounded)}))}var vp=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),mp=Un({encapsulation:0,styles:[[""]],data:{}});function yp(t){return qo(0,[(t()(),So(0,0,null,null,13,"mat-action-list",[["class","mat-list mat-list-base"]],null,null,null,fp,hp)),Qr(1,704512,null,0,ap,[Xe],null,null),(t()(),So(2,0,null,0,5,"button",[["class","mat-list-item"],["mat-list-item",""]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,pp,dp)),Qr(3,1228800,null,3,up,[Xe,we,[2,sp],[2,ap]],null,null),Do(603979776,1,{_lines:1}),Do(603979776,2,{_avatar:0}),Do(603979776,3,{_icon:0}),(t()(),jo(-1,2,[" Transactions "])),(t()(),So(8,0,null,0,5,"button",[["class","mat-list-item"],["mat-list-item",""]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,pp,dp)),Qr(9,1228800,null,3,up,[Xe,we,[2,sp],[2,ap]],null,null),Do(603979776,4,{_lines:1}),Do(603979776,5,{_avatar:0}),Do(603979776,6,{_icon:0}),(t()(),jo(-1,2,[" Undo "]))],null,(function(t,e){t(e,2,0,Lr(e,3)._avatar||Lr(e,3)._icon,Lr(e,3)._avatar||Lr(e,3)._icon),t(e,8,0,Lr(e,9)._avatar||Lr(e,9)._icon,Lr(e,9)._avatar||Lr(e,9)._icon)}))}var gp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._value=t,r}return _createClass(n,[{key:"_subscribe",value:function(t){var e=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new T;return this._value}},{key:"next",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=t)}},{key:"value",get:function(){return this.getValue()}}]),n}(A);function _p(t){return function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;_classCallCheck(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i)))._sticky=!1,t._hasStickyChanged=!1,t}return _createClass(n,[{key:"hasStickyChanged",value:function(){var t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}},{key:"resetStickyChanged",value:function(){this._hasStickyChanged=!1}},{key:"sticky",get:function(){return this._sticky},set:function(t){var e=this._sticky;this._sticky=Yu(t),this._hasStickyChanged=e!==this._sticky}}]),n}(t)}var bp=function t(e){_classCallCheck(this,t),this.template=e},wp=function t(e){_classCallCheck(this,t),this.template=e},kp=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments))._stickyEnd=!1,t}return _createClass(n,[{key:"name",get:function(){return this._name},set:function(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"))}},{key:"stickyEnd",get:function(){return this._stickyEnd},set:function(t){var e=this._stickyEnd;this._stickyEnd=Yu(t),this._hasStickyChanged=e!==this._stickyEnd}}]),n}(_p((function t(){_classCallCheck(this,t)}))),Cp=function t(e,n){_classCallCheck(this,t),n.nativeElement.classList.add("cdk-column-".concat(e.cssClassFriendlyName))},Ep=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){return _classCallCheck(this,n),e.call(this,t,r)}return n}(Cp),Tp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){return _classCallCheck(this,n),e.call(this,t,r)}return n}(Cp),Sp=function(){function t(e,n){_classCallCheck(this,t),this.template=e,this._differs=n}return _createClass(t,[{key:"ngOnChanges",value:function(t){if(!this._columnsDiffer){var e=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(e).create(),this._columnsDiffer.diff(e)}}},{key:"getColumnsDiff",value:function(){return this._columnsDiffer.diff(this.columns)}},{key:"extractCellTemplate",value:function(t){return this instanceof Ip?t.headerCell.template:this instanceof Ap?t.footerCell.template:t.cell.template}}]),t}(),Ip=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){return _classCallCheck(this,n),e.call(this,t,r)}return _createClass(n,[{key:"ngOnChanges",value:function(t){_get(_getPrototypeOf(n.prototype),"ngOnChanges",this).call(this,t)}}]),n}(_p(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(Sp))),Ap=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){return _classCallCheck(this,n),e.call(this,t,r)}return _createClass(n,[{key:"ngOnChanges",value:function(t){_get(_getPrototypeOf(n.prototype),"ngOnChanges",this).call(this,t)}}]),n}(_p(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(Sp))),xp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){return _classCallCheck(this,n),e.call(this,t,r)}return n}(Sp),Np=function(){var t=function(){function t(e){_classCallCheck(this,t),this._viewContainer=e,t.mostRecentCellOutlet=this}return _createClass(t,[{key:"ngOnDestroy",value:function(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}}]),t}();return t.mostRecentCellOutlet=null,t}(),Dp=function t(){_classCallCheck(this,t)},Op=function t(){_classCallCheck(this,t)},Rp=["top","bottom","left","right"],Pp=function(){function t(e,n,r){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];_classCallCheck(this,t),this._isNativeHtmlTable=e,this._stickCellCss=n,this.direction=r,this._isBrowser=i}return _createClass(t,[{key:"clearStickyPositioning",value:function(t,e){var n,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.nodeType===i.ELEMENT_NODE){this._removeStickyStyle(i,e);for(var o=0;o<i.children.length;o++)this._removeStickyStyle(i.children[o],e)}}}catch(s){r.e(s)}finally{r.f()}}},{key:"updateStickyColumns",value:function(t,e,n){var r=e.some((function(t){return t}))||n.some((function(t){return t}));if(t.length&&r&&this._isBrowser){var i,o=t[0],s=o.children.length,a=this._getCellWidths(o),u=this._getStickyStartColumnPositions(a,e),l=this._getStickyEndColumnPositions(a,n),c="rtl"===this.direction,h=_createForOfIteratorHelper(t);try{for(h.s();!(i=h.n()).done;)for(var f=i.value,d=0;d<s;d++){var p=f.children[d];e[d]&&this._addStickyStyle(p,c?"right":"left",u[d]),n[d]&&this._addStickyStyle(p,c?"left":"right",l[d])}}catch(v){h.e(v)}finally{h.f()}}}},{key:"stickRows",value:function(t,e,n){if(this._isBrowser)for(var r="bottom"===n?t.reverse():t,i=0,o=0;o<r.length;o++)if(e[o]){var s=r[o];if(this._isNativeHtmlTable)for(var a=0;a<s.children.length;a++)this._addStickyStyle(s.children[a],n,i);else this._addStickyStyle(s,n,i);if(o===r.length-1)return;i+=s.getBoundingClientRect().height}}},{key:"updateStickyFooterContainer",value:function(t,e){if(this._isNativeHtmlTable){var n=t.querySelector("tfoot");e.some((function(t){return!t}))?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0)}}},{key:"_removeStickyStyle",value:function(t,e){var n,r=_createForOfIteratorHelper(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.style[i]=""}}catch(o){r.e(o)}finally{r.f()}t.style.zIndex=this._getCalculatedZIndex(t),Rp.some((function(e){return!!t.style[e]}))||(t.style.position="",t.classList.remove(this._stickCellCss))}},{key:"_addStickyStyle",value:function(t,e,n){t.classList.add(this._stickCellCss),t.style[e]="".concat(n,"px"),t.style.cssText+="position: -webkit-sticky; position: sticky; ",t.style.zIndex=this._getCalculatedZIndex(t)}},{key:"_getCalculatedZIndex",value:function(t){var e,n={top:100,bottom:10,left:1,right:1},r=0,i=_createForOfIteratorHelper(Rp);try{for(i.s();!(e=i.n()).done;){var o=e.value;t.style[o]&&(r+=n[o])}}catch(s){i.e(s)}finally{i.f()}return r?"".concat(r):""}},{key:"_getCellWidths",value:function(t){for(var e=[],n=t.children,r=0;r<n.length;r++)e.push(n[r].getBoundingClientRect().width);return e}},{key:"_getStickyStartColumnPositions",value:function(t,e){for(var n=[],r=0,i=0;i<t.length;i++)e[i]&&(n[i]=r,r+=t[i]);return n}},{key:"_getStickyEndColumnPositions",value:function(t,e){for(var n=[],r=0,i=t.length;i>0;i--)e[i]&&(n[i]=r,r+=t[i]);return n}}]),t}();function Lp(t){return Error('Could not find column with id "'.concat(t,'".'))}var Vp=function t(e,n){_classCallCheck(this,t),this.viewContainer=e,this.elementRef=n},Mp=function t(e,n){_classCallCheck(this,t),this.viewContainer=e,this.elementRef=n},Fp=function t(e,n){_classCallCheck(this,t),this.viewContainer=e,this.elementRef=n},jp=function(){function t(e,n,r,i,o,s,a){_classCallCheck(this,t),this._differs=e,this._changeDetectorRef=n,this._elementRef=r,this._dir=o,this._platform=a,this._onDestroy=new A,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this._multiTemplateDataRows=!1,this.viewChange=new gp({start:0,end:Number.MAX_VALUE}),i||this._elementRef.nativeElement.setAttribute("role","grid"),this._document=s,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((function(e,n){return t.trackBy?t.trackBy(n.dataIndex,n.data):n}))}},{key:"ngAfterContentChecked",value:function(){if(this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&!this._rowDefs.length)throw Error("Missing definitions for header, footer, and row; cannot determine which columns should be rendered.");this._renderUpdatedColumns(),this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription&&this._observeRenderChanges(),this._checkStickyStates()}},{key:"ngOnDestroy",value:function(){this._rowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),Qc(this.dataSource)&&this.dataSource.disconnect(this)}},{key:"renderRows",value:function(){var t=this;this._renderRows=this._getAllRenderRows();var e=this._dataDiffer.diff(this._renderRows);if(e){var n=this._rowOutlet.viewContainer;e.forEachOperation((function(e,r,i){if(null==e.previousIndex)t._insertRow(e.item,i);else if(null==i)n.remove(r);else{var o=n.get(r);n.move(o,i)}})),this._updateRowIndexContext(),e.forEachIdentityChange((function(t){n.get(t.currentIndex).context.$implicit=t.item.data})),this.updateStickyColumnStyles()}}},{key:"setHeaderRowDef",value:function(t){this._customHeaderRowDefs=new Set([t]),this._headerRowDefChanged=!0}},{key:"setFooterRowDef",value:function(t){this._customFooterRowDefs=new Set([t]),this._footerRowDefChanged=!0}},{key:"addColumnDef",value:function(t){this._customColumnDefs.add(t)}},{key:"removeColumnDef",value:function(t){this._customColumnDefs.delete(t)}},{key:"addRowDef",value:function(t){this._customRowDefs.add(t)}},{key:"removeRowDef",value:function(t){this._customRowDefs.delete(t)}},{key:"addHeaderRowDef",value:function(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}},{key:"removeHeaderRowDef",value:function(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}},{key:"addFooterRowDef",value:function(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}},{key:"removeFooterRowDef",value:function(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}},{key:"updateStickyHeaderRowStyles",value:function(){var t=this._getRenderedRows(this._headerRowOutlet),e=this._elementRef.nativeElement.querySelector("thead");e&&(e.style.display=t.length?"":"none");var n=this._headerRowDefs.map((function(t){return t.sticky}));this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,n,"top"),this._headerRowDefs.forEach((function(t){return t.resetStickyChanged()}))}},{key:"updateStickyFooterRowStyles",value:function(){var t=this._getRenderedRows(this._footerRowOutlet),e=this._elementRef.nativeElement.querySelector("tfoot");e&&(e.style.display=t.length?"":"none");var n=this._footerRowDefs.map((function(t){return t.sticky}));this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach((function(t){return t.resetStickyChanged()}))}},{key:"updateStickyColumnStyles",value:function(){var t=this,e=this._getRenderedRows(this._headerRowOutlet),n=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);this._stickyStyler.clearStickyPositioning([].concat(_toConsumableArray(e),_toConsumableArray(n),_toConsumableArray(r)),["left","right"]),e.forEach((function(e,n){t._addStickyColumnStyles([e],t._headerRowDefs[n])})),this._rowDefs.forEach((function(e){for(var r=[],i=0;i<n.length;i++)t._renderRows[i].rowDef===e&&r.push(n[i]);t._addStickyColumnStyles(r,e)})),r.forEach((function(e,n){t._addStickyColumnStyles([e],t._footerRowDefs[n])})),Array.from(this._columnDefsByName.values()).forEach((function(t){return t.resetStickyChanged()}))}},{key:"_getAllRenderRows",value:function(){var t=[],e=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(var n=0;n<this._data.length;n++){var r=this._data[n],i=this._getRenderRowsForData(r,n,e.get(r));this._cachedRenderRowsMap.has(r)||this._cachedRenderRowsMap.set(r,new WeakMap);for(var o=0;o<i.length;o++){var s=i[o],a=this._cachedRenderRowsMap.get(s.data);a.has(s.rowDef)?a.get(s.rowDef).push(s):a.set(s.rowDef,[s]),t.push(s)}}return t}},{key:"_getRenderRowsForData",value:function(t,e,n){return this._getRowDefs(t,e).map((function(r){var i=n&&n.has(r)?n.get(r):[];if(i.length){var o=i.shift();return o.dataIndex=e,o}return{data:t,rowDef:r,dataIndex:e}}))}},{key:"_cacheColumnDefs",value:function(){var t=this;this._columnDefsByName.clear(),Up(this._contentColumnDefs,this._customColumnDefs).forEach((function(e){if(t._columnDefsByName.has(e.name))throw function(t){return Error('Duplicate column definition name provided: "'.concat(t,'".'))}(e.name);t._columnDefsByName.set(e.name,e)}))}},{key:"_cacheRowDefs",value:function(){this._headerRowDefs=Up(this._contentHeaderRowDefs,this._customHeaderRowDefs),this._footerRowDefs=Up(this._contentFooterRowDefs,this._customFooterRowDefs),this._rowDefs=Up(this._contentRowDefs,this._customRowDefs);var t=this._rowDefs.filter((function(t){return!t.when}));if(!this.multiTemplateDataRows&&t.length>1)throw Error("There can only be one default row without a when predicate function.");this._defaultRowDef=t[0]}},{key:"_renderUpdatedColumns",value:function(){var t=function(t,e){return t||!!e.getColumnsDiff()};this._rowDefs.reduce(t,!1)&&this._forceRenderDataRows(),this._headerRowDefs.reduce(t,!1)&&this._forceRenderHeaderRows(),this._footerRowDefs.reduce(t,!1)&&this._forceRenderFooterRows()}},{key:"_switchDataSource",value:function(t){this._data=[],Qc(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}},{key:"_observeRenderChanges",value:function(){var t=this;if(this.dataSource){var e;if(Qc(this.dataSource)?e=this.dataSource.connect(this):this.dataSource instanceof w?e=this.dataSource:Array.isArray(this.dataSource)&&(e=cl(this.dataSource)),void 0===e)throw Error("Provided data source did not match an array, Observable, or DataSource");this._renderChangeSubscription=e.pipe(Mc(this._onDestroy)).subscribe((function(e){t._data=e||[],t.renderRows()}))}}},{key:"_forceRenderHeaderRows",value:function(){var t=this;this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((function(e,n){return t._renderRow(t._headerRowOutlet,e,n)})),this.updateStickyHeaderRowStyles(),this.updateStickyColumnStyles()}},{key:"_forceRenderFooterRows",value:function(){var t=this;this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((function(e,n){return t._renderRow(t._footerRowOutlet,e,n)})),this.updateStickyFooterRowStyles(),this.updateStickyColumnStyles()}},{key:"_addStickyColumnStyles",value:function(t,e){var n=this,r=Array.from(e.columns||[]).map((function(t){var e=n._columnDefsByName.get(t);if(!e)throw Lp(t);return e})),i=r.map((function(t){return t.sticky})),o=r.map((function(t){return t.stickyEnd}));this._stickyStyler.updateStickyColumns(t,i,o)}},{key:"_getRenderedRows",value:function(t){for(var e=[],n=0;n<t.viewContainer.length;n++){var r=t.viewContainer.get(n);e.push(r.rootNodes[0])}return e}},{key:"_getRowDefs",value:function(t,e){if(1==this._rowDefs.length)return[this._rowDefs[0]];var n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter((function(n){return!n.when||n.when(e,t)}));else{var r=this._rowDefs.find((function(n){return n.when&&n.when(e,t)}))||this._defaultRowDef;r&&n.push(r)}if(!n.length)throw function(t){return Error("Could not find a matching row definition for the"+"provided row data: ".concat(JSON.stringify(t)))}(t);return n}},{key:"_insertRow",value:function(t,e){this._renderRow(this._rowOutlet,t.rowDef,e,{$implicit:t.data})}},{key:"_renderRow",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t.viewContainer.createEmbeddedView(e.template,r,n);var i,o=_createForOfIteratorHelper(this._getCellTemplates(e));try{for(o.s();!(i=o.n()).done;){var s=i.value;Np.mostRecentCellOutlet&&Np.mostRecentCellOutlet._viewContainer.createEmbeddedView(s,r)}}catch(a){o.e(a)}finally{o.f()}this._changeDetectorRef.markForCheck()}},{key:"_updateRowIndexContext",value:function(){for(var t=this._rowOutlet.viewContainer,e=0,n=t.length;e<n;e++){var r=t.get(e).context;r.count=n,r.first=0===e,r.last=e===n-1,r.even=e%2==0,r.odd=!r.even,this.multiTemplateDataRows?(r.dataIndex=this._renderRows[e].dataIndex,r.renderIndex=e):r.index=this._renderRows[e].dataIndex}}},{key:"_getCellTemplates",value:function(t){var e=this;return t&&t.columns?Array.from(t.columns,(function(n){var r=e._columnDefsByName.get(n);if(!r)throw Lp(n);return t.extractCellTemplate(r)})):[]}},{key:"_applyNativeTableSections",value:function(){for(var t=this._document.createDocumentFragment(),e=0,n=[{tag:"thead",outlet:this._headerRowOutlet},{tag:"tbody",outlet:this._rowOutlet},{tag:"tfoot",outlet:this._footerRowOutlet}];e<n.length;e++){var r=n[e],i=this._document.createElement(r.tag);i.setAttribute("role","rowgroup"),i.appendChild(r.outlet.elementRef.nativeElement),t.appendChild(i)}this._elementRef.nativeElement.appendChild(t)}},{key:"_forceRenderDataRows",value:function(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows(),this.updateStickyColumnStyles()}},{key:"_checkStickyStates",value:function(){var t=function(t,e){return t||e.hasStickyChanged()};this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&this.updateStickyColumnStyles()}},{key:"_setupStickyStyler",value:function(){var t=this;this._stickyStyler=new Pp(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._platform.isBrowser),(this._dir?this._dir.change:cl()).pipe(Mc(this._onDestroy)).subscribe((function(e){t._stickyStyler.direction=e,t.updateStickyColumnStyles()}))}},{key:"trackBy",get:function(){return this._trackByFn},set:function(t){Kt()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(t),".")),this._trackByFn=t}},{key:"dataSource",get:function(){return this._dataSource},set:function(t){this._dataSource!==t&&this._switchDataSource(t)}},{key:"multiTemplateDataRows",get:function(){return this._multiTemplateDataRows},set:function(t){this._multiTemplateDataRows=Yu(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&this._forceRenderDataRows()}}]),t}();function Up(t,e){return t.toArray().concat(Array.from(e))}var Bp=function t(){_classCallCheck(this,t)},qp=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments)).stickyCssClass="mat-table-sticky",t}return n}(jp),zp=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(bp),Hp=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(wp),Gp=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(kp),Kp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),i=e.call(this,t,r),r.nativeElement.classList.add("mat-column-".concat(t.cssClassFriendlyName)),i}return n}(Ep),Wp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),i=e.call(this,t,r),r.nativeElement.classList.add("mat-column-".concat(t.cssClassFriendlyName)),i}return n}(Tp),Qp=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(Ip),Zp=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(xp),Yp=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(Dp),Xp=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(Op),Jp=function t(){_classCallCheck(this,t)},$p=Un({encapsulation:2,styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-footer-row,mat-row{min-height:48px}mat-footer-row,mat-header-row,mat-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-footer-row::after,mat-header-row::after,mat-row::after{display:inline-block;min-height:inherit;content:''}mat-cell:first-of-type,mat-footer-cell:first-of-type,mat-header-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type,[dir=rtl] mat-footer-cell:first-of-type,[dir=rtl] mat-header-cell:first-of-type{padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-footer-cell:last-of-type,mat-header-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type,[dir=rtl] mat-footer-cell:last-of-type,[dir=rtl] mat-header-cell:last-of-type{padding-right:0;padding-left:24px}mat-cell,mat-footer-cell,mat-header-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-footer-row,tr.mat-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}td.mat-cell,td.mat-footer-cell,th.mat-header-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type,th.mat-header-cell:first-of-type{padding-left:24px}[dir=rtl] td.mat-cell:first-of-type,[dir=rtl] td.mat-footer-cell:first-of-type,[dir=rtl] th.mat-header-cell:first-of-type{padding-left:0;padding-right:24px}td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type,th.mat-header-cell:last-of-type{padding-right:24px}[dir=rtl] td.mat-cell:last-of-type,[dir=rtl] td.mat-footer-cell:last-of-type,[dir=rtl] th.mat-header-cell:last-of-type{padding-right:0;padding-left:24px}"],data:{}});function tv(t){return qo(0,[Do(402653184,1,{_rowOutlet:0}),Do(402653184,2,{_headerRowOutlet:0}),Do(402653184,3,{_footerRowOutlet:0}),Vo(null,0),(t()(),So(4,16777216,null,null,1,null,null,null,null,null,null,null)),Qr(5,16384,[[2,4]],0,Mp,[Cn,Xe],null,null),(t()(),So(6,16777216,null,null,1,null,null,null,null,null,null,null)),Qr(7,16384,[[1,4]],0,Vp,[Cn,Xe],null,null),(t()(),So(8,16777216,null,null,1,null,null,null,null,null,null,null)),Qr(9,16384,[[3,4]],0,Fp,[Cn,Xe],null,null)],null,null)}var ev=Un({encapsulation:2,styles:[],data:{}});function nv(t){return qo(0,[(t()(),So(0,16777216,null,null,1,null,null,null,null,null,null,null)),Qr(1,147456,null,0,Np,[Cn],null,null)],null,null)}var rv=Un({encapsulation:2,styles:[],data:{}});function iv(t){return qo(0,[(t()(),So(0,16777216,null,null,1,null,null,null,null,null,null,null)),Qr(1,147456,null,0,Np,[Cn],null,null)],null,null)}var ov=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,s,a){var u;return _classCallCheck(this,n),(u=e.call(this,t))._elementRef=t,u._ngZone=r,u._changeDetectorRef=a,u._hasFocus=!1,u.chipListSelectable=!0,u._chipListMultiple=!1,u._selected=!1,u._selectable=!0,u._removable=!0,u._onFocus=new A,u._onBlur=new A,u.selectionChange=new yi,u.destroyed=new yi,u.removed=new yi,u._addHostClassName(),u._chipRipple=new rc(_assertThisInitialized(u),r,t,i),u._chipRipple.setupTriggerEvents(t),u.rippleConfig=o||{},u._animationsDisabled="NoopAnimations"===s,u}return _createClass(n,[{key:"_addHostClassName",value:function(){var t=this._elementRef.nativeElement;t.hasAttribute("mat-basic-chip")||"mat-basic-chip"===t.tagName.toLowerCase()?t.classList.add("mat-basic-chip"):t.classList.add("mat-standard-chip")}},{key:"ngOnDestroy",value:function(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}},{key:"select",value:function(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._markForCheck())}},{key:"deselect",value:function(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._markForCheck())}},{key:"selectViaInteraction",value:function(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._markForCheck())}},{key:"toggleSelected",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._selected=!this.selected,this._dispatchSelectionChange(t),this._markForCheck(),this.selected}},{key:"focus",value:function(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}},{key:"remove",value:function(){this.removable&&this.removed.emit({chip:this})}},{key:"_handleClick",value:function(t){this.disabled?t.preventDefault():t.stopPropagation()}},{key:"_handleKeydown",value:function(t){if(!this.disabled)switch(t.keyCode){case 46:case 8:this.remove(),t.preventDefault();break;case 32:this.selectable&&this.toggleSelected(!0),t.preventDefault()}}},{key:"_blur",value:function(){var t=this;this._ngZone.onStable.asObservable().pipe(xl(1)).subscribe((function(){t._ngZone.run((function(){t._hasFocus=!1,t._onBlur.next({chip:t})}))}))}},{key:"_dispatchSelectionChange",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.selectionChange.emit({source:this,isUserInput:t,selected:this._selected})}},{key:"_markForCheck",value:function(){this._changeDetectorRef&&this._changeDetectorRef.markForCheck()}},{key:"rippleDisabled",get:function(){return this.disabled||this.disableRipple||!!this.rippleConfig.disabled}},{key:"selected",get:function(){return this._selected},set:function(t){var e=Yu(t);e!==this._selected&&(this._selected=e,this._dispatchSelectionChange())}},{key:"value",get:function(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent},set:function(t){this._value=t}},{key:"selectable",get:function(){return this._selectable&&this.chipListSelectable},set:function(t){this._selectable=Yu(t)}},{key:"removable",get:function(){return this._removable},set:function(t){this._removable=Yu(t)}},{key:"ariaSelected",get:function(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}}]),n}(Kl(Wl(function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;_classCallCheck(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i)))._disabled=!1,t}return _createClass(n,[{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Yu(t)}}]),n}((function t(e){_classCallCheck(this,t),this._elementRef=e}))),"primary")),sv=new Et("mat-chips-default-options"),av=function(t){return function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;_classCallCheck(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).errorState=!1,t.stateChanges=new A,t}return _createClass(n,[{key:"updateErrorState",value:function(){var t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}]),n}(t)}((function t(e,n,r,i){_classCallCheck(this,t),this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=r,this.ngControl=i})),uv=0,lv=function t(e,n){_classCallCheck(this,t),this.source=e,this.value=n},cv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,s,a,u){var l;return _classCallCheck(this,n),(l=e.call(this,a,o,s,u))._elementRef=t,l._changeDetectorRef=r,l._dir=i,l.ngControl=u,l.controlType="mat-chip-list",l._lastDestroyedChipIndex=null,l._destroyed=new A,l._uid="mat-chip-list-".concat(uv++),l._tabIndex=0,l._userTabIndex=null,l._onTouched=function(){},l._onChange=function(){},l._multiple=!1,l._compareWith=function(t,e){return t===e},l._required=!1,l._disabled=!1,l.ariaOrientation="horizontal",l._selectable=!0,l.change=new yi,l.valueChange=new yi,l.ngControl&&(l.ngControl.valueAccessor=_assertThisInitialized(l)),l}return _createClass(n,[{key:"ngAfterContentInit",value:function(){var t=this;this._keyManager=new Rl(this.chips).withWrap().withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe(Mc(this._destroyed)).subscribe((function(e){return t._keyManager.withHorizontalOrientation(e)})),this._keyManager.tabOut.pipe(Mc(this._destroyed)).subscribe((function(){t._allowFocusEscape()})),this.chips.changes.pipe(hl(null),Mc(this._destroyed)).subscribe((function(){t.disabled&&Promise.resolve().then((function(){t._syncChipsState()})),t._resetChips(),t._initializeSelection(),t._updateTabIndex(),t._updateFocusForDestroyedChips(),t.stateChanges.next()}))}},{key:"ngOnInit",value:function(){this._selectionModel=new Xc(this.multiple,void 0,!1),this.stateChanges.next()}},{key:"ngDoCheck",value:function(){this.ngControl&&this.updateErrorState()}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}},{key:"registerInput",value:function(t){this._chipInput=t}},{key:"setDescribedByIds",value:function(t){this._ariaDescribedby=t.join(" ")}},{key:"writeValue",value:function(t){this.chips&&this._setSelectionByValue(t,!1)}},{key:"registerOnChange",value:function(t){this._onChange=t}},{key:"registerOnTouched",value:function(t){this._onTouched=t}},{key:"setDisabledState",value:function(t){this.disabled=t,this.stateChanges.next()}},{key:"onContainerClick",value:function(t){this._originatesFromChip(t)||this.focus()}},{key:"focus",value:function(t){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(t),this.stateChanges.next()))}},{key:"_focusInput",value:function(t){this._chipInput&&this._chipInput.focus(t)}},{key:"_keydown",value:function(t){var e=t.target;8===t.keyCode&&this._isInputEmpty(e)?(this._keyManager.setLastItemActive(),t.preventDefault()):e&&e.classList.contains("mat-chip")&&(36===t.keyCode?(this._keyManager.setFirstItemActive(),t.preventDefault()):35===t.keyCode?(this._keyManager.setLastItemActive(),t.preventDefault()):this._keyManager.onKeydown(t),this.stateChanges.next())}},{key:"_updateTabIndex",value:function(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}},{key:"_updateFocusForDestroyedChips",value:function(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){var t=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(t)}else this.focus();this._lastDestroyedChipIndex=null}},{key:"_isValidIndex",value:function(t){return t>=0&&t<this.chips.length}},{key:"_isInputEmpty",value:function(t){return!(!t||"input"!==t.nodeName.toLowerCase()||t.value)}},{key:"_setSelectionByValue",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this._clearSelection(),this.chips.forEach((function(t){return t.deselect()})),Array.isArray(t))t.forEach((function(t){return e._selectValue(t,n)})),this._sortValues();else{var r=this._selectValue(t,n);r&&n&&this._keyManager.setActiveItem(r)}}},{key:"_selectValue",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.chips.find((function(n){return null!=n.value&&e._compareWith(n.value,t)}));return r&&(n?r.selectViaInteraction():r.select(),this._selectionModel.select(r)),r}},{key:"_initializeSelection",value:function(){var t=this;Promise.resolve().then((function(){(t.ngControl||t._value)&&(t._setSelectionByValue(t.ngControl?t.ngControl.value:t._value,!1),t.stateChanges.next())}))}},{key:"_clearSelection",value:function(t){this._selectionModel.clear(),this.chips.forEach((function(e){e!==t&&e.deselect()})),this.stateChanges.next()}},{key:"_sortValues",value:function(){var t=this;this._multiple&&(this._selectionModel.clear(),this.chips.forEach((function(e){e.selected&&t._selectionModel.select(e)})),this.stateChanges.next())}},{key:"_propagateChanges",value:function(t){var e;e=Array.isArray(this.selected)?this.selected.map((function(t){return t.value})):this.selected?this.selected.value:t,this._value=e,this.change.emit(new lv(this,e)),this.valueChange.emit(e),this._onChange(e),this._changeDetectorRef.markForCheck()}},{key:"_blur",value:function(){var t=this;this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout((function(){t.focused||t._markAsTouched()})):this._markAsTouched())}},{key:"_markAsTouched",value:function(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}},{key:"_allowFocusEscape",value:function(){var t=this;-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout((function(){t._tabIndex=t._userTabIndex||0,t._changeDetectorRef.markForCheck()})))}},{key:"_resetChips",value:function(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}},{key:"_dropSubscriptions",value:function(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}},{key:"_listenToChipsSelection",value:function(){var t=this;this._chipSelectionSubscription=this.chipSelectionChanges.subscribe((function(e){e.source.selected?t._selectionModel.select(e.source):t._selectionModel.deselect(e.source),t.multiple||t.chips.forEach((function(e){!t._selectionModel.isSelected(e)&&e.selected&&e.deselect()})),e.isUserInput&&t._propagateChanges()}))}},{key:"_listenToChipsFocus",value:function(){var t=this;this._chipFocusSubscription=this.chipFocusChanges.subscribe((function(e){var n=t.chips.toArray().indexOf(e.chip);t._isValidIndex(n)&&t._keyManager.updateActiveItemIndex(n),t.stateChanges.next()})),this._chipBlurSubscription=this.chipBlurChanges.subscribe((function(){t._blur(),t.stateChanges.next()}))}},{key:"_listenToChipsRemoved",value:function(){var t=this;this._chipRemoveSubscription=this.chipRemoveChanges.subscribe((function(e){var n=e.chip,r=t.chips.toArray().indexOf(e.chip);t._isValidIndex(r)&&n._hasFocus&&(t._lastDestroyedChipIndex=r)}))}},{key:"_originatesFromChip",value:function(t){for(var e=t.target;e&&e!==this._elementRef.nativeElement;){if(e.classList.contains("mat-chip"))return!0;e=e.parentElement}return!1}},{key:"_hasFocusedChip",value:function(){return this.chips.some((function(t){return t._hasFocus}))}},{key:"_syncChipsState",value:function(){var t=this;this.chips&&this.chips.forEach((function(e){e.disabled=t._disabled,e._chipListMultiple=t.multiple}))}},{key:"selected",get:function(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}},{key:"role",get:function(){return this.empty?null:"listbox"}},{key:"multiple",get:function(){return this._multiple},set:function(t){this._multiple=Yu(t),this._syncChipsState()}},{key:"compareWith",get:function(){return this._compareWith},set:function(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}},{key:"value",get:function(){return this._value},set:function(t){this.writeValue(t),this._value=t}},{key:"id",get:function(){return this._chipInput?this._chipInput.id:this._uid}},{key:"required",get:function(){return this._required},set:function(t){this._required=Yu(t),this.stateChanges.next()}},{key:"placeholder",get:function(){return this._chipInput?this._chipInput.placeholder:this._placeholder},set:function(t){this._placeholder=t,this.stateChanges.next()}},{key:"focused",get:function(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}},{key:"empty",get:function(){return(!this._chipInput||this._chipInput.empty)&&0===this.chips.length}},{key:"shouldLabelFloat",get:function(){return!this.empty||this.focused}},{key:"disabled",get:function(){return this.ngControl?!!this.ngControl.disabled:this._disabled},set:function(t){this._disabled=Yu(t),this._syncChipsState()}},{key:"selectable",get:function(){return this._selectable},set:function(t){var e=this;this._selectable=Yu(t),this.chips&&this.chips.forEach((function(t){return t.chipListSelectable=e._selectable}))}},{key:"tabIndex",set:function(t){this._userTabIndex=t,this._tabIndex=t}},{key:"chipSelectionChanges",get:function(){return X.apply(void 0,_toConsumableArray(this.chips.map((function(t){return t.selectionChange}))))}},{key:"chipFocusChanges",get:function(){return X.apply(void 0,_toConsumableArray(this.chips.map((function(t){return t._onFocus}))))}},{key:"chipBlurChanges",get:function(){return X.apply(void 0,_toConsumableArray(this.chips.map((function(t){return t._onBlur}))))}},{key:"chipRemoveChanges",get:function(){return X.apply(void 0,_toConsumableArray(this.chips.map((function(t){return t.destroyed}))))}}]),n}(av),hv=function t(){_classCallCheck(this,t)},fv=function t(){_classCallCheck(this,t)},dv=Un({encapsulation:2,styles:[".mat-chip{position:relative;overflow:hidden;box-sizing:border-box;-webkit-tap-highlight-color:transparent;transform:translateZ(0)}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(.4,0,.2,1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove.mat-icon{width:18px;height:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:'';pointer-events:none;transition:opacity .2s cubic-bezier(.35,0,.25,1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:0}.mat-standard-chip:focus::after{opacity:.16}@media (-ms-high-contrast:active){.mat-standard-chip{outline:solid 1px}.mat-standard-chip:focus{outline:dotted 2px}}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper .mat-standard-chip,.mat-chip-list-wrapper input.mat-input-element{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}"],data:{}});function pv(t){return qo(2,[(t()(),So(0,0,null,null,1,"div",[["class","mat-chip-list-wrapper"]],null,null,null,null,null)),Vo(null,0)],null,null)}var vv=function t(e){_classCallCheck(this,t),this.displayedColumns=["position","name","weight","symbol"],this.items=e.collection("transactions").valueChanges()};function mv(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_l;return new w((function(n){var r;return null!=e?e.schedule((function(){r=t.onSnapshot(n)})):r=t.onSnapshot(n),function(){null!=r&&r()}}))}(t,e)}function yv(t,e){return mv(t,e).pipe(q((function(t){return{payload:t,type:"query"}})))}function gv(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new _v(t,e,n))}}var _v=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new bv(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),bv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var s;return _classCallCheck(this,n),(s=e.call(this,t)).accumulator=r,s._seed=i,s.hasSeed=o,s.index=0,s}return _createClass(n,[{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}},{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}}]),n}(m);function wv(t,e){return yv(t,e).pipe(q((function(t){return t.payload.docChanges().map((function(t){return{type:t.type,payload:t}}))})))}function kv(t,e,n){return yv(t,n).pipe(q((function(t){return t.payload.docChanges()})),gv((function(t,n){return function(t,e,n){return e.forEach((function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))})),t}(t,n,e)}),[]),q((function(t){return t.map((function(t){return{type:t.type,payload:t}}))})))}function Cv(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}var Ev=function(){function t(e,n,r){_classCallCheck(this,t),this.ref=e,this.query=n,this.afs=r}return _createClass(t,[{key:"stateChanges",value:function(t){return t&&0!==t.length?wv(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,q((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})),El((function(t){return t.length>0}))):wv(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(gv((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=Cv(t);return kv(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return yv(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,q((function(e){return e.payload.docs.map((function(e){return t.idField?Object.assign({},e.data(),_defineProperty({},t.idField,e.id)):e.data()}))})))}},{key:"get",value:function(t){return K(this.query.get(t)).pipe(Hc(this.afs.schedulers.insideAngular))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new Tv(this.ref.doc(t),this.afs)}}]),t}(),Tv=function(){function t(e,n){_classCallCheck(this,t),this.ref=e,this.afs=n}return _createClass(t,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=Zv(this.ref.collection(t),e),r=n.ref,i=n.query;return new Ev(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return mv(this.ref,this.afs.schedulers.outsideAngular).pipe(q((function(t){return{payload:t,type:"value"}}))).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){return this.snapshotChanges().pipe(q((function(t){return t.payload.data()})))}},{key:"get",value:function(t){return K(this.ref.get(t)).pipe(Hc(this.afs.schedulers.insideAngular))}}]),t}(),Sv=function(){function t(e,n){_classCallCheck(this,t),this.query=e,this.afs=n}return _createClass(t,[{key:"stateChanges",value:function(t){return t&&0!==t.length?wv(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,q((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})),El((function(t){return t.length>0}))):wv(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(gv((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=Cv(t);return kv(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){return yv(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,q((function(t){return t.payload.docs.map((function(t){return t.data()}))})))}},{key:"get",value:function(t){return K(this.query.get(t)).pipe(Hc(this.afs.schedulers.insideAngular))}}]),t}(),Iv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xc;return _classCallCheck(this,n),(r=e.call(this)).source=t,r.delayTime=i,r.scheduler=o,(!Pc(i)||i<0)&&(r.delayTime=0),o&&"function"==typeof o.schedule||(r.scheduler=xc),r}return _createClass(n,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xc;return new n(t,e,r)}},{key:"dispatch",value:function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))}}]),n}(w),Av=function(){function t(e,n){_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return new Iv(e,this.delay,this.scheduler).subscribe(t)}}]),t}();function xv(){}var Nv,Dv=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qc;_classCallCheck(this,t),this.zone=e,this.delegate=n}return _createClass(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var r=this.zone;return this.delegate.schedule((function(e){var n=this;r.runGuarded((function(){t.apply(n,[e])}))}),e,n)}}]),t}(),Ov=function(){function t(e){_classCallCheck(this,t),this.zone=e,this.task=null}return _createClass(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run((function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",xv,{},xv,xv)})),e.pipe(dl(n,n,n)).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)}}]),t}(),Rv=function t(e){_classCallCheck(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular((function(){return new Dv(Zone.current)})),this.insideAngular=e.run((function(){return new Dv(Zone.current,_l)}))},Pv=n("Wcq6"),Lv=n.n(Pv),Vv=new Et("angularfire2.app.options"),Mv=new Et("angularfire2.app.nameOrConfig"),Fv=Vv,jv=Mv,Uv=function t(){_classCallCheck(this,t)},Bv=new rn("5.4.2");function qv(t,e,n){var r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",Lv.a.apps.filter((function(t){return t&&t.name===r.name}))[0]||e.runOutsideAngular((function(){return Lv.a.initializeApp(t,r)}))}var zv=Nv=function(){function t(e){_classCallCheck(this,t),Lv.a.registerVersion&&(Lv.a.registerVersion("angularfire",Bv.full,e.toString()),Lv.a.registerVersion("angular",on.full))}return _createClass(t,null,[{key:"initializeApp",value:function(t,e){return{ngModule:Nv,providers:[{provide:Fv,useValue:t},{provide:jv,useValue:e}]}}}]),t}(),Hv=new Et("angularfire2.enableFirestorePersistence"),Gv=new Et("angularfire2.firestore.persistenceSettings"),Kv=new Et("angularfire2.firestore.settings"),Wv=parseInt(Lv.a.SDK_VERSION.split(".")[0]),Qv=Wv<5||5==Wv&&parseInt(Lv.a.SDK_VERSION.split(".")[1])<8?{timestampsInSnapshots:!0}:{};function Zv(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return{query:e(t),ref:t}}var Yv=function(){function t(e,n,r,i,o,s,a){var u=this;_classCallCheck(this,t),this.schedulers=new Rv(s),this.keepUnstableUntilFirst=function(t,e){return function(n){return qa(e)&&(n=n.lift(new Ov(t.ngZone))),n.pipe(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new Av(t,e))}}(t.outsideAngular),Hc(t.insideAngular))}}(this.schedulers,o),this.firestore=s.runOutsideAngular((function(){var t=qv(e,s,n).firestore();return t.settings(i||Qv),t})),this.persistenceEnabled$=r&&!qa(o)?s.runOutsideAngular((function(){try{return K(u.firestore.enablePersistence(a||void 0).then((function(){return!0}),(function(){return!1})))}catch(t){return cl(!1)}})):cl(!1)}return _createClass(t,[{key:"collection",value:function(t,e){var n=Zv("string"==typeof t?this.firestore.collection(t):t,e),r=n.ref,i=n.query;return new Ev(r,i,this)}},{key:"collectionGroup",value:function(t,e){if(Wv<6)throw"collection group queries require Firebase JS SDK >= 6.0";var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new Sv(n(r),this)}},{key:"doc",value:function(t){var e;return e="string"==typeof t?this.firestore.doc(t):t,new Tv(e,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}(),Xv=Un({encapsulation:0,styles:[["table[_ngcontent-%COMP%]{width:100%}"]],data:{}});function Jv(t){return qo(0,[(t()(),So(0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),Qr(1,16384,null,0,Kp,[kp,Xe],null,null),(t()(),jo(-1,null,[" Date "]))],null,null)}function $v(t){return qo(0,[(t()(),So(0,0,null,null,3,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),Qr(1,16384,null,0,Wp,[kp,Xe],null,null),(t()(),jo(2,null,[" "," "])),Fo(128,3,new Array(2))],null,(function(t,e){var n=jn(e,2,0,t(e,3,0,Lr(e.parent,0),e.context.$implicit.dateTime));t(e,2,0,n)}))}function tm(t){return qo(0,[(t()(),So(0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),Qr(1,16384,null,0,Kp,[kp,Xe],null,null),(t()(),jo(-1,null,[" Merchant Name "]))],null,null)}function em(t){return qo(0,[(t()(),So(0,0,null,null,2,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),Qr(1,16384,null,0,Wp,[kp,Xe],null,null),(t()(),jo(2,null,[" "," "]))],null,(function(t,e){t(e,2,0,e.context.$implicit.merchant.name)}))}function nm(t){return qo(0,[(t()(),So(0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),Qr(1,16384,null,0,Kp,[kp,Xe],null,null),(t()(),jo(-1,null,[" Merchant Category "]))],null,null)}function rm(t){return qo(0,[(t()(),So(0,0,null,null,2,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),Qr(1,16384,null,0,Wp,[kp,Xe],null,null),(t()(),jo(2,null,[" "," "]))],null,(function(t,e){t(e,2,0,e.context.$implicit.merchant.category.name)}))}function im(t){return qo(0,[(t()(),So(0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),Qr(1,16384,null,0,Kp,[kp,Xe],null,null),(t()(),jo(-1,null,[" Place "]))],null,null)}function om(t){return qo(0,[(t()(),So(0,0,null,null,2,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),Qr(1,16384,null,0,Wp,[kp,Xe],null,null),(t()(),jo(2,null,[" "," "]))],null,(function(t,e){t(e,2,0,e.context.$implicit.merchant.city)}))}function sm(t){return qo(0,[(t()(),So(0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),Qr(1,16384,null,0,Kp,[kp,Xe],null,null),(t()(),jo(-1,null,[" Place "]))],null,null)}function am(t){return qo(0,[(t()(),So(0,0,null,null,2,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),Qr(1,16384,null,0,Wp,[kp,Xe],null,null),(t()(),jo(2,null,[" "," "," "]))],null,(function(t,e){t(e,2,0,e.context.$implicit.currencyCode,e.context.$implicit.centsAmount/100)}))}function um(t){return qo(0,[(t()(),So(0,0,null,null,2,"tr",[["class","mat-header-row"],["mat-header-row",""],["role","row"]],null,null,null,nv,ev)),Yr(6144,null,Dp,null,[Yp]),Qr(2,49152,null,0,Yp,[],null,null)],null,null)}function lm(t){return qo(0,[(t()(),So(0,0,null,null,2,"tr",[["class","mat-row"],["mat-row",""],["role","row"]],null,null,null,iv,rv)),Yr(6144,null,Op,null,[Xp]),Qr(2,49152,null,0,Xp,[],null,null)],null,null)}function cm(t){return qo(0,[(t()(),So(0,0,null,null,2,"li",[["class","text"]],null,null,null,null,null)),(t()(),jo(1,null,[" "," "])),Zr(0,ja,[])],null,(function(t,e){t(e,1,0,jn(e,1,0,Lr(e,2).transform(e.context.$implicit)))}))}function hm(t){return qo(0,[Zr(0,Fa,[xi]),(t()(),So(1,0,null,null,30,"div",[["style","padding-left: 20px"]],null,null,null,null,null)),(t()(),So(2,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),jo(-1,null,["Transactions"])),(t()(),So(4,0,null,null,27,"mat-chip-list",[["aria-label","Fish selection"],["class","mat-chip-list"]],[[1,"tabindex",0],[1,"aria-describedby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-multiselectable",0],[1,"role",0],[2,"mat-chip-list-disabled",null],[2,"mat-chip-list-invalid",null],[2,"mat-chip-list-required",null],[1,"aria-orientation",0],[8,"id",0]],[[null,"focus"],[null,"blur"],[null,"keydown"]],(function(t,e,n){var r=!0;return"focus"===e&&(r=!1!==Lr(t,6).focus()&&r),"blur"===e&&(r=!1!==Lr(t,6)._blur()&&r),"keydown"===e&&(r=!1!==Lr(t,6)._keydown(n)&&r),r}),pv,dv)),Yr(6144,null,fv,null,[cv]),Qr(6,1556480,null,1,cv,[Xe,we,[2,dc],[2,np],[2,rp],Zl,[8,null]],null,null),Do(603979776,1,{chips:1}),(t()(),So(8,0,null,0,5,"mat-chip",[["class","mat-chip"],["role","option"]],[[1,"tabindex",0],[2,"mat-chip-selected",null],[2,"mat-chip-with-avatar",null],[2,"mat-chip-with-trailing-icon",null],[2,"mat-chip-disabled",null],[2,"_mat-animation-noopable",null],[1,"disabled",0],[1,"aria-disabled",0],[1,"aria-selected",0]],[[null,"click"],[null,"keydown"],[null,"focus"],[null,"blur"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Lr(t,9)._handleClick(n)&&r),"keydown"===e&&(r=!1!==Lr(t,9)._handleKeydown(n)&&r),"focus"===e&&(r=!1!==Lr(t,9).focus()&&r),"blur"===e&&(r=!1!==Lr(t,9)._blur()&&r),r}),null,null)),Qr(9,147456,[[1,4]],3,ov,[Xe,Ki,el,[2,ic],[2,_d],we],null,null),Do(603979776,2,{avatar:0}),Do(603979776,3,{trailingIcon:0}),Do(603979776,4,{removeIcon:0}),(t()(),jo(-1,null,["High Value"])),(t()(),So(14,0,null,0,5,"mat-chip",[["class","mat-chip"],["role","option"]],[[1,"tabindex",0],[2,"mat-chip-selected",null],[2,"mat-chip-with-avatar",null],[2,"mat-chip-with-trailing-icon",null],[2,"mat-chip-disabled",null],[2,"_mat-animation-noopable",null],[1,"disabled",0],[1,"aria-disabled",0],[1,"aria-selected",0]],[[null,"click"],[null,"keydown"],[null,"focus"],[null,"blur"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Lr(t,15)._handleClick(n)&&r),"keydown"===e&&(r=!1!==Lr(t,15)._handleKeydown(n)&&r),"focus"===e&&(r=!1!==Lr(t,15).focus()&&r),"blur"===e&&(r=!1!==Lr(t,15)._blur()&&r),r}),null,null)),Qr(15,147456,[[1,4]],3,ov,[Xe,Ki,el,[2,ic],[2,_d],we],null,null),Do(603979776,5,{avatar:0}),Do(603979776,6,{trailingIcon:0}),Do(603979776,7,{removeIcon:0}),(t()(),jo(-1,null,["Low Value"])),(t()(),So(20,0,null,0,5,"mat-chip",[["class","mat-chip"],["color","primary"],["role","option"]],[[1,"tabindex",0],[2,"mat-chip-selected",null],[2,"mat-chip-with-avatar",null],[2,"mat-chip-with-trailing-icon",null],[2,"mat-chip-disabled",null],[2,"_mat-animation-noopable",null],[1,"disabled",0],[1,"aria-disabled",0],[1,"aria-selected",0]],[[null,"click"],[null,"keydown"],[null,"focus"],[null,"blur"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Lr(t,21)._handleClick(n)&&r),"keydown"===e&&(r=!1!==Lr(t,21)._handleKeydown(n)&&r),"focus"===e&&(r=!1!==Lr(t,21).focus()&&r),"blur"===e&&(r=!1!==Lr(t,21)._blur()&&r),r}),null,null)),Qr(21,147456,[[1,4]],3,ov,[Xe,Ki,el,[2,ic],[2,_d],we],{color:[0,"color"]},null),Do(603979776,8,{avatar:0}),Do(603979776,9,{trailingIcon:0}),Do(603979776,10,{removeIcon:0}),(t()(),jo(-1,null,["Simulated"])),(t()(),So(26,0,null,0,5,"mat-chip",[["class","mat-chip"],["color","accent"],["role","option"],["selected",""]],[[1,"tabindex",0],[2,"mat-chip-selected",null],[2,"mat-chip-with-avatar",null],[2,"mat-chip-with-trailing-icon",null],[2,"mat-chip-disabled",null],[2,"_mat-animation-noopable",null],[1,"disabled",0],[1,"aria-disabled",0],[1,"aria-selected",0]],[[null,"click"],[null,"keydown"],[null,"focus"],[null,"blur"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Lr(t,27)._handleClick(n)&&r),"keydown"===e&&(r=!1!==Lr(t,27)._handleKeydown(n)&&r),"focus"===e&&(r=!1!==Lr(t,27).focus()&&r),"blur"===e&&(r=!1!==Lr(t,27)._blur()&&r),r}),null,null)),Qr(27,147456,[[1,4]],3,ov,[Xe,Ki,el,[2,ic],[2,_d],we],{color:[0,"color"],selected:[1,"selected"]},null),Do(603979776,11,{avatar:0}),Do(603979776,12,{trailingIcon:0}),Do(603979776,13,{removeIcon:0}),(t()(),jo(-1,null,["All Transactions"])),(t()(),So(32,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),So(33,0,null,null,77,"table",[["class","mat-elevation-z8 mat-table"],["mat-table",""]],null,null,null,tv,$p)),Yr(6144,null,jp,null,[qp]),Qr(35,2342912,null,4,qp,[mn,we,Xe,[8,null],[2,dc],Ba,el],{dataSource:[0,"dataSource"]},null),Do(603979776,14,{_contentColumnDefs:1}),Do(603979776,15,{_contentRowDefs:1}),Do(603979776,16,{_contentHeaderRowDefs:1}),Do(603979776,17,{_contentFooterRowDefs:1}),(t()(),So(40,0,null,null,12,null,null,null,null,null,null,null)),Yr(6144,null,"MAT_SORT_HEADER_COLUMN_DEF",null,[Gp]),Qr(42,16384,null,3,Gp,[],{name:[0,"name"]},null),Do(603979776,18,{cell:0}),Do(603979776,19,{headerCell:0}),Do(603979776,20,{footerCell:0}),Yr(2048,[[14,4]],kp,null,[Gp]),(t()(),To(0,null,null,2,null,Jv)),Qr(48,16384,null,0,Hp,[wn],null,null),Yr(2048,[[19,4]],wp,null,[Hp]),(t()(),To(0,null,null,2,null,$v)),Qr(51,16384,null,0,zp,[wn],null,null),Yr(2048,[[18,4]],bp,null,[zp]),(t()(),So(53,0,null,null,12,null,null,null,null,null,null,null)),Yr(6144,null,"MAT_SORT_HEADER_COLUMN_DEF",null,[Gp]),Qr(55,16384,null,3,Gp,[],{name:[0,"name"]},null),Do(603979776,21,{cell:0}),Do(603979776,22,{headerCell:0}),Do(603979776,23,{footerCell:0}),Yr(2048,[[14,4]],kp,null,[Gp]),(t()(),To(0,null,null,2,null,tm)),Qr(61,16384,null,0,Hp,[wn],null,null),Yr(2048,[[22,4]],wp,null,[Hp]),(t()(),To(0,null,null,2,null,em)),Qr(64,16384,null,0,zp,[wn],null,null),Yr(2048,[[21,4]],bp,null,[zp]),(t()(),So(66,0,null,null,12,null,null,null,null,null,null,null)),Yr(6144,null,"MAT_SORT_HEADER_COLUMN_DEF",null,[Gp]),Qr(68,16384,null,3,Gp,[],{name:[0,"name"]},null),Do(603979776,24,{cell:0}),Do(603979776,25,{headerCell:0}),Do(603979776,26,{footerCell:0}),Yr(2048,[[14,4]],kp,null,[Gp]),(t()(),To(0,null,null,2,null,nm)),Qr(74,16384,null,0,Hp,[wn],null,null),Yr(2048,[[25,4]],wp,null,[Hp]),(t()(),To(0,null,null,2,null,rm)),Qr(77,16384,null,0,zp,[wn],null,null),Yr(2048,[[24,4]],bp,null,[zp]),(t()(),So(79,0,null,null,12,null,null,null,null,null,null,null)),Yr(6144,null,"MAT_SORT_HEADER_COLUMN_DEF",null,[Gp]),Qr(81,16384,null,3,Gp,[],{name:[0,"name"]},null),Do(603979776,27,{cell:0}),Do(603979776,28,{headerCell:0}),Do(603979776,29,{footerCell:0}),Yr(2048,[[14,4]],kp,null,[Gp]),(t()(),To(0,null,null,2,null,im)),Qr(87,16384,null,0,Hp,[wn],null,null),Yr(2048,[[28,4]],wp,null,[Hp]),(t()(),To(0,null,null,2,null,om)),Qr(90,16384,null,0,zp,[wn],null,null),Yr(2048,[[27,4]],bp,null,[zp]),(t()(),So(92,0,null,null,12,null,null,null,null,null,null,null)),Yr(6144,null,"MAT_SORT_HEADER_COLUMN_DEF",null,[Gp]),Qr(94,16384,null,3,Gp,[],{name:[0,"name"]},null),Do(603979776,30,{cell:0}),Do(603979776,31,{headerCell:0}),Do(603979776,32,{footerCell:0}),Yr(2048,[[14,4]],kp,null,[Gp]),(t()(),To(0,null,null,2,null,sm)),Qr(100,16384,null,0,Hp,[wn],null,null),Yr(2048,[[31,4]],wp,null,[Hp]),(t()(),To(0,null,null,2,null,am)),Qr(103,16384,null,0,zp,[wn],null,null),Yr(2048,[[30,4]],bp,null,[zp]),(t()(),To(0,null,null,2,null,um)),Qr(106,540672,null,0,Qp,[wn,mn],{columns:[0,"columns"]},null),Yr(2048,[[16,4]],Ip,null,[Qp]),(t()(),To(0,null,null,2,null,lm)),Qr(109,540672,null,0,Zp,[wn,mn],{columns:[0,"columns"]},null),Yr(2048,[[15,4]],xp,null,[Zp]),(t()(),So(111,0,null,null,3,"ul",[],null,null,null,null,null)),(t()(),To(16777216,null,null,2,null,cm)),Qr(113,278528,null,0,Aa,[Cn,wn,mn],{ngForOf:[0,"ngForOf"]},null),Zr(131072,Ma,[we])],(function(t,e){var n=e.component;t(e,6,0),t(e,21,0,"primary"),t(e,27,0,"accent",""),t(e,35,0,n.items),t(e,42,0,"position"),t(e,55,0,"name"),t(e,68,0,"weight"),t(e,81,0,"symbol"),t(e,94,0,"new"),t(e,106,0,n.displayedColumns),t(e,109,0,n.displayedColumns),t(e,113,0,jn(e,113,0,Lr(e,114).transform(n.items)))}),(function(t,e){t(e,4,1,[Lr(e,6).disabled?null:Lr(e,6)._tabIndex,Lr(e,6)._ariaDescribedby||null,Lr(e,6).required.toString(),Lr(e,6).disabled.toString(),Lr(e,6).errorState,Lr(e,6).multiple,Lr(e,6).role,Lr(e,6).disabled,Lr(e,6).errorState,Lr(e,6).required,Lr(e,6).ariaOrientation,Lr(e,6)._uid]),t(e,8,0,Lr(e,9).disabled?null:-1,Lr(e,9).selected,Lr(e,9).avatar,Lr(e,9).trailingIcon||Lr(e,9).removeIcon,Lr(e,9).disabled,Lr(e,9)._animationsDisabled,Lr(e,9).disabled||null,Lr(e,9).disabled.toString(),Lr(e,9).ariaSelected),t(e,14,0,Lr(e,15).disabled?null:-1,Lr(e,15).selected,Lr(e,15).avatar,Lr(e,15).trailingIcon||Lr(e,15).removeIcon,Lr(e,15).disabled,Lr(e,15)._animationsDisabled,Lr(e,15).disabled||null,Lr(e,15).disabled.toString(),Lr(e,15).ariaSelected),t(e,20,0,Lr(e,21).disabled?null:-1,Lr(e,21).selected,Lr(e,21).avatar,Lr(e,21).trailingIcon||Lr(e,21).removeIcon,Lr(e,21).disabled,Lr(e,21)._animationsDisabled,Lr(e,21).disabled||null,Lr(e,21).disabled.toString(),Lr(e,21).ariaSelected),t(e,26,0,Lr(e,27).disabled?null:-1,Lr(e,27).selected,Lr(e,27).avatar,Lr(e,27).trailingIcon||Lr(e,27).removeIcon,Lr(e,27).disabled,Lr(e,27)._animationsDisabled,Lr(e,27).disabled||null,Lr(e,27).disabled.toString(),Lr(e,27).ariaSelected)}))}var fm=Un({encapsulation:0,styles:[["table[_ngcontent-%COMP%]{width:100%}mat-sidenav[_ngcontent-%COMP%]{width:200px}"]],data:{}});function dm(t){return qo(0,[(t()(),So(0,0,null,null,6,"mat-toolbar",[["class","mat-toolbar"],["color","primary"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,mc,vc)),Qr(1,4243456,null,1,cc,[Xe,el,Ba],{color:[0,"color"]},null),Do(603979776,1,{_toolbarRows:1}),(t()(),So(3,0,null,1,3,"mat-toolbar-row",[["class","mat-toolbar-row"]],null,null,null,null,null)),Qr(4,16384,[[1,4]],0,lc,[],null,null),(t()(),So(5,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),jo(-1,null,["Custom Client Application"])),(t()(),So(7,0,null,null,11,"mat-sidenav-container",[["class","example-container mat-drawer-container mat-sidenav-container"]],[[2,"mat-drawer-container-explicit-backdrop",null]],null,null,Ad,Td)),Qr(8,1490944,null,2,sh,[[2,dc],Xe,Ki,we,eh,rh,[2,_d]],null,null),Do(603979776,2,{_drawers:1}),Do(603979776,3,{_content:0}),(t()(),So(11,0,null,0,3,"mat-sidenav",[["class","mat-drawer mat-sidenav"],["mode","side"],["opened",""],["tabIndex","-1"]],[[1,"align",0],[2,"mat-drawer-end",null],[2,"mat-drawer-over",null],[2,"mat-drawer-push",null],[2,"mat-drawer-side",null],[2,"mat-drawer-opened",null],[2,"mat-sidenav-fixed",null],[4,"top","px"],[4,"bottom","px"],[40,"@transform",0]],[["component","@transform.start"],["component","@transform.done"]],(function(t,e,n){var r=!0;return"component:@transform.start"===e&&(r=!1!==Lr(t,12)._animationStartListener(n)&&r),"component:@transform.done"===e&&(r=!1!==Lr(t,12)._animationDoneListener(n)&&r),r}),Ed,Cd)),Qr(12,3325952,[[2,4]],0,oh,[Xe,Ul,ql,el,Ki,[2,Ba]],{mode:[0,"mode"],opened:[1,"opened"]},null),(t()(),So(13,0,null,0,1,"app-sidenav",[],null,null,null,yp,mp)),Qr(14,114688,null,0,vp,[],null,null),(t()(),So(15,0,null,1,3,"mat-sidenav-content",[["class","mat-drawer-content mat-sidenav-content"]],[[4,"margin-left","px"],[4,"margin-right","px"]],null,null,kd,wd)),Qr(16,1294336,[[3,4]],0,ih,[we,sh,Xe,Jc,Ki],null,null),(t()(),So(17,0,null,0,1,"app-main-content",[],null,null,null,hm,Xv)),Qr(18,49152,null,0,vv,[Yv],null,null)],(function(t,e){t(e,1,0,"primary"),t(e,8,0),t(e,12,0,"side",""),t(e,14,0),t(e,16,0)}),(function(t,e){t(e,0,0,Lr(e,1)._toolbarRows.length>0,0===Lr(e,1)._toolbarRows.length),t(e,7,0,Lr(e,8)._backdropOverride),t(e,11,0,null,"end"===Lr(e,12).position,"over"===Lr(e,12).mode,"push"===Lr(e,12).mode,"side"===Lr(e,12).mode,Lr(e,12).opened,Lr(e,12).fixedInViewport,Lr(e,12).fixedInViewport?Lr(e,12).fixedTopGap:null,Lr(e,12).fixedInViewport?Lr(e,12).fixedBottomGap:null,Lr(e,12)._animationState),t(e,15,0,Lr(e,16)._container._contentMargins.left,Lr(e,16)._container._contentMargins.right)}))}var pm,vm=new Tr("app-root",Zs,(function(t){return qo(0,[(t()(),So(0,0,null,null,1,"app-root",[],null,null,null,dm,fm)),Qr(1,49152,null,0,Zs,[],null,null)],null,null)}),{},{},[]);n("6Joi");var mm=pm=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"enablePersistence",value:function(t){return{ngModule:pm,providers:[{provide:Hv,useValue:!0},{provide:Gv,useValue:t}]}}}]),t}(),ym=function t(){_classCallCheck(this,t)},gm=new Ws(Qs,[Zs],(function(t){return function(t){for(var e={},n=[],r=!1,i=0;i<t.length;i++){var o=t[i];o.token===Ce&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,e[Fn(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}([gr(512,We,Qe,[[8,[vm]],[3,We],Lt]),gr(5120,xi,ko,[[3,xi]]),gr(4608,Ta,Sa,[xi,[2,Ea]]),gr(5120,hi,Co,[Ki]),gr(4608,Mi,Mi,[]),gr(5120,ki,Ci,[]),gr(5120,mn,bo,[]),gr(5120,yn,wo,[]),gr(4608,Mu,Fu,[Ba]),gr(6144,ve,null,[Mu]),gr(4608,Nu,Ou,[]),gr(5120,ou,(function(t,e,n,r,i,o,s,a){return[new Au(t,e,n),new Vu(r),new Ru(i,o,s,a)]}),[Ba,Ki,Si,Ba,Ba,Nu,Ai,[2,Du]]),gr(4608,su,su,[ou,Ki]),gr(135680,lu,lu,[Ba]),gr(4608,pu,pu,[su,lu,ki]),gr(5120,Ah,md,[]),gr(5120,yf,yd,[]),gr(4608,Hf,vd,[Ba,Ah,yf]),gr(5120,$e,gd,[pu,Hf,Ki]),gr(6144,uu,null,[lu]),gr(4608,to,to,[Ki]),gr(5120,Uv,qv,[Vv,Ki,[2,Mv]]),gr(4608,Yv,Yv,[Vv,[2,Mv],[2,Hv],[2,Kv],Si,Ki,[2,Gv]]),gr(4608,yc,ud,[$e,Ba]),gr(4608,Zl,Zl,[]),gr(1073742336,Ua,Ua,[]),gr(1024,zt,Ku,[]),gr(1024,bi,(function(t){return[(e=t,nu("probe",iu),nu("coreTokens",Object.assign({},ru,(e||[]).reduce((function(t,e){return t[e.name]=e.token,t}),{}))),function(){return iu})];var e}),[[2,io]]),gr(512,wi,wi,[[2,bi]]),gr(131584,co,co,[Ki,Ai,Te,zt,We,wi]),gr(1073742336,Eo,Eo,[co]),gr(1073742336,Wu,Wu,[[3,Wu]]),gr(1073742336,zv,zv,[Si]),gr(1073742336,mm,mm,[]),gr(1073742336,bd,bd,[]),gr(1073742336,pc,pc,[]),gr(1073742336,Gl,Gl,[[2,Hl],[2,Du]]),gr(1073742336,nl,nl,[]),gr(1073742336,th,th,[]),gr(1073742336,ah,ah,[]),gr(1073742336,Jl,Jl,[]),gr(1073742336,sc,sc,[]),gr(1073742336,ac,ac,[]),gr(1073742336,cp,cp,[]),gr(1073742336,lp,lp,[]),gr(1073742336,Bp,Bp,[]),gr(1073742336,Jp,Jp,[]),gr(1073742336,hc,hc,[]),gr(1073742336,ym,ym,[]),gr(1073742336,hv,hv,[]),gr(1073742336,Qs,Qs,[]),gr(256,Ce,!0,[]),gr(256,Vv,{apiKey:"[apiKey]",authDomain:"[authDomain]",databaseURL:"[databaseURL]",projectId:"[projectId]",storageBucket:"[storageBucket]",messagingSenderId:"[messagingSenderId]",appId:"[appId]"},[]),gr(256,Mv,void 0,[]),gr(256,_d,"BrowserAnimations",[]),gr(256,sv,{separatorKeyCodes:[13]},[])])}));(function(){if(Gt)throw new Error("Cannot enable prod mode after platform setup.");Ht=!1})(),Gu().bootstrapModuleFactory(gm).catch((function(t){return console.error(t)}))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=(15&a)<<2|l>>6,h=63&l;u||(h=64,s||(c=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[c],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},l=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=c(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var d=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,p.prototype.create),i}return r.__extends(e,t),e}(Error),p=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?v(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new d(i,a),l=0,c=Object.keys(r);l<c.length;l++){var h=c[l];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},t}();function v(t,e){return t.replace(m,(function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"}))}var m=/\{\$([^}]+)}/g;function y(t){return JSON.parse(t)}var g=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=y(l(o[0])||""),n=y(l(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},_=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=l^a&(u^l),o=1518500249):(i=a^u^l,o=1859775393):r<60?(i=a&u|l&(a|u),o=2400959708):(i=a^u^l,o=3395469782);var h=(s<<5|s>>>27)+i+c+o+n[r]&4294967295;c=l,l=u,u=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),b=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=w),void 0===r.error&&(r.error=w),void 0===r.complete&&(r.complete=w);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function w(){}function k(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=p,e.FirebaseError=d,e.Sha1=_,e.assert=o,e.assertionError=s,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=u,e.base64Decode=l,e.base64Encode=function(t){var e=a(t);return u.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new b(t,e);return n.subscribe.bind(n)},e.decode=g,e.deepCopy=function(t){return c(void 0,t)},e.deepExtend=c,e.errorPrefix=k,e.getUA=f,e.isAdmin=function(t){var e=g(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return f().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isUWP=function(){return f().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=g(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=g(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=g(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=y,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(k(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(k(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(k(t,e,r)+"must be a valid firebase namespace.")}},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);